{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u5173\u4e8eRISC-V\u4f60\u6240\u9700\u8981\u77e5\u9053\u7684\u4e00\u5207","text":""},{"location":"#_1","title":"\u672c\u4e66\u4ecb\u7ecd","text":"<p>\u5f53\u4eba\u4eec\u5728\u8c08\u8bbaRISC-V\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u5728\u8c08\u4e9b\u4ec0\u4e48\uff1f\u672c\u4e66\u5c1d\u8bd5\u544a\u8bc9\u60a8\u7b54\u6848\u3002</p> <p>\u672c\u4e66\u8ba1\u5212\u91c7\u7528\u4f17\u5305\u7684\u65b9\u5f0f\u5b8c\u6210\uff0c\u6b22\u8fceRISC-V\u7684\u7231\u597d\u8005\u8d21\u732e\u81ea\u5df1\u7684\u529b\u91cf\uff0c\u4ee5\u63a8\u52a8RISC-V\u5728\u4e2d\u56fd\u7684\u666e\u53ca\uff0c\u540c\u65f6\u5171\u540c\u5b66\u4e60\u8fdb\u6b65\u3002</p> <p> \u672c\u4f5c\u54c1\u91c7\u7528\u77e5\u8bc6\u5171\u4eab\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u76f8\u540c\u65b9\u5f0f\u5171\u4eab 3.0 \u4e2d\u56fd\u5927\u9646\u8bb8\u53ef\u534f\u8bae\u8fdb\u884c\u8bb8\u53ef\u3002</p>"},{"location":"#_2","title":"\u5982\u4f55\u8d21\u732e","text":"<p>...</p>"},{"location":"SUMMARY/","title":"Summary","text":"<ul> <li>\u5185\u5bb9\u7b80\u4ecb</li> <li>\u7b2c\u4e00\u7ae0 RISC-V\u4ea7\u751f\u7684\u65f6\u4ee3\u80cc\u666f</li> <li>1 \u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u548c\u5904\u7406\u5668\u5fae\u7ed3\u6784</li> <li>2 \u73b0\u6709\u6307\u4ee4\u96c6</li> <li>3 \u786c\u4ef6\u5f00\u53d1\u7684\u53d8\u8fc1</li> <li>4 \u5f00\u6e90\u8fd0\u52a8</li> <li>\u53c2\u8003\u6587\u732e</li> <li>\u7b2c\u4e8c\u7ae0 RISC-V</li> <li>1 RISC-V\u7684\u5386\u53f2</li> <li>2 RISC-V\u7684\u57fa\u672c\u8bbe\u8ba1\u539f\u7406</li> <li>3 RISC-V\u7279\u6743\u6307\u4ee4\u8bbe\u8ba1</li> <li>4 \u5185\u5b58\u6a21\u578b</li> <li>5 RISC-V\u7684\u538b\u7f29\u6307\u4ee4</li> <li>6 RISC-V\u7684\u6269\u5c55\u6307\u4ee4\u96c6</li> <li>7 Spike\u6a21\u62df\u5668</li> <li>8 RISC-V\u7684\u8f6f\u4ef6\u751f\u6001</li> <li>9 RISC-V\u5728\u4ea7\u4e1a\u754c\u4e0e\u5b66\u672f\u754c\u7684\u73b0\u72b6</li> <li>\u53c2\u8003\u6587\u732e</li> <li>\u7b2c\u4e09\u7ae0 Rocket-Chip\u6982\u8ff0</li> <li>1 Chisel\u548cFIRRTL</li> <li>2 Rocket-Chip\u7684\u57fa\u672c\u7ed3\u6784</li> <li>3 TileLink\u7247\u4e0a\u603b\u7ebf</li> <li>4 \u7f13\u5b58\u4e00\u81f4\u6027\u4e0e\u7247\u4e0a\u4e92\u8054\u603b\u7ebf</li> <li>5 Rocket-chip\u7684\u4eff\u771f\u548c\u6d4b\u8bd5</li> <li>\u53c2\u8003\u6587\u732e</li> <li>\u7b2c\u56db\u7ae0 Rocket\u5904\u7406\u5668</li> <li>1 Rocket\u4ecb\u7ecd</li> <li>2 Rocket\u7684\u57fa\u672c\u6d41\u6c34\u7ebf</li> <li>3 \u6307\u4ee4\u7f13\u5b58\u4ee5\u53ca\u5206\u652f\u9884\u6d4b</li> <li>4 \u6570\u636e\u7f13\u5b58</li> <li>5 \u865a\u62df\u5185\u5b58\u652f\u6301</li> <li>6 Rocket\u5904\u7406\u5668RoCC\u8bbe\u8ba1\u5206\u6790</li> <li>\u53c2\u8003\u6587\u732e</li> <li>\u7b2c\u4e94\u7ae0 BOOM\u5904\u7406\u5668</li> <li>\u7b2c\u516d\u7ae0 SiFive\u516c\u53f8\u7684Freedom\u7cfb\u5217</li> <li>\u7b2c\u4e03\u7ae0 lowRISC</li> <li>\u7b2c\u516b\u7ae0 PULPino</li> <li>8.1 PULP\u4ecb\u7ecd\uff08\u5df2\u5b8c\u6210\uff09</li> <li>8.2 PULPino\u4ecb\u7ecd\uff08\u5df2\u5b8c\u6210\uff09</li> <li>8.3 RI5CY\u4ecb\u7ecd\uff08\u5df2\u5b8c\u6210\uff09</li> <li>8.4 \u786c\u4ef6\u5faa\u73af\u673a\u5236\u5206\u6790\uff08\u5df2\u5b8c\u6210\uff09</li> <li>\u7b2c\u4e5d\u7ae0 \u6d6e\u70b9\u8fd0\u7b97</li> </ul>"},{"location":"outline/","title":"\u5f85\u8ba8\u8bba\u5927\u7eb2","text":"<p>\u4ee5\u4e0b\u4e3a\u521d\u6b65\u7684\u5927\u7eb2\u8349\u7a3f\uff0c\u6216\u8bb8\u6709\u5f88\u591a\u4e0d\u8db3\u7684\u5730\u65b9\uff0c\u6b22\u8fce\u5404\u4f4d\u63d0\u51fa\u5b9d\u8d35\u7684\u5efa\u8bae\u3002</p>"},{"location":"outline/#risc-v","title":"\u7b2c\u4e00\u7ae0 RISC-V\u4ea7\u751f\u7684\u65f6\u4ee3\u80cc\u666f","text":""},{"location":"outline/#1","title":"1 \u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u548c\u5904\u7406\u5668\u5fae\u7ed3\u6784","text":"<ul> <li> <p>ISA\u7684\u4ea7\u751f</p> </li> <li> <p>\u533a\u5206\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u548c\u5fae\u7ed3\u6784</p> </li> <li>\u4f53\u7cfb\u7ed3\u6784(computer architecture)\u5b9a\u4e49\u7684\u662f\u786c\u4ef6\u548c\u8f6f\u4ef6\u7684\u63a5\u53e3\uff0c\u5e76\u6ca1\u6709\u6307\u5b9a\u5b9e\u73b0\u3002RISC-V\u5373\u5b9a\u4e49\u7684\u4f53\u7cfb\u7ed3\u6784\u3002</li> <li> <p>\u5fae\u7ed3\u6784(processor microarchitecture)\u5219\u63cf\u8ff0\u7684\u662f\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5904\u7406\u5668\u6765\u7b26\u5408\u4e00\u4e2a\u4f53\u7cfb\u7ed3\u6784\u3002\u4f53\u7cfb\u7ed3\u6784\u5e76\u4e0d\u5b9a\u4e49\u5fae\u7ed3\u6784\u3002</p> </li> <li> <p>\u6307\u4ee4\u7ea7\u67b6\u6784(instruction set architecture, ISA)</p> </li> <li>ISA\u5b9a\u4e49\u7684\u5185\u5bb9\uff1a\u6307\u4ee4\u7f16\u7801\uff0c\u5185\u5b58\u6a21\u578b\uff0cIO\u6a21\u578b\uff0c\u903b\u8f91\u5bc4\u5b58\u5668\u6570\u91cf\u548c\u529f\u80fd\uff0c\u63a7\u5236\u5bc4\u5b58\u5668\uff0c\u7279\u6743\u7ea7\u522b\u3002</li> <li>\u4e00\u6761\u6307\u4ee4\u90fd\u5305\u542b\u4ec0\u4e48\uff1a \u6307\u4ee4\u529f\u80fd\uff0c\u64cd\u4f5c\u5bf9\u8c61(\u7acb\u5373\u6570\uff0c\u666e\u901a\u5bc4\u5b58\u5668\uff0c\u7279\u6b8a\u5bc4\u5b58\u5668\uff0c\u5185\u5b58), \u73af\u5883\u53d8\u91cf(\u6807\u5fd7\u4f4d\uff0c\u7279\u6743\u7ea7\u522b)\uff0c\u6307\u4ee4\u7f16\u7801\u3002</li> <li>\u6307\u4ee4\u7684\u529f\u80fd\u5206\u7c7b\uff1a\u903b\u8f91\u6307\u4ee4\uff0c\u6570\u5b66\u6307\u4ee4\uff0c\u63a7\u5236\u6307\u4ee4\uff0c\u5185\u5b58\u6307\u4ee4\uff0cIO\u6307\u4ee4\uff0c\u7279\u6b8a\u6307\u4ee4\u3002</li> <li>CISC\u548cRISC</li> <li>\u5904\u7406\u5668\u5fae\u7ed3\u6784</li> <li>\u6d41\u6c34\u7ebf</li> <li>\u591a\u53d1\u4e71\u5e8f\u6d41\u6c34\u7ebf</li> <li>\u591a\u7ebf\u7a0b\u6d41\u6c34\u7ebf</li> <li>\u591a\u6838</li> <li>\u7279\u6b8a\u6d41\u6c34\u7ebf\uff1aVLWI, vector, GPU</li> <li>\u4f53\u7cfb\u7ed3\u6784\u4e0e\u5fae\u7ed3\u6784\u7684\u4e92\u76f8\u5f71\u54cd</li> <li>\u6bd4\u8f83CISC\u548cRISC\u7684\u7279\u6027\u3002   RISC\u7684\u6bcf\u6761\u6307\u4ee4\u529f\u80fd\u590d\u6742\u5ea6\u57fa\u672c\u4e00\u81f4\uff0c\u6267\u884c\u65f6\u95f4\u57fa\u672c\u4e00\u81f4\uff0c\u7f16\u7801\u957f\u5ea6\u57fa\u672c\u4e00\u81f4\uff0c\u6d41\u6c34\u7ebf\u63a7\u5236\u7b80\u5355\uff0c\u6307\u4ee4\u8c03\u5ea6\u7b80\u5355\uff0c\u4ee3\u7801\u5bc6\u5ea6\u76f8\u5bf9CISC\u8f83\u5c0f\u3002   CISC\u7684\u6307\u4ee4\u529f\u80fd\u590d\u6742\u5ea6\u4e0d\u4e00\uff0c\u6267\u884c\u65f6\u95f4\u957f\u77ed\u4e0d\u4e00\uff0c\u7f16\u7801\u957f\u5ea6\u4e5f\u4e0d\u4e00\u6837\u3002\u76f4\u63a5\u8fd0\u884c\u5bfc\u81f4\u6d41\u6c34\u7ebf\u63a7\u5236\u590d\u6742\u8c03\u5ea6\u56f0\u96be\uff0c\u4e00\u822c\u52a8\u6001\u62c6\u505a\u7c7b\u4f3cRISC\u7684\u5fae\u6307\u4ee4\u6267\u884c\u3002\u4ee3\u7801\u5bc6\u5ea6\u76f8\u5bf9RISC\u8f83\u9ad8\u3002</li> <li>\u64cd\u4f5c\u6570\uff1a\u5355\u6307\u4ee4\u5bc4\u5b58\u5668\u4e2a\u6570\u3002\u4ece\u6808\u5bfb\u5740\u5230\u591a\u5bc4\u5b58\u5668\u5bfb\u5740\u5728\u4ee3\u7801\u5bc6\u5ea6\uff0c\u6d41\u6c34\u7ebf\u8c03\u5ea6\uff0c\u6267\u884c\u65f6\u95f4\u4e0a\u7684\u8003\u8651\u3002</li> <li>\u64cd\u4f5c\u6570\uff1a\u5185\u5b58\u5bfb\u5740\u65b9\u5f0f\u3002RISC\u7684\u5185\u5b58\u5bfb\u5740\u65b9\u5f0f\u5355\u4e00\uff0c\u8c03\u5ea6\u7b80\u5355\uff0c\u53ef\u505a\u5355\u72ec\u6d41\u6c34\u7ebf\uff0c\u4f46\u6307\u4ee4\u5bc6\u5ea6\u9ad8\u3002CISC\u8c03\u5ea6\u65b9\u5f0f\u590d\u6742\uff0c\u6d41\u6c34\u7ebf\u8bbe\u8ba1\u590d\u6742\uff0c\u6307\u4ee4\u5bc6\u5ea6\u9ad8\u3002</li> <li>\u73af\u5883\u53d8\u91cf\uff1a \u6761\u4ef6\u6267\u884c\u5bf9\u6d41\u6c34\u7ebf\u7684\u5f71\u54cd\u3002\uff08\u7b2c\u4e8c\u7ae0\u5177\u4f53\u8bb2\uff09</li> <li>\u6307\u4ee4\u7f16\u7801\uff1aRISC\u7f16\u7801\u548cSISC\u7f16\u7801\uff0c\u89e3\u7801\u96be\u5ea6\uff0c\u53d6\u5740\u96be\u5ea6\uff0c\u5206\u652f\u9884\u6d4b\u96be\u5ea6\u7b49\u7b49\u3002\uff08\u7b2c\u4e8c\u7ae0\u5177\u4f53\u8bb2RISC-V\u7684\u7f16\u7801\u8bbe\u8ba1\uff09</li> <li>\u7f16\u8bd1\u5668\uff1a     \u7f16\u8bd1\u5668\u662f\u6307\u4ee4\u96c6\u548c\u9ad8\u7ea7\u8bed\u8a00\u7684\u63a5\u53e3\u3002     \u8bed\u8a00\u7684\u62bd\u8c61\u7b49\u7ea7\u8d8a\u9ad8\uff0cISA\u7684\u4f7f\u7528\u5c31\u66f4\u52a0\u53d7\u9650\uff1aABI\uff0csystemcall\uff0ccontext switching\u3002     \u901a\u7528\u903b\u8f91\u5bc4\u5b58\u5668\u7684\u529f\u80fd\u5f02\u5316\uff0c\u6570\u91cf\u5bf9\u7f16\u8bd1\u5668\u7684\u5f71\u54cd\u3002</li> <li>\u64cd\u4f5c\u7cfb\u7edf\uff1a\u786c\u4ef6\u8d44\u6e90\u7684\u7ba1\u7406\u8005\uff0c\u7279\u6743\u8f6f\u4ef6\u3002     \u64cd\u4f5c\u7cfb\u7edf\u9700\u8981ISA\u7684\u652f\u6301\uff1a\u63a7\u5236\u5bc4\u5b58\u5668\uff0c\u7279\u6743\u6307\u4ee4\uff0c\u5185\u5b58\u6a21\u578b\uff0cIO\u6a21\u578b\u7b49\u7b49\uff0chyervisor\u6a21\u5f0f\u3002     \uff08\u66f4\u5177\u4f53\u7684\uff0c\u6bd4\u5982\u5bf9VM\uff0c\u5b89\u5168\uff0c\u4e0a\u4e0b\u6587\u5207\u6362\u6548\u7387\uff0c\u4e2d\u65ad\u548c\u5f02\u5e38\u7684\u5b9a\u4e49\u7b49\u7b49\uff0c\u90fd\u7559\u5230\u7b2c\u4e8c\u7ae0\uff09</li> </ul>"},{"location":"outline/#2-leishangwen","title":"2 \u73b0\u6709\u6307\u4ee4\u96c6 (leishangwen)","text":"<ul> <li>CISC\u6307\u4ee4\u96c6\u7684\u4ee3\u8868\uff1ax86\u548cx86-64\u3002</li> <li>RISC\u6307\u4ee4\u96c6\u7684\u4ee3\u8868\uff1aARM(ARMv7,AArch32,AArch64,thumb, thumb2)</li> <li>\u5176\u4ed6\u7684\u6307\u4ee4\u96c6\uff1aMIPS, PowerPC, SPARC</li> </ul>"},{"location":"outline/#3-wsong83","title":"3 \u786c\u4ef6\u5f00\u53d1\u7684\u53d8\u8fc1 (wsong83)","text":"<p>\u4ecb\u7ecd\u4ece\u6700\u5f00\u59cb\u7684\u6676\u4f53\u7ba1\uff0c\u5230CMOS\uff0c\u5230\u57fa\u4e8e\u6807\u51c6\u5355\u5143\u7684\u7248\u5b9a\u5236\u6d41\u7a0b\uff0c\u81ea\u52a8\u7efc\u5408\u548c\u5e03\u5c40\u5e03\u7ebf\uff0c\u7269\u7406\u7efc\u5408\uff0c\u4eff\u771f\uff0c\u524d\u4eff\u548c\u540e\u4eff\uff0cLVS\u548cformal verification\uff0c\u6700\u7ec8\u5230SystemVerilog\u7684verification\u7279\u6027\u548cHLS\u7684\u51fa\u73b0\u3002\u8fd9\u5f20\u7684\u76ee\u7684\u662f\u7ed9\u4e0d\u7406\u89e3\u786c\u4ef6\u8bbe\u8ba1\u7684\u8bfb\u8005\u5165\u4e2a\u95e8\u3002\u540e\u9762\u8bb2\u5230Rocket\u7684\u67d0\u4e9b\u786c\u4ef6\u4f18\u5316\u7684\u65f6\u5019\u4f1a\u6709\u597d\u5904\u3002</p>"},{"location":"outline/#4","title":"4 \u5f00\u6e90\u8fd0\u52a8","text":"<p>\u8fd9\u6709\u4e09\u4e2a\u65b9\u9762\uff1a\u5f00\u6e90\u8f6f\u4ef6\uff0c\u53d1\u751f\u7684\u539f\u56e0\u548c\u610f\u4e49\uff0c\u5176\u4f18\u52bf\u548c\u73b0\u5728\u7684\u5e7f\u6cdb\u4f7f\u7528\uff08Linux\uff0cGNU GCC\u7b49\u7b49\uff09 \u73b0\u5b58\u7684\u95ee\u9898\uff1aLicense\u7684\u6597\u4e89\uff0c\u5f00\u53d1\u7f13\u6162\u7684\u95ee\u9898\uff0c\u5206\u652f\u4e25\u91cd\u7684\u95ee\u9898\uff0cpatent\u7684\u95ee\u9898\uff0c\u96be\u4ee5\u5546\u4e1a\u5316\u4e0d\u6323\u94b1\u7684\u95ee\u9898\u3002</p> <p>\u5f00\u6e90\u786c\u4ef6\uff0c\u65e9\u5df2\u51fa\u73b0\uff0cOpenRISC\u548cOpenCore\u793e\u533a\uff0c\u4f46\u662f\u4e3a\u4f55\u4e0d\u592a\u6210\u529f\uff1a\u5f00\u53d1\u4eba\u5458\u5c11\u7fa4\u4f17\u57fa\u7840\u4e0d\u591f\uff0c\u9879\u76ee\u591a\u6570\u672a\u5b8c\u6210\uff0c\u5b8c\u6210\u7684\u4e5f\u7f3a\u5c11\u9a8c\u8bc1\uff0c\u96be\u4ee5\u6d41\u7247\u9a8c\u8bc1\uff0c\u7f3a\u5c11\u5f00\u6e90\u5de5\u5177\u94fe\uff0c\u6a21\u62df\u8bbe\u8ba1\u96be\u4ee5\u5f00\u6e90\uff0c\u5f00\u6e90\u8bbe\u8ba1\u96be\u4ee5\u6d41\u7247\u7684\u5404\u79cd\u5b9e\u9645\u56e0\u7d20\u3002\u5f53\u7136\u4e5f\u8bf4\u73b0\u5728\u5df2\u6709\u7684\u6210\u679c\uff0c\u5f00\u6e90\u6a21\u62df\u5668\uff0c\u7b80\u5355\u7684\u5f00\u6e90\u903b\u8f91\u7efc\u5408\u5668\uff0c\u5f00\u6e90\u7684\u786c\u4ef6\u8bbe\u8ba1\u7b49\u7b49\u3002</p> <p>\u6307\u4ee4\u53ca\u5f00\u6e90\uff1a\u6307\u4ee4\u96c6\u672c\u8eab\u5bf9\u6027\u80fd\u5f71\u54cd\u5176\u5b9e\u4e0d\u5927\uff0c\u4f46\u662f\u4e00\u4e2a\u6307\u4ee4\u96c6\u6240\u9644\u5e26\u7684\u751f\u6001\u73af\u5883\u975e\u5e38\u91cd\u8981\u3002\u9009\u7528\u4e00\u4e2a\u6307\u4ee4\u96c6\u5176\u5b9e\u662f\u9009\u62e9\u4e86\u4e00\u4e2a\u751f\u6001\u73af\u5883\uff0c\u4e3a\u8fd9\u4e2a\u751f\u6001\u73af\u5883\u4ed8\u8d39\u3002\u5f00\u6e90\u6307\u4ee4\u96c6\u7684\u4e3b\u8981\u76ee\u7684\u5176\u5b9e\u662f\u63d0\u4f9b\u4e00\u4e2a\u5f00\u6e90\u7684\u751f\u6001\u73af\u5883\uff0c\u5305\u62ecISA, \u7f16\u8bd1\u5668\uff0c\u64cd\u4f5c\u7cfb\u7edf\uff0c\u8f6f\u4ef6\u5e93\u7b49\u7b49\u3002</p>"},{"location":"outline/#risc-v_1","title":"\u7b2c\u4e8c\u7ae0 RISC-V","text":"<p>\u8fd9\u4e00\u7ae0\u5c31\u8bb2RISC-V\u6307\u4ee4\u96c6</p>"},{"location":"outline/#1-risc-v","title":"1 RISC-V\u7684\u5386\u53f2","text":"<p>\u4ecb\u7ecdUCB, MIPS, RISC-V\u7684\u51fa\u73b0\uff0c\u5f00\u6e90\uff0c\u57fa\u91d1\u4f1a\u7684\u5efa\u7acb\uff0c\u5b83\u7684\u76ee\u7684\u548c\u610f\u4e49\u3002</p> <p>wsong83: \u5173\u4e8eUCB\u7684\u5386\u53f2\uff0c\u53ef\u4ee5\u770b\u770bRISC-V Geneology</p>"},{"location":"outline/#2-risc-v","title":"2 RISC-V\u7684\u57fa\u672c\u8bbe\u8ba1\u539f\u7406","text":"<p>\u4ecb\u7ecdRV64I\u548cRV32I\u7684\u57fa\u672c\u60c5\u51b5\uff0c\u91cd\u70b9\u4ecb\u7ecd\u8bbe\u8ba1\u539f\u7406\uff0c\u53ef\u6269\u5c55\u7684\u65b9\u5f0f\uff0c\u9762\u5411\u786c\u4ef6\u8bbe\u8ba1\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u9762\u5411\u7b80\u5355\u6d41\u6c34\u7ebf\u8bbe\u8ba1\u7684\u6307\u4ee4\u9009\u62e9\uff08\u4e0d\u7528\u6761\u4ef6\u6267\u884c\uff0c\u4e0d\u7528\u591a\u5468\u671f\u6307\u4ee4\uff09\u3002</p> <p>\u601d\u8003\uff0c\u62ffRV64I\u548cAArch64\u7684\u7f16\u7801\u6765\u6bd4\u4e00\u6bd4\uff0c\u5e94\u8be5\u80fd\u4f53\u73b0RV64I\u7684\u7f16\u7801\u4f18\u52bf\u3002</p>"},{"location":"outline/#3-risc-v","title":"3 RISC-V\u7279\u6743\u6307\u4ee4\u8bbe\u8ba1","text":"<p>\u4e3a\u4f55\u9009\u62e9\u4f7f\u7528CSR\uff0cCSR\u7684\u8bbe\u8ba1\u7ec6\u8282\uff0c\u4e0d\u540c\u7279\u6743\u7ea7\u7684\u5b9a\u4e49\uff0c\u7279\u6743\u7ea7\u4e4b\u95f4\u7684\u8df3\u8f6c\uff0cdelegation\u7684\u4f7f\u7528\uff0c\u5f02\u5e38\u5904\u7406\u6a21\u578b\u3002\uff08\u8fd9\u91cc\u53ef\u4ee5\u8bf4\u7684\u60ca\u4eba\u7ec6\u8282\u592a\u591a\u4e86\uff09</p>"},{"location":"outline/#4_1","title":"4 \u5185\u5b58\u6a21\u578b","text":"<p>\u4ecb\u7ecd\u4ec0\u4e48\u662f\u5185\u5b58\u6a21\u578b\uff0cvirtual memory\u7684\u8bbe\u8ba1\uff0c\u548cRISC-V\u7684\u5185\u5b58\u6a21\u578b\uff08\u8fd9\u4e00\u90e8\u5206\u5feb\u5b9a\u4e49\u597d\u4e86\uff09</p>"},{"location":"outline/#5-risc-v","title":"5 RISC-V\u7684\u538b\u7f29\u6307\u4ee4","text":"<p>\u4e3a\u4ec0\u8981\u6709\u538b\u7f29\u6307\u4ee4\u53ca\uff0c\u600e\u4e48\u8bbe\u8ba1\u7684\uff0c\u6027\u80fd\u6570\u636e\u3002\u7ed3\u5408\u538b\u7f29\u6307\u4ee4\u53ca\u8ba8\u8bbainstruction fusion\u3002\u7b80\u5355\u8bf4\u8bf4\u538b\u7f29\u6307\u4ee4\u5bf9\u786c\u4ef6\u7684\u5f71\u54cd\uff0c\u6bd4\u5982\u6307\u4ee4\u5730\u5740unalign\uff0cfetch\u7ea7\u7684\u52a8\u6001\u53d6\u6307\u901f\u5ea6\uff0c\u8282\u7701I$\u7b49\u7b49\u3002</p>"},{"location":"outline/#6-risc-v","title":"6 RISC-V\u7684\u6269\u5c55\u6307\u4ee4\u96c6","text":"<p>AMO\u548cLR/SC\u7684\u8bbe\u8ba1\u610f\u56fe\uff08\u539f\u5b50\u64cd\u4f5c\u548c\u5173\u952e\u533a\u652f\u6301\uff09\u3002M/D/F/E\u7b49\u7b49\u5df2\u7ecf\u53ef\u4ee5\u7528\u7684\u6269\u5c55\uff0c\u548c\u8ba1\u5212\u4e2d\u7684\u6269\u5c55\u3002</p>"},{"location":"outline/#7-spike","title":"7 Spike\u6a21\u62df\u5668","text":"<p>Spike\u662fRISC-V\u7684instruction set simulator (ISS)\uff0c\u4e5f\u662f\u72ec\u7acb\u4e8e\u5b9e\u73b0\u7684\u6807\u51c6\u53c2\u7167\u3002 \u5e94\u8be5\u8bb2\u4e00\u8bb2Spike\u7684\u4f7f\u7528\u548c\u5176\u80cc\u540e\u7684\u539f\u7406\u3002</p>"},{"location":"outline/#8-risc-v","title":"8 RISC-V\u7684\u8f6f\u4ef6\u751f\u6001","text":"<p>\u4ecb\u7ecd\u56f4\u7ed5RISC-V\u5f00\u53d1\u7684\u7f16\u8bd1\u5668\u3001\u79fb\u690d\u7684\u64cd\u4f5c\u7cfb\u7edf\u7b49\u8f6f\u4ef6\u7684\u60c5\u51b5\u3002</p>"},{"location":"outline/#9-risc-vleishangwen","title":"9 RISC-V\u5728\u4ea7\u4e1a\u754c\u4e0e\u5b66\u672f\u754c\u7684\u73b0\u72b6\uff08leishangwen\uff09","text":"<p>\u6982\u8ff0\u57fa\u4e8eRISC-V\u6307\u4ee4\u96c6\u7684\u5904\u7406\u5668\u3001SoC\uff0c\u5e76\u8fdb\u884c\u7b80\u5355\u5730\u6c47\u603b\u7edf\u8ba1\u3002</p>"},{"location":"outline/#rocket-chip","title":"\u7b2c\u4e09\u7ae0 Rocket-Chip\u6982\u8ff0","text":"<p>\u7b80\u5355\u4ecb\u7ecdRocket-chip\u6700\u521d\u8bbe\u8ba1\u7684\u7531\u6765\uff0c\u51e0\u6b21\u6d41\u7247\u7ecf\u5386\uff0c\u4f5c\u4e3aRV64G\u7684\u4e3b\u8981\u786c\u4ef6\u5b9e\u73b0\uff0c\u6700\u7ec8\u4f5c\u4e3afreechipsproject\u8131\u79bbUCB\u3002 \u6b64\u5904\u7b80\u5355\u63d0\u53caRocket\u548cBoom\u662fRocket-chip\u652f\u6301\u7684\u4e24\u79cd\u5904\u7406\u5668\u5b9e\u73b0\uff0cFreedom\u548clowRISC\u662f\u57fa\u4e8eRocket-chip\u7684\u4e24\u4e2aSoC\u6269\u5c55\u3002</p> <p>\u8bb2\u6d41\u7247\u7ecf\u5386\u7684\u65f6\u5019\uff0c\u8bb2\u4e8b\u4ef6\uff0c\u4e0d\u5177\u4f53\u8bb2\u6027\u80fd\u7ed3\u679c\u3002\u7559\u5230\u7b2c\u56db\u7ae0\u3002</p>"},{"location":"outline/#1-chiselfirrtl","title":"1 Chisel\u548cFIRRTL","text":"<p>\u7b80\u5355\u8bf4\u660eChisel\u548cFIRRTL\u7684\u529f\u80fd\u3002\u7b80\u5355\u4ecb\u7ecdChisel\u76f8\u5bf9SystemVerilog\u7b49HDL\u7684\u4f18\u52bf\uff0c\u540c\u65f6\u533a\u5206Chisel\u548cHLS\u3002 \u4e3e\u7b80\u5355\u4f8b\u5b50\u6765\u8bf4\u660e\uff1a</p> <ul> <li>Scala/Chisel\u7684\u57fa\u672c\u8bed\u6cd5(\u4f8b\u5b50\u4e2d\u4f1a\u6d89\u53ca\u7684\u90e8\u5206)\u3002</li> <li>Chisel\u53ef\u4ee5\u88ab\u7528\u6765\u5b9e\u73b0\u7b80\u5355\u7535\u8def\u3002</li> <li>Chisel\u5728\u6cdb\u578b\u4e0a\u7684\u4f18\u52bf\u3002</li> <li>Chisel\u5728\u9762\u5411\u5bf9\u8c61\u4e0a\u7684\u4f18\u52bf\u3002</li> <li>Chisel\u7528LazyModule\u6765\u5b9e\u73b0\u7f16\u8bd1\u65f6\u4ee3\u7801\u751f\u6210\u673a\u5236\u3002</li> </ul>"},{"location":"outline/#2-rocket-chip","title":"2 Rocket-Chip\u7684\u57fa\u672c\u7ed3\u6784","text":"<p>\u753b\u51e0\u4e2a\u7ed3\u6784\u56fe\u6765\u5f62\u5f0f\u5316\u7684\u8868\u793aRocket-chip\u7684\u5185\u90e8\u94fe\u63a5\u3002\u540c\u65f6\u53d9\u8ff0Rocket-chip\u7684\u53ef\u914d\u7f6e\u529f\u80fd\u3002 \u540c\u65f6\u5728\u8fd9\u91cc\u4ecb\u7ecddevicetree\u7684\u81ea\u52a8\u751f\u6210\u3002</p>"},{"location":"outline/#3-tilelink","title":"3. TileLink\u7247\u4e0a\u603b\u7ebf","text":"<p>TileLink\u603b\u7ebf\u7684channel\u540d\u79f0\u548c\u529f\u80fd\uff0c\u652f\u6301\u7684\u62a5\u6587\u7c7b\u578b\u548c\u4f20\u8f93\u534f\u8bae\u7b49\u7b49\u3002</p>"},{"location":"outline/#4_2","title":"4. \u7f13\u5b58\u4e00\u81f4\u6027\u4e0e\u7247\u4e0a\u4e92\u8054\u603b\u7ebf","text":"<p>\u4ecb\u7ecdRocket-Chip\u91c7\u7528\u7684\u7f13\u5b58\u4e00\u81f4\u6027\u7b56\u7565\u3001\u7247\u4e0a\u4e92\u8054\u603b\u7ebf\u7684\u7ed3\u6784\u56fe\u3001\u591a\u6838\u7ed3\u6784\u7b49\u3002</p>"},{"location":"outline/#5-rocket-chip","title":"5. Rocket-chip\u7684\u4eff\u771f\u548c\u6d4b\u8bd5","text":"<p>\u8fd9\u91cc\u4e3b\u8981\u662f\u8bb2\u4eff\u771f\u7684\u57fa\u672c\u65b9\u6cd5\u548cRocket-chip/Chisel\u63d0\u4f9b\u7684\u51e0\u79cd\u6d4b\u8bd5\u65b9\u6cd5\uff1arequire check, assertion, bus-monitor, unitest, groundtest, isa regression. \u8fd9\u4e00\u7ae0\u5e76\u4e0d\u5177\u4f53\u8bb2\u6d4b\u8bd5\u548c\u4eff\u771f\u7684\u57fa\u672c\u6b65\u9aa4\u3002</p>"},{"location":"outline/#rocket","title":"\u7b2c\u56db\u7ae0 Rocket\u5904\u7406\u5668","text":""},{"location":"outline/#1-rocket","title":"1. Rocket\u5904\u7406\u5668\u4ecb\u7ecd","text":"<p>\u6574\u4f53\u6027\u7684\u4ecb\u7ecd\uff0c\u7ed3\u6784\u6846\u56fe\uff0c\u53ef\u914d\u7f6e\u6a21\u5757\uff08scratch-pad, blocking L1, non-blocking L1, RoCC, FPU\uff09\u3002 \u5df2\u6d41\u7247\u7684\u7ed3\u679c\u6bd4\u8f83\u3002</p>"},{"location":"outline/#2-rocket","title":"2. Rocket\u7684\u57fa\u672c\u6d41\u6c34\u7ebf","text":"<p>5\u7ea7ALU\u6d41\u6c34\u7ebf\u7ed3\u6784\uff0c\u591a\u5468\u671f\u6574\u6570\u4e58\u6cd5\u5668\uff0cI$\u548cD$\u7684\u8fde\u63a5\uff0cCSR\u7684\u8fde\u63a5\uff0cforwarding network\u3002</p>"},{"location":"outline/#3","title":"3. \u6307\u4ee4\u7f13\u5b58\u4ee5\u53ca\u5206\u652f\u9884\u6d4b","text":"<p>\u6307\u4ee4\u7f13\u5b58\u7684\u7ed3\u6784\uff0cBHT, BTB, RAS\u7684\u7ed3\u6784\u548c\u8fd0\u884c\u65f6\u5b66\u4e60\uff0cbranch/jump\u6307\u4ee4\u7684\u6267\u884c\uff0c\u4ee5\u53ca\u7531\u4e8e\u5206\u652f\u9884\u6d4b\u9519\u8bef\u9020\u6210\u7684\u6d41\u6c34\u7ebf\u91cd\u7f6e\u3002</p>"},{"location":"outline/#4_3","title":"4. \u6570\u636e\u7f13\u5b58","text":"<p>\u4ecb\u7ecd\u975e\u963b\u585e\u6570\u636e\u7f13\u5b58\u7684\u7ed3\u6784\uff0ccache hit\u7684\u57fa\u672c\u6d41\u6c34\u7ebf\uff0cmiss\u65f6\u7684data fetch\uff0ctlb miss\u9020\u6210\u7f3a\u9875\uff0c\u5730\u5740\u7a7a\u95f4\u68c0\u67e5(\u5f3a\u5236PMA)\uff0cparity\u68c0\u67e5\u4e0e\u6570\u636e\u4fee\u590d\uff0c\u652f\u6301coherence\u3002</p> <p>\u5728\u975e\u963b\u585e\u6570\u636e\u7f13\u5b58\u7684\u57fa\u7840\u4e0a\uff0c\u901a\u8fc7\u88c1\u526a\u83b7\u5f97\u963b\u585e\u7f13\u5b58\u548cscratch pad\u3002</p> <p>\u8fd8\u4e0d\u786e\u5b9a\u7528cache\u6765\u505ascratch pad\uff08pin cache line\uff09\u7684\u5b9e\u73b0\u5728L1\u8fd8\u662fL2\u3002\u5982\u679c\u5728L1\u53ef\u4ee5\u5c1d\u8bd5\u8bf4\u4e00\u8bf4\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u70b9\u7684\u6c34\u6bd4\u8f83\u6df1\u3002</p>"},{"location":"outline/#5","title":"5. \u865a\u62df\u5185\u5b58\u652f\u6301","text":"<p>\u4ecb\u7ecdRISC-V\u652f\u6301\u7684\u5206\u9875\u5f0f\u5185\u5b58\u3001\u9875\u8868\u7ed3\u6784\u3001TLB\u8bbe\u8ba1\u3001\u786c\u4ef6\u9875\u8868\u67e5\u8be2PTW</p>"},{"location":"outline/#6-rocketroccleishangwen","title":"6. Rocket\u5904\u7406\u5668RoCC\u8bbe\u8ba1\u5206\u6790\uff08leishangwen\uff09","text":"<p>\u5206\u6790RoCC\u63a5\u53e3\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7\u4eff\u771f\u5b9e\u9a8c\u8bf4\u660eRoCC\u5982\u4f55\u4f7f\u7528</p>"},{"location":"outline/#boom","title":"\u7b2c\u4e94\u7ae0 BOOM\u5904\u7406\u5668","text":""},{"location":"outline/#1-boom","title":"1. BOOM\u5904\u7406\u5668\u4ecb\u7ecd","text":"<p>\u5305\u62ec\u7279\u70b9\uff08\u6bd4\u5982\uff1a\u4e71\u5e8f\u3001\u8d85\u6807\u91cf\uff09\u3001\u6027\u80fd\u53c2\u6570\u3001\u7ed3\u6784\u6846\u56fe\u3001\u63a5\u53e3\u56fe\u7b49\uff0csrc/main/scala\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u7684\u57fa\u672c\u4f5c\u7528\u3002</p>"},{"location":"outline/#2","title":"2. \u63a8\u6d4b\u53d1\u5c04\u673a\u5236","text":"<p>\u4ee5\u56fe\u793a\u7684\u65b9\u5f0f\u5206\u6790</p>"},{"location":"outline/#3_1","title":"3. \u5bc4\u5b58\u5668\u91cd\u547d\u540d","text":"<p>\u4ee5\u56fe\u793a\u7684\u65b9\u5f0f\u5206\u6790</p>"},{"location":"outline/#4_4","title":"4. \u6570\u636e\u5b58\u50a8","text":"<p>\u4ee5\u56fe\u793a\u7684\u65b9\u5f0f\u5206\u6790</p>"},{"location":"outline/#5_1","title":"5. \u6307\u4ee4\u63d0\u4ea4","text":"<p>\u4ee5\u56fe\u793a\u7684\u65b9\u5f0f\u5206\u6790</p>"},{"location":"outline/#sifivefreedom","title":"\u7b2c\u516d\u7ae0 SiFive\u516c\u53f8\u7684Freedom\u7cfb\u5217","text":""},{"location":"outline/#1-freedomleishangwen","title":"1. Freedom\u7cfb\u5217\u7b80\u4ecb\uff08leishangwen\uff09","text":"<p>\u4ecb\u7ecdSiFive\u516c\u53f8\u53ca\u5176Freedom\u7cfb\u5217\u7684\u57fa\u672c\u60c5\u51b5</p>"},{"location":"outline/#2-freedom-e310","title":"2. Freedom E310\u4ecb\u7ecd","text":"<p>\u4ecb\u7ecdFreedom E310\u7684\u6027\u80fd\u53c2\u6570\u3001\u7ed3\u6784\u6846\u56fe\u3001\u63a5\u53e3\u56fe\u3001\u5404\u4e2a\u6a21\u5757\u7684\u4f5c\u7528\u3001\u5730\u5740\u7a7a\u95f4\u5206\u914d\u3001\u542f\u52a8\u987a\u5e8f\u7b49</p>"},{"location":"outline/#3_2","title":"3. \u4eff\u771f\u5b9e\u9a8c","text":"<p>\u4eff\u771f\u6b65\u9aa4\uff0c\u5b9e\u9a8c\u73af\u5883\u642d\u5efa\uff0c\u5b9e\u9a8c\u6b65\u9aa4\uff08\u5305\u62ec\u4e0b\u8f7d\u5230\u5f00\u53d1\u677f\u7684\u6b65\u9aa4\uff09\uff0c\u6d4b\u8bd5\u4f8b\u7a0b\u5206\u6790\uff08\u4ee5SiFive\u63d0\u4f9b\u7684Eclipse\u5f00\u53d1\u73af\u5883\u4e2d\u7684\u81ea\u5e26\u6d4b\u8bd5\u4f8b\u7a0b\u8fdb\u884c\u5206\u6790\uff0c\u4e3b\u8981\u662f\u5206\u6790\u542f\u52a8\u8fc7\u7a0b\u7684\u4ee3\u7801\uff0c\u8fd9\u6837\u4e5f\u66f4\u597d\u5730\u5e2e\u52a9\u8bfb\u8005\u719f\u6089RISC-V\u7684\u6307\u4ee4\u7684\u7528\u6cd5\uff09</p>"},{"location":"outline/#4-leishangwen","title":"4. \u8c03\u8bd5\u8fc7\u7a0b\u53ca\u539f\u7406\u5206\u6790\uff08leishangwen\uff09","text":"<p>\u9996\u5148\u662f\u4ecb\u7ecd\u5982\u679c\u8c03\u8bd5\uff0c\u7ed9\u51fa\u6b65\u9aa4\uff0c\u505a\u5b9e\u9a8c\uff0c\u7ed9\u51fa\u5b9e\u9a8c\u622a\u56fe\u3002\u7136\u540e\uff0c\u5206\u6790\u8c03\u8bd5\u7684\u539f\u7406\uff0c\u5305\u62ecdebug rom\u7684\u5185\u5bb9\u3001openocd\u7684\u8bbe\u7f6e\u53ca\u57fa\u672c\u5de5\u4f5c\u539f\u7406\u3001JTAG\u603b\u7ebf\u7684\u77e5\u8bc6\u3001Freedom E310\u5bf9\u4e8e\u8c03\u8bd5\u6307\u4ee4\u7684\u5904\u7406\uff0c\u5e76\u8fdb\u4e00\u6b65\u5206\u6790step\u3001break\u3001continue\u7b49\u8c03\u8bd5\u6307\u4ee4\u7684\u5b9e\u73b0\u539f\u7406\u3002</p>"},{"location":"outline/#5-freertos","title":"5. \u79fb\u690d\u8fd0\u884cFreeRTOS","text":"<p>\u4ecb\u7ecd\u5982\u4f55\u4f7fFreeRTOS\u5728Freedom E310\u4e0a\u7684\u8fd0\u884c</p>"},{"location":"outline/#lowrisc-wsong83","title":"\u7b2c\u4e03\u7ae0 LowRISC (wsong83)","text":"<p>\u6211\u5148\u5927\u6982\u5217\u4e00\u4e0b\u76ee\u5f55\uff0c\u5b8b\u540c\u5b66\u4fee\u6539\u554a</p>"},{"location":"outline/#1-lowrisc","title":"1. LowRISC\u4ecb\u7ecd","text":"<p>\u5305\u62ecLowRISC\u7684\u4ea7\u751f\u539f\u56e0\u3001\u53d1\u5c55\u5386\u53f2\u3001\u76f8\u6bd4Rocket\u7684\u4e3b\u8981\u6539\u8fdb\u70b9\u3001\u7ed3\u6784\u56fe\u3002</p>"},{"location":"outline/#2-tagged-memory","title":"2. tagged memory","text":"<p>\u5305\u62ec\u4e3b\u8981\u601d\u8def\u3001\u5b9e\u73b0\u6548\u679c\u3001\u6700\u597d\u80fd\u7ed3\u5408\u8bd5\u9a8c\u6f14\u793a\u6548\u679c\u7b49</p>"},{"location":"outline/#3-trace-debugger","title":"3. trace debugger","text":"<p>\u5305\u62ec\u4e3b\u8981\u601d\u8def\u3001\u5b9e\u73b0\u6548\u679c\u3001\u4f7f\u7528\u6d4b\u8bd5\u7b49</p>"},{"location":"outline/#pulpino","title":"\u7b2c\u516b\u7ae0 PULPino","text":""},{"location":"outline/#1-pulpino","title":"1. PULPino\u4ecb\u7ecd","text":"<p>\u5305\u62ecPULP\u4e0ePULPino\u7684\u5173\u7cfb\u3001PULPino\u7684\u7ed3\u6784\u7ec4\u6210\u3001RI5CY\u3001\u6d41\u7247\u7684\u6027\u80fd PULP\u4f4e\u529f\u8017\u7684\u539f\u56e0\uff0c\u529f\u8017\u5bf9\u6bd4\uff08\u5728\u8bba\u6587\u4e2d\u6709\u5bf9\u6bd4\uff09\uff0c\u4ee5\u53ca\u53ef\u4ee5\u5de5\u4f5c\u5728\u591a\u79cd\u7535\u538b\u60c5\u51b5\u4e0b</p>"},{"location":"outline/#2_1","title":"2. \u5411\u91cf\u7b97\u672f\u6307\u4ee4","text":"<p>\u4ecb\u7ecd\u4ec0\u4e48\u662f\u5411\u91cf\u8fd0\u7b97\u3001RI5CY\u7684\u5411\u91cf\u8fd0\u7b97\u6307\u4ee4\u3001\u4f18\u52bf\u7279\u70b9\u3001\u5b9e\u73b0\u7b49</p>"},{"location":"outline/#3_3","title":"3. \u786c\u4ef6\u5faa\u73af","text":"<p>\u4ecb\u7ecd\u786c\u4ef6\u5faa\u73af\u7684\u539f\u7406\u3001\u4f18\u52bf\u3001\u5b9e\u73b0\u7b49</p>"},{"location":"outline/#4-post-increment-loadstore","title":"4. post increment load/store\u6307\u4ee4","text":"<p>\u4e0d\u77e5\u9053\u51c6\u786e\u7684\u7ffb\u8bd1\u662f\u4ec0\u4e48</p>"},{"location":"outline/#5_2","title":"5. \u6269\u5c55\u7b97\u672f\u6307\u4ee4","text":""},{"location":"outline/#6-artyleishangwen","title":"6. \u57fa\u4e8eArty\u5e73\u53f0\u7684\u79fb\u690d\u8bd5\u9a8c\uff08leishangwen\uff09","text":"<p>\u5b98\u7f51\u4e0a\u53ea\u662f\u5728zedboard\u4e0a\u505a\u4e86\u6d4b\u8bd5\uff0c\u800c\u4e14\u662f\u9700\u8981ARM\u914d\u5408\uff0c\u8fd9\u91cc\u8ba1\u5212\u4f7f\u7528Arty\u5e73\u53f0\u6d4b\u8bd5\uff0c\u4e0eFreedom E310\u7684\u6d4b\u8bd5\u5e73\u53f0\u662f\u540c\u4e00\u4e2a\uff0c\u79fb\u690d\u540e\uff0c\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884c\uff0c\u4e0d\u9700\u8981ARM\u914d\u5408\u3002\u540c\u65f6\uff0c\u5728\u79fb\u690d\u8fc7\u7a0b\u4e2d\uff0c\u5c31\u987a\u4fbf\u8bb2\u89e3\u5173\u952e\u811a\u672c\u3001boot code\u3001\u6d4b\u8bd5\u7a0b\u5e8f\u7b49\u3002\u6b64\u5916\uff0c\u8fd8\u4ecb\u7ecd\u8c03\u8bd5\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u4e5f\u662f\u5b98\u7f51\u6ca1\u6709\u7684\u3002</p>"},{"location":"outline/#_2","title":"\u7b2c\u4e5d\u7ae0 \u6d6e\u70b9\u8fd0\u7b97","text":""},{"location":"outline/#1_1","title":"1. \u6d6e\u70b9\u6807\u51c6","text":"<p>\u4ecb\u7ecd\u6d6e\u70b9\u8fd0\u7b97\u7684\u57fa\u672c\u60c5\u51b5\uff0c\u4fbf\u4e8e\u7406\u89e3\u540e\u6587</p>"},{"location":"outline/#2-risc-v_1","title":"2. RISC-V\u7684\u6d6e\u70b9\u6307\u4ee4\u6269\u5c55","text":""},{"location":"outline/#3-rocket-chipfpu","title":"3. Rocket-Chip\u4e2d\u7684FPU","text":""},{"location":"outline/#31","title":"3.1 \u57fa\u672c\u60c5\u51b5","text":"<p>\u4ecb\u7ecdFPU\u5728Rocket-Chip\u7684\u53ef\u4ee5\u5b9e\u73b0\u7684\u529f\u80fd\u3001\u5bf9\u5916\u63a5\u53e3\u3001\u5728\u6d41\u6c34\u7ebf\u7684\u4f4d\u7f6e\u3001\u5bf9\u6d41\u6c34\u7ebf\u7684\u5f71\u54cd\u3001\u6d6e\u70b9\u6307\u4ee4\u7684\u6267\u884c\u8fc7\u7a0b\u7b49\u3002</p>"},{"location":"outline/#32","title":"3.2 \u6d6e\u70b9\u52a0\u6cd5\u6a21\u5757\u8bbe\u8ba1","text":""},{"location":"outline/#33","title":"3.3 \u6d6e\u70b9\u4e58\u6cd5\u6a21\u5757\u8bbe\u8ba1","text":""},{"location":"outline/#34","title":"3.4 \u6d6e\u70b9\u9664\u6cd5\u3001\u5e73\u65b9\u6839\u6a21\u5757\u8bbe\u8ba1","text":""},{"location":"outline/#4-fpu","title":"4. FPU\u9a8c\u8bc1","text":""},{"location":"outline/#41","title":"4.1 \u57fa\u4e8e\u7ec4\u5408\u968f\u673a\u6fc0\u52b1\u6d4b\u8bd5\u7684\u9a8c\u8bc1","text":""},{"location":"outline/#42","title":"4.2 \u57fa\u4e8e\u5f62\u5f0f\u5316\u5de5\u5177\u7684\u9a8c\u8bc1","text":"<p>leishangwen: \u8fd9\u4e2a\u5148\u653e\u5728\u8fd9\u91cc\u5427\uff0c\u7406\u7531\u6709\u4e24\u4e2a\uff1a1\u3001\u8fd8\u4e0d\u786e\u5b9a\u5982\u679c\u5355\u72ec\u4f5c\u4e3a\u4e00\u7ae0\uff0c\u90a3\u4e48\u8bb2\u7684\u5185\u5bb9\u6709\u54ea\u4e9b\uff0c\u80fd\u5426\u72ec\u7acb\u6210\u5b8c\u6574\u7684\u4e00\u7ae0\uff1b2\u3001\u5355\u72ec\u4f5c\u4e3a\u4e00\u7ae0\u653e\u5728Rocket\u3001BOOM\u4e24\u7ae0\u7684\u540e\u9762\uff0c\u6709\u70b9\u7834\u574f\u6574\u672c\u4e66\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u6709\u70b9\u7a81\u5140\uff0c\u5982\u679c\u786e\u5b9e\u8981\u5355\u72ec\u6210\u7ae0\uff0c\u5efa\u8bae\u653e\u5728\u5168\u4e66\u7684\u6700\u540e\u3002</p>"},{"location":"ch1/ch1-background/","title":"Ch1 background","text":"<p>\u6d4b\u8bd5</p>"},{"location":"ch1/sec1-comparch/","title":"\u6307\u4ee4\u96c6","text":"<ul> <li> <p>ISA\u7684\u4ea7\u751f</p> </li> <li> <p>\u533a\u5206\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u548c\u5fae\u7ed3\u6784</p> </li> <li>\u4f53\u7cfb\u7ed3\u6784(computer architecture)\u5b9a\u4e49\u7684\u662f\u786c\u4ef6\u548c\u8f6f\u4ef6\u7684\u63a5\u53e3\uff0c\u5e76\u6ca1\u6709\u6307\u5b9a\u5b9e\u73b0\u3002RISC-V\u5373\u5b9a\u4e49\u7684\u4f53\u7cfb\u7ed3\u6784\u3002</li> <li> <p>\u5fae\u7ed3\u6784(processor microarchitecture)\u5219\u63cf\u8ff0\u7684\u662f\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5904\u7406\u5668\u6765\u7b26\u5408\u4e00\u4e2a\u4f53\u7cfb\u7ed3\u6784\u3002\u4f53\u7cfb\u7ed3\u6784\u5e76\u4e0d\u5b9a\u4e49\u5fae\u7ed3\u6784\u3002</p> </li> <li> <p>\u6307\u4ee4\u7ea7\u67b6\u6784(instruction set architecture, ISA)</p> </li> <li>ISA\u5b9a\u4e49\u7684\u5185\u5bb9\uff1a\u6307\u4ee4\u7f16\u7801\uff0c\u5185\u5b58\u6a21\u578b\uff0cIO\u6a21\u578b\uff0c\u903b\u8f91\u5bc4\u5b58\u5668\u6570\u91cf\u548c\u529f\u80fd\uff0c\u63a7\u5236\u5bc4\u5b58\u5668\uff0c\u7279\u6743\u7ea7\u522b\u3002</li> <li>\u4e00\u6761\u6307\u4ee4\u90fd\u5305\u542b\u4ec0\u4e48\uff1a \u6307\u4ee4\u529f\u80fd\uff0c\u64cd\u4f5c\u5bf9\u8c61(\u7acb\u5373\u6570\uff0c\u666e\u901a\u5bc4\u5b58\u5668\uff0c\u7279\u6b8a\u5bc4\u5b58\u5668\uff0c\u5185\u5b58), \u73af\u5883\u53d8\u91cf(\u6807\u5fd7\u4f4d\uff0c\u7279\u6743\u7ea7\u522b)\uff0c\u6307\u4ee4\u7f16\u7801\u3002</li> <li>\u6307\u4ee4\u7684\u529f\u80fd\u5206\u7c7b\uff1a\u903b\u8f91\u6307\u4ee4\uff0c\u6570\u5b66\u6307\u4ee4\uff0c\u63a7\u5236\u6307\u4ee4\uff0c\u5185\u5b58\u6307\u4ee4\uff0cIO\u6307\u4ee4\uff0c\u7279\u6b8a\u6307\u4ee4\u3002</li> <li>CISC\u548cRISC</li> <li>\u5904\u7406\u5668\u5fae\u7ed3\u6784</li> <li>\u6d41\u6c34\u7ebf</li> <li>\u591a\u53d1\u4e71\u5e8f\u6d41\u6c34\u7ebf</li> <li>\u591a\u7ebf\u7a0b\u6d41\u6c34\u7ebf</li> <li>\u591a\u6838</li> <li>\u7279\u6b8a\u6d41\u6c34\u7ebf\uff1aVLWI, vector, GPU</li> <li>\u4f53\u7cfb\u7ed3\u6784\u4e0e\u5fae\u7ed3\u6784\u7684\u4e92\u76f8\u5f71\u54cd</li> <li>\u6bd4\u8f83CISC\u548cRISC\u7684\u7279\u6027\u3002   RISC\u7684\u6bcf\u6761\u6307\u4ee4\u529f\u80fd\u590d\u6742\u5ea6\u57fa\u672c\u4e00\u81f4\uff0c\u6267\u884c\u65f6\u95f4\u57fa\u672c\u4e00\u81f4\uff0c\u7f16\u7801\u957f\u5ea6\u57fa\u672c\u4e00\u81f4\uff0c\u6d41\u6c34\u7ebf\u63a7\u5236\u7b80\u5355\uff0c\u6307\u4ee4\u8c03\u5ea6\u7b80\u5355\uff0c\u4ee3\u7801\u5bc6\u5ea6\u76f8\u5bf9CISC\u8f83\u5c0f\u3002   CISC\u7684\u6307\u4ee4\u529f\u80fd\u590d\u6742\u5ea6\u4e0d\u4e00\uff0c\u6267\u884c\u65f6\u95f4\u957f\u77ed\u4e0d\u4e00\uff0c\u7f16\u7801\u957f\u5ea6\u4e5f\u4e0d\u4e00\u6837\u3002\u76f4\u63a5\u8fd0\u884c\u5bfc\u81f4\u6d41\u6c34\u7ebf\u63a7\u5236\u590d\u6742\u8c03\u5ea6\u56f0\u96be\uff0c\u4e00\u822c\u52a8\u6001\u62c6\u505a\u7c7b\u4f3cRISC\u7684\u5fae\u6307\u4ee4\u6267\u884c\u3002\u4ee3\u7801\u5bc6\u5ea6\u76f8\u5bf9RISC\u8f83\u9ad8\u3002</li> <li>\u64cd\u4f5c\u6570\uff1a\u5355\u6307\u4ee4\u5bc4\u5b58\u5668\u4e2a\u6570\u3002\u4ece\u6808\u5bfb\u5740\u5230\u591a\u5bc4\u5b58\u5668\u5bfb\u5740\u5728\u4ee3\u7801\u5bc6\u5ea6\uff0c\u6d41\u6c34\u7ebf\u8c03\u5ea6\uff0c\u6267\u884c\u65f6\u95f4\u4e0a\u7684\u8003\u8651\u3002</li> <li>\u64cd\u4f5c\u6570\uff1a\u5185\u5b58\u5bfb\u5740\u65b9\u5f0f\u3002RISC\u7684\u5185\u5b58\u5bfb\u5740\u65b9\u5f0f\u5355\u4e00\uff0c\u8c03\u5ea6\u7b80\u5355\uff0c\u53ef\u505a\u5355\u72ec\u6d41\u6c34\u7ebf\uff0c\u4f46\u6307\u4ee4\u5bc6\u5ea6\u9ad8\u3002CISC\u8c03\u5ea6\u65b9\u5f0f\u590d\u6742\uff0c\u6d41\u6c34\u7ebf\u8bbe\u8ba1\u590d\u6742\uff0c\u6307\u4ee4\u5bc6\u5ea6\u9ad8\u3002</li> <li>\u73af\u5883\u53d8\u91cf\uff1a \u6761\u4ef6\u6267\u884c\u5bf9\u6d41\u6c34\u7ebf\u7684\u5f71\u54cd\u3002\uff08\u7b2c\u4e8c\u7ae0\u5177\u4f53\u8bb2\uff09</li> <li>\u6307\u4ee4\u7f16\u7801\uff1aRISC\u7f16\u7801\u548cSISC\u7f16\u7801\uff0c\u89e3\u7801\u96be\u5ea6\uff0c\u53d6\u5740\u96be\u5ea6\uff0c\u5206\u652f\u9884\u6d4b\u96be\u5ea6\u7b49\u7b49\u3002\uff08\u7b2c\u4e8c\u7ae0\u5177\u4f53\u8bb2RISC-V\u7684\u7f16\u7801\u8bbe\u8ba1\uff09</li> <li>\u7f16\u8bd1\u5668\uff1a     \u7f16\u8bd1\u5668\u662f\u6307\u4ee4\u96c6\u548c\u9ad8\u7ea7\u8bed\u8a00\u7684\u63a5\u53e3\u3002     \u8bed\u8a00\u7684\u62bd\u8c61\u7b49\u7ea7\u8d8a\u9ad8\uff0cISA\u7684\u4f7f\u7528\u5c31\u66f4\u52a0\u53d7\u9650\uff1aABI\uff0csystemcall\uff0ccontext switching\u3002     \u901a\u7528\u903b\u8f91\u5bc4\u5b58\u5668\u7684\u529f\u80fd\u5f02\u5316\uff0c\u6570\u91cf\u5bf9\u7f16\u8bd1\u5668\u7684\u5f71\u54cd\u3002</li> <li>\u64cd\u4f5c\u7cfb\u7edf\uff1a\u786c\u4ef6\u8d44\u6e90\u7684\u7ba1\u7406\u8005\uff0c\u7279\u6743\u8f6f\u4ef6\u3002     \u64cd\u4f5c\u7cfb\u7edf\u9700\u8981ISA\u7684\u652f\u6301\uff1a\u63a7\u5236\u5bc4\u5b58\u5668\uff0c\u7279\u6743\u6307\u4ee4\uff0c\u5185\u5b58\u6a21\u578b\uff0cIO\u6a21\u578b\u7b49\u7b49\uff0chyervisor\u6a21\u5f0f\u3002     \uff08\u66f4\u5177\u4f53\u7684\uff0c\u6bd4\u5982\u5bf9VM\uff0c\u5b89\u5168\uff0c\u4e0a\u4e0b\u6587\u5207\u6362\u6548\u7387\uff0c\u4e2d\u65ad\u548c\u5f02\u5e38\u7684\u5b9a\u4e49\u7b49\u7b49\uff0c\u90fd\u7559\u5230\u7b2c\u4e8c\u7ae0\uff09</li> </ul>"},{"location":"ch1/sec2-isa/","title":"\u73b0\u6709\u6307\u4ee4\u96c6","text":"<ul> <li>CISC\u6307\u4ee4\u96c6\u7684\u4ee3\u8868\uff1ax86\u548cx86-64\u3002</li> <li>RISC\u6307\u4ee4\u96c6\u7684\u4ee3\u8868\uff1aARM(ARMv7,AArch32,AArch64,thumb, thumb2)</li> <li>\u5176\u4ed6\u7684\u6307\u4ee4\u96c6\uff1aMIPS, PowerPC, SPARC</li> </ul>"},{"location":"ch2/sec9-status/","title":"2.9 RISC-V\u5728\u4ea7\u4e1a\u754c\u4e0e\u5b66\u672f\u754c\u7684\u73b0\u72b6(leishangwen)","text":""},{"location":"ch2/sec9-status/#3-risc-vsoc","title":"3 \u57fa\u4e8erisc-v\u67b6\u6784\u7684\u5f00\u6e90soc","text":""},{"location":"ch2/sec9-status/#331-rocket-chip","title":"3.3.1 Rocket-Chip","text":"<p>UCB\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u5b66\u4e60\uff0c\u540c\u65f6\u4e5f\u4e3a\u4e86\u4fbf\u4e8e\u91cd\u590d\u4f7f\u7528\u5df2\u8bbe\u8ba1\u597d\u7684\u786c\u4ef6\u6a21\u5757\uff0c\u5728GitHub\u4e0a\u5efa\u7acb\u4e86Rocket-Chip Generator\u7684\u9879\u76ee\uff0c\u5176\u4e2d\u5305\u62ec\u4e86Chisel\u3001GCC\u3001Rocket\u5904\u7406\u5668\uff0c\u4ee5\u53ca\u56f4\u7ed5Rocket\u7684\u4e00\u7cfb\u5217\u603b\u7ebf\u5355\u5143\u3001\u5916\u8bbe\u3001\u7f13\u5b58\u7b49\uff0c\u5e76\u4e14\u91c7\u7528\u4e86\u53c2\u6570\u5316\u7684\u914d\u7f6e\u65b9\u6cd5\uff0c\u4ece\u800c\u53ef\u4ee5\u65b9\u4fbf\u7684\u521b\u5efa\u4e0d\u540c\u6027\u80fd\u8981\u6c42\u7684\u57fa\u4e8eRocket\u5904\u7406\u5668\u7684SoC\u3002\u91c7\u7528Chisel\u7f16\u5199\uff0c\u4e3b\u8981\u7684\u5b50\u6a21\u5757\u5982\u4e0b\u3002</p> <ul> <li>Chisel\uff1aUCB\u8bbe\u8ba1\u7684\u5f00\u6e90\u786c\u4ef6\u7f16\u7a0b\u8bed\u8a00\u3002</li> <li>Hardfloat\uff1a\u53c2\u6570\u53ef\u914d\u7f6e\u7684\u3001\u517c\u5bb9IEEE 754-2008\u6807\u51c6\u7684\u6d6e\u70b9\u5355\u5143\u3002</li> <li>Riscv-tools\uff1a\u5f00\u53d1\u5de5\u5177\uff0c\u5305\u62ecGCC\u3001Newlib\uff0c\u4ee5\u53ca\u79fb\u690d\u7684Linux\u3002</li> <li>Rocket\uff1aRocket\u5904\u7406\u5668\uff0c\u5305\u62ecL1 Cache\u3002</li> <li>Uncore\uff1a\u5b9e\u73b0\u4e86\u9700\u8981\u4e0eRocket\u7d27\u5bc6\u8fde\u63a5\u7684\u529f\u80fd\u5355\u5143\uff0c\u6bd4\u5982L2 Cache\u3001L1 Coherence Hub\u7b49\u3002</li> <li>Juntions\uff1a\u5b9e\u73b0\u4e86\u4e0d\u540c\u534f\u8bae\u7684\u63a5\u53e3\u4e4b\u95f4\u7684\u8f6c\u6362\u3002</li> <li>Rocketchip\uff1a\u9876\u5c42\u6a21\u5757\uff0c\u540c\u65f6\u4e5f\u5b9e\u73b0\u4e86\u5185\u90e8\u603b\u7ebfTileLink\u5411\u5916\u90e8\u603b\u7ebfAXI\u6216\u8005AHB\u7684\u8f6c\u6362\u3002</li> </ul> <p>\u524d\u6587\u4ecb\u7ecd\u7684BOOM\u3001Z-scale\u90fd\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6eRocket-Chip\u7684\u4e0d\u540c\u53c2\u6570\u5f97\u5230\u3002</p>"},{"location":"ch2/sec9-status/#332-lowrisc","title":"3.3.2 LowRISC","text":"<p>LowRISC\u662f\u7531\u5251\u6865\u5927\u5b66\u4e3a\u4e3b\u7684\u4e00\u4e9b\u7814\u53d1\u4eba\u5458\u6210\u7acb\u7684\u975e\u8425\u5229\u6027\u7ec4\u7ec7\uff0c\u4e3b\u8981\u662f\u8bbe\u8ba1\u53d1\u5e03\u57fa\u4e8eRISC-V\u6307\u4ee4\u96c6\u768464\u4f4d\u5f00\u6e90SoC\uff0c\u5176\u6210\u5458\u6709\u6811\u8393\u6d3e\u7684\u5408\u4f5c\u8005\uff0c\u6240\u4ee5\u5176\u76ee\u6807\u662f\u5e0c\u671b\u5c06\u8bbe\u8ba1\u7684SoC\u505a\u6210\u7c7b\u4f3c\u4e8e\u6811\u8393\u6d3e\u90a3\u6837\u4ef7\u683c\u4fbf\u5b9c\u3001\u529f\u80fd\u4e30\u5bcc\u3001\u62e5\u6709\u5927\u91cf\u7528\u6237\u7684\u5f00\u6e90\u786c\u4ef6\u3002LowRISC\u53d1\u5e03\u7684SoC\u7684\u540d\u79f0\u4e5f\u662fLowRISC\uff0c\u662f\u5728Rocket-Chip\u7684\u57fa\u7840\u4e0a\u6539\u8fdb\u5f00\u53d1\u7684\uff0c\u91c7\u7528System Verilog\u7f16\u5199\u6539\u8fdb\u90e8\u5206\u7684\u4ee3\u7801\u3002\u4e3b\u8981\u7279\u70b9\u662f\uff1a</p> <p>\uff081\uff09Tagged Memory\uff1a\u7ed9\u6bcf\u4e00\u4e2a\u5b58\u50a8\u4f4d\u7f6e\u90fd\u589e\u52a0\u4e86\u4e00\u4e2aTag\uff0c\u76ee\u524d\u662f\u53cc\u5b57\uff0864bit\uff09\u5bf9\u5e94\u4e00\u4e2aTag\uff084bit\uff09\uff0c\u76ee\u7684\u662f\u9632\u6b62\u63a7\u5236\u6d41\u52ab\u6301\u653b\u51fb\uff0c\u540c\u65f6\u4e5f\u6709\u5176\u4ed6\u7684\u4e00\u4e9b\u7528\u5904\uff0c\u6bd4\u5982\uff1a\u5783\u573e\u56de\u6536\u3001\u8bbe\u7f6ewatchpoint\u7b49\u3002\u4e3a\u4e86\u5b9e\u73b0Tagged Memory\uff0cLowRISC\u4e3aRISC-V\u589e\u52a0\u4e86\u4e24\u6761\u6307\u4ee4\u7528\u6765\u8bfb\u5199Tag\u30022015\u5e744\u6708\u53d1\u5e03\u76840.1\u7248\u672c\u4e2d\u5177\u6709\u8be5\u529f\u80fd\u3002</p> <p>\uff082\uff09Untethered\uff1a\u65e9\u671f\u7684Rocket-Chip\u9700\u8981\u4f9d\u8d56\u4e8e\u4e00\u4e2a\u901a\u7528\u5904\u7406\u5668\u7684\u534f\u52a9\u624d\u80fd\u591f\u542f\u52a8\uff0c\u624d\u80fd\u591f\u8bbf\u95ee\u4e32\u53e3\u3001\u7f51\u53e3\u3001SD\u5361\u7b49\u5916\u8bbe\uff0cUntethered LowRISC\u901a\u8fc7\u5b9e\u73b0\uff08Memory mapping I/O\uff09\u3001\u7247\u4e0aNASTI interconnect\u7b49\u529f\u80fd\uff0c\u89e3\u51b3\u4e86\u4e0a\u8ff0\u95ee\u9898\u30022015\u5e7411\u6708\u53d1\u5e03\u76840.2\u7248\u672c\u4e2d\u5177\u6709\u8be5\u529f\u80fd\u3002</p> <p>\uff083\uff09Trace Debugging\uff1a\u5f15\u5165\u4e86Open SoC Debug\uff0c\u652f\u6301Trace Debugging\uff0c\u53ef\u4ee5\u6536\u96c6\u6307\u4ee4\u6267\u884c\u8bb0\u5f55\uff0c\u4fbf\u4e8e\u79bb\u7ebf\u6216\u8005\u5728\u7ebf\u5206\u6790\u30022016\u5e747\u6708\u53d1\u5e03\u76840.3\u7248\u672c\u4e2d\u5177\u6709\u8be5\u529f\u80fd\u3002</p>"},{"location":"ch2/sec9-status/#333-pulpino","title":"3.3.3 PULPino","text":"<p>PULPino\u662f\u82cf\u9ece\u4e16\u8054\u90a6\u7406\u5de5\u5927\u5b66\u548c\u6ce2\u7f57\u5c3c\u4e9a\u5927\u5b66\u8054\u5408\u53d1\u5e03\u7684\u57fa\u4e8eRISC-V\u7684\u5f00\u6e90\u5904\u7406\u5668\uff0c\u5176\u5904\u7406\u5668\u6838RI5CY\u5728\u524d\u6587\u5df2\u8ff0\uff0c\u82cf\u9ece\u4e16\u8054\u90a6\u7406\u5de5\u5927\u5b66\u548c\u6ce2\u7f57\u5c3c\u4e9a\u5927\u5b66\u672c\u6765\u8bbe\u8ba1\u7684\u9879\u76ee\u662fPULP\uff0c\u8fd9\u662f\u4e00\u4e2a\u591a\u6838SoC\u9879\u76ee\uff0c\u8003\u8651\u5230\u8fd9\u4e2a\u9879\u76ee\u592a\u590d\u6742\uff0c\u6709\u8bb8\u591aIP\u3001\u81ea\u5b9a\u4e49\u5de5\u5177\u96c6\uff0c\u4e0d\u65b9\u4fbf\u5f00\u6e90\uff0c\u6240\u4ee5\u5f00\u53d1\u8005\u51b3\u5b9a\u5148\u5f00\u6e90\u4e00\u4e2a\u5355\u6838SoC\u9879\u76ee\uff0c\u5373PULPino\u3002PULPino\u76f4\u63a5\u4f7f\u7528\u4e86PULP\u9879\u76ee\u7684\u8bb8\u591aIP\u3002</p> <p>PULPino\u5177\u6709\u4e00\u4e2aAXI\u4e92\u8fde\u603b\u7ebf\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e2aAPB\u603b\u7ebf\uff0c\u7528\u6765\u8fde\u63a5\u4f4e\u901f\u5916\u8bbe\uff0c\u6bd4\u5982\uff1aGPIO\u3001UART\u3001I2C\u63a7\u5236\u5668\u3001SPI Master\u63a7\u5236\u5668\u7b49\u3002\u8c03\u8bd5\u6a21\u5757\u652f\u6301Advanced Debug Unit\u3002PULPino\u5305\u62ec\u4e00\u4e2aBoot ROM\uff0c\u5176\u4e2d\u53ef\u4ee5\u5199\u5165BootLoader\uff0c\u4ece\u800c\u5b9e\u73b0\u5728\u542f\u52a8\u7684\u65f6\u5019\u4ece\u5916\u90e8Flash\u8bfb\u5165\u7a0b\u5e8f\u5e76\u6267\u884c\u3002</p>"},{"location":"ch2/sec9-status/#334-risc-v-vhdl","title":"3.3.4 RISC-V VHDL","text":"<p>RISC-V VHDL\u662f\u4fc4\u7f57\u65af\u7684GNSS Sensor\u516c\u53f8\u53d1\u5e03\u7684\u57fa\u4e8eRocket\u7684\u5f00\u6e90SoC\uff0c\u5176\u524d\u8eab\u662f\u83ab\u65af\u79d1\u7269\u7406\u6280\u672f\u5b66\u9662\u7684\u4e00\u4e2a\u9879\u76ee\u3002\u8be5\u9879\u76ee\u7684\u5904\u7406\u5668\u6838\u76f4\u63a5\u5c31\u7528\u7684\u662fRocket\uff0c\u53ef\u4ee5\u914d\u7f6e\u4e3a\u53ea\u6709L1Cache\uff0c\u4e5f\u53ef\u4ee5\u914d\u7f6e\u4e3a\u5305\u62ecL2Cache\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u7684IP\u6838\uff0c\u91c7\u7528\u7c7b\u4f3cLEON3\u7684GRLIB\u5e93\u7684\u65b9\u5f0f\uff0c\u6240\u6709\u7684IP\u6838\u90fd\u662f\u5373\u63d2\u5373\u7528\uff0cRISC-V VHDL\u63d0\u4f9b\u4e86\u4e00\u4e2aAXI\u603b\u7ebf\uff0cIP\u6838\u90fd\u6302\u8f7d\u5728\u8be5\u603b\u7ebf\u4e0a\u3002IP\u6838\u5305\u62ec\uff1aUART\u3001GPIO\u3001\u4e2d\u65ad\u63a7\u5236\u5668\u3001\u4ee5\u592a\u7f51\u63a7\u5236\u5668\uff0c\u6b64\u5916\u8fd8\u652f\u6301DSU\uff08Debug Support Unit\uff09\uff0c\u5747\u91c7\u7528VHDL\u7f16\u5199\u4ee3\u7801\u3002</p> <p>RISC-V VHDL\u4e2d\u5927\u591a\u6570IP\u6838\u90fd\u662f\u5f00\u6e90\u7684\uff0c\u552f\u4e00\u5546\u4e1a\u7684\u662fGNSSLIB\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0e\u5b9a\u4f4d\u5bfc\u822a\u6709\u5173\u7684\u5e93\uff0c\u4e5f\u662fRISC-V VHDL\u7684\u7279\u8272\u3002</p>"},{"location":"ch3/reference/","title":"\u53c2\u8003\u6587\u732e","text":"<p>[1]Krste Asanovic, David Patterson, The Case for Open Instruction Sets[J], MICROPROCESSOR report, 2014, 8: 1-7 .</p> <p>[2]Christopher Celio, David Patterson, and Krste Asanovi\u00b4c, The Berkeley Out-of-Order Machine (BOOM): An Industry-Competitive, Synthesizable, Parameterized RISC-V Processor[R], EECS Department, University of California, Berkeley, June 2015.</p> <p>[3]Christopher Celio, David Patterson, and Krste Asanovi\u00b4c, The Berkeley Out-of-Order Machine (BOOM) Design Specification[R],EECS Department, University of California, Berkeley,December 2016.</p> <p>[4]N. Gala, A. Menon, R. Bodduna, G. S. Madhusudan, V. Kamakoti, SHAKTI Processors: An Open-Source Hardware Initiative[C], 29th International Conference on VLSI Design and 2016 15th International Conference on Embedded Systems (VLSID), Kolkata, India, January,2016</p> <p>[5]PULPino User Manul[EB/OL],http://www.pulp-platform.org/documentation/, 2016-8</p> <p>[6]Michael Zimmer, David Broman, Chris Shaver, Edward A. Lee, FlexPRET: A Processor Platform for Mixed-Criticality Systems[C], Proceedings of the 20th IEEE Real-Time and Embedded Technology and Application Symposium (RTAS), April, 2014.</p> <p>[7]PEYRET Thomas, VENTROUX Nicolas, OLIVIER Thomas, HETEROGENEOUS MULTICORE BASED ON RISC-V PROCESSORS AND FD-SOI SILICON PLATFORM[C], 4th RISC-V Workshop Proceedings, July, 2016.</p>"},{"location":"ch4/sec1-overview/","title":"4.1 Rocket\u5904\u7406\u5668\u4ecb\u7ecd","text":""},{"location":"ch4/sec1-overview/#31-risc-v","title":"3.1 \u57fa\u4e8erisc-v\u67b6\u6784\u7684\u5f00\u6e90\u5904\u7406\u5668","text":""},{"location":"ch4/sec1-overview/#311-rocket","title":"3.1.1 \u6807\u91cf\u5904\u7406\u5668\u2014\u2014Rocket","text":"<p>Rocket\u662f\u7531\u7f8e\u56fd\u52a0\u5dde\u4f2f\u514b\u5229\u5927\u5b66\u8bbe\u8ba1\u7684\u4e00\u6b3e64\u4f4d\uff0832\u4f4d\u53ef\u914d\uff09\u30015\u7ea7\u6d41\u6c34\u7ebf\u3001\u987a\u5e8f\u6267\u884c\u7684RISC-V\u5904\u7406\u5668\u3002\u5176\u4e3b\u8981\u7279\u70b9\u6709\uff1a</p> <ul> <li>\u652f\u6301\u5206\u9875\u865a\u62df\u5185\u5b58\uff0c\u6240\u4ee5\u53ef\u4ee5\u79fb\u690dLinux\u64cd\u4f5c\u7cfb\u7edf\u3002</li> <li>\u5177\u6709\u5206\u652f\u9884\u6d4b\u529f\u80fd\uff0c\u5177\u6709BTB\uff08Branch Prediction Buff\uff09\u3001BHT\uff08Branch History Table\uff09\u3001RAS\uff08Return Address Stack\uff09\u3002</li> <li>\u53ef\u914d\u7f6e\u975e\u963b\u65ad\u7684\u4e00\u7ea7\u6570\u636e\u7f13\u5b58\u3002</li> <li>\u53ef\u914d\u7f6e\u517c\u5bb9IEEE 754-2008\u6807\u51c6\u7684\u6d6e\u70b9\u8fd0\u7b97\u5355\u5143\uff08FPU, Floating-Point Unit\uff09\u3002</li> </ul> <p>Rocket\u91c7\u7528Chisel\uff08Constructing Hardware in an Scala Embedded Language\uff09\u7f16\u5199\uff0c\u8fd9\u4e5f\u662f\u52a0\u5dde\u4f2f\u514b\u5229\u57fa\u4e8eScala\u8bed\u8a00\u8bbe\u8ba1\u7684\u4e00\u79cd\u5f00\u6e90\u7684\u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\u3002Chisel\u5145\u5206\u5229\u7528\u4e86Scala\u7684\u4f18\u52bf\uff0c\u5c06\u9762\u5411\u5bf9\u8c61\uff08object orientation\uff09\u3001\u51fd\u6570\u5f0f\u7f16\u7a0b\uff08functional programming\uff09\u3001\u7c7b\u578b\u53c2\u6570\u5316\uff08parameterized types\uff09\u3001\u7c7b\u578b\u63a8\u65ad\uff08type inference\uff09\u7b49\u6982\u5ff5\u5f15\u5165\u4e86\u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\uff0c\u63d0\u5347\u4e86\u786c\u4ef6\u63cf\u8ff0\u7684\u62bd\u8c61\u7ea7\u522b\uff0c\u4ece\u800c\u63d0\u4f9b\u4e86\u786c\u4ef6\u8bbe\u8ba1\u4eba\u5458\u66f4\u52a0\u5f3a\u5927\u7684\u786c\u4ef6\u5f00\u53d1\u80fd\u529b\u3002\u4f7f\u7528Chisel\u7f16\u5199\u7684\u786c\u4ef6\u7535\u8def\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u5f97\u5230\u5bf9\u5e94\u7684Verilog\u8bbe\u8ba1\uff0c\u8fd8\u53ef\u4ee5\u5f97\u5230\u5bf9\u5e94\u7684C++\u6a21\u62df\u5668\u3002Rocket\u4f7f\u7528Chisel\u7f16\u5199\uff0c\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u5f97\u5230\u5bf9\u5e94\u7684\u8f6f\u4ef6\u6a21\u62df\u5668\u3002\u540c\u65f6\uff0c\u56e0\u4e3aChisel\u662f\u9762\u5411\u5bf9\u8c61\u7684\uff0c\u6240\u4ee5Rocket\u7684\u5f88\u591a\u7c7b\u53ef\u4ee5\u88ab\u5176\u4ed6\u5f00\u6e90\u5904\u7406\u5668\u3001\u5f00\u6e90SoC\u76f4\u63a5\u4f7f\u7528\u3002</p> <p>Rocket\u5df2\u7ecf\u88ab\u6d41\u724711\u6b21\u4e4b\u591a\uff0c\u5176\u4e2d\u91c7\u7528\u53f0\u79ef\u753540nm\u5de5\u827a\u65f6\u7684\u6027\u80fd\u4e0e\u91c7\u7528\u540c\u6837\u5de5\u827a\u7684\uff0c\u90fd\u662f\u6807\u91cf\u5904\u7406\u5668\u7684ARM Cortex-A5\u7684\u6027\u80fd\u5bf9\u6bd4\u5982\u88683-1\u6240\u793a\u3002\u53ef\u89c1Rocket\u5360\u7528\u66f4\u5c0f\u7684\u9762\u79ef\uff0c\u4f7f\u7528\u66f4\u5c0f\u7684\u529f\u8017\uff0c\u4f46\u662f\u6027\u80fd\u5374\u66f4\u4f18\u3002\u6709\u5173Rocket\u7684\u8be6\u7ec6\u4fe1\u606f\u5c06\u5728\u7b2c\u56db\u7ae0\u8be6\u7ec6\u4ecb\u7ecd\u3002</p> <p>\u88683-1 ARM Cortex-A5\u4e0e\u91c7\u7528RISC-V\u6307\u4ee4\u96c6\u67b6\u6784\u7684Rocket\u6bd4\u8f83[1]</p> ARM Cortex-A5 RISC-V Rocket Ratio \u5bc4\u5b58\u5668\u5bbd\u5ea6 32 64 2 \u4e3b\u9891 &gt;1Ghz &gt;1GHz 1 Dhrystone 1.57DMIPS/MHz 1.72DMIPS/Hz 1.1 \u9762\u79ef\uff08\u4e0d\u5305\u542bCache\uff09 0.27mm2 0.14mm2 0.5 \u9762\u79ef\uff08\u5305\u542b16KBCache\uff09 0.53mm2 0.39mm2 0.7 \u52a8\u6001\u529f\u8017 &lt;0.08 mW/MHz 0.034 mW/MHz &gt;0.4"},{"location":"ch4/sec1-overview/#312-boom","title":"3.1.2 \u8d85\u6807\u91cf\u4e71\u5e8f\u6267\u884c\u5904\u7406\u5668\u2014\u2014BOOM","text":"<p>BOOM\uff08Berkeley Out-of-Order Machine\uff09\u662fUCB\u8bbe\u8ba1\u7684\u4e00\u6b3e64\u4f4d\u8d85\u6807\u91cf\u3001\u4e71\u5e8f\u6267\u884c\u5904\u7406\u5668\uff0c\u652f\u6301RV64G\uff0c\u4e5f\u662f\u91c7\u7528Chisel\u7f16\u5199\uff0c\u5229\u7528Chisel\u7684\u4f18\u52bf\uff0c\u53ea\u4f7f\u7528\u4e869000\u884c\u4ee3\u7801\uff0c\u5e76\u4e14\u670d\u7528\u4e86Rocket\u7684\u5927\u91cf\u4ee3\u7801\u3002\u5176\u6d41\u6c34\u7ebf\u53ef\u4ee5\u5212\u5206\u4e3a6\u7ea7\uff0c\u5206\u522b\u662f\u53d6\u6307\u3001\u8bd1\u7801/\u91cd\u547d\u540d/\u6307\u4ee4\u5206\u914d\u3001\u53d1\u5c04/\u8bfb\u5bc4\u5b58\u5668\u3001\u6267\u884c\u3001\u8bbf\u5b58\u3001\u56de\u5199\u3002\u5982\u56fe3-1\u6240\u793a\u3002</p> <p></p> <p>\u56fe3-1 BOOM\u5904\u7406\u5668\u7684\u6d41\u6c34\u7ebf[3]</p> <p>\u501f\u52a9\u4e8eChisel\uff0cBOOM\u662f\u53ef\u53c2\u6570\u5316\u914d\u7f6e\u7684\u8d85\u6807\u91cf\u5904\u7406\u5668\uff0c\u53ef\u914d\u7f6e\u7684\u53c2\u6570\u5305\u62ec\uff1a</p> <ul> <li>\u53d6\u6307\u3001\u8bd1\u7801\u3001\u63d0\u4ea4\u3001\u6307\u4ee4\u53d1\u5c04\u7684\u5bbd\u5ea6</li> <li>\u91cd\u6392\u5e8f\u7f13\u5b58ROB\uff08Re-Order Buffer\uff09\u3001\u7269\u7406\u5bc4\u5b58\u5668\u7684\u5927\u5c0f</li> <li>\u53d6\u6307\u4ee4\u7f13\u5b58\u3001RAS\u3001BTB\u3001\u52a0\u8f7d\u3001\u5b58\u50a8\u961f\u5217\u7684\u6df1\u5ea6</li> <li>\u6709\u5e8f\u53d1\u5c04\u8fd8\u662f\u65e0\u5e8f\u53d1\u5c04</li> <li>L1 cache\u7684\u8def\u6570</li> <li>MSHRs\uff08Miss Status Handling Registers\uff09\u7684\u5927\u5c0f</li> <li>\u662f\u5426\u4f7f\u80fdL2 Cache</li> </ul> <p>UCB\u5df2\u7ecf\u572840nm\u5de5\u827a\u4e0a\u5bf9BOOM\u8fdb\u884c\u4e86\u6d41\u7247\uff0c\u6d4b\u8bd5\u7ed3\u679c\u5982\u88683-2\u6240\u793a\u3002\u53ef\u89c1BOOM\u4e0e\u5546\u4e1a\u4ea7\u54c1ARM Cortex-A9\u7684\u6027\u80fd\u8981\u7565\u4f18\uff0c\u4f53\u73b0\u5728\u9762\u79ef\u5c0f\u3001\u529f\u8017\u4f4e\u3002</p> <p>\u88683-2 BOOM\u4e0eARM Cortex-A9\u7684\u6027\u80fd\u5bf9\u6bd4[2]</p> ARM Cortex-A9 RISC-V BOOM-2W ISA 32bit ARM v7 64bit RISC-V\uff08RV64G\uff09 \u5fae\u67b6\u6784 2wide\uff0c4\u53d1\u5c04\u4e71\u5e8f\u5904\u7406\u5668 2wide\uff0c3\u53d1\u5c04\u4e71\u5e8f\u5904\u7406\u5668 \u6d41\u6c34\u7ebf\u7ea7\u6570 8 6 \u6027\u80fd 3.59 CoreMarks/MHz 3.91 CoreMarks/MHz \u5de5\u827a \u53f0\u79ef\u753540nm \u53f0\u79ef\u753540nm \u9762\u79ef\uff08\u542b32K\u7f13\u5b58\uff09 \u7ea62.5 mm2 \u7ea61.00 mm2 \u4e3b\u9891 1.4GHz 1.5GHz \u529f\u8017 0.5-1.9 W (2 cores + L2)@ TSMC 40nm, 0.8-2.0 GHz 0.25 W (1 core + L1)@ TSMC 45nm, 1 GHz"},{"location":"ch4/sec1-overview/#313-shakti","title":"3.1.3 \u5904\u7406\u5668\u5bb6\u65cf\u2014\u2014SHAKTI","text":"<p>SHAKTI[4]\u662f\u5370\u5ea6\u7406\u5de5\u5b66\u9662\u7684\u4e00\u4e2a\u8ba1\u5212\uff0c\u76ee\u6807\u662f\u8bbe\u8ba1\u4e00\u7cfb\u5217\u9002\u5408\u4e0d\u540c\u5e94\u7528\u73af\u5883\u7684\u3001\u57fa\u4e8eRISC-V\u7684\u5f00\u6e90\u5904\u7406\u5668\uff0c\u4ee5\u53ca\u4e00\u4e9bIP\u6838\uff0c\u4ee5\u4fbf\u642d\u5efaSoC\u3002\u8fd9\u4e9b\u5904\u7406\u5668\u662fE-Class\u3001C-Class\u3001I-Class\u3001M-Class\u3001S-Class\u3001H-Class\u3001T-Class\u3001N-Class\u3002</p> <ul> <li>E-Class\uff1a32\u4f4d\u6807\u91cf\u5904\u7406\u5668\uff0c3\u7ea7\u6d41\u6c34\u7ebf\uff0c\u652f\u6301RISC-V\u7684C\uff08Compress\uff09\u6269\u5c55\uff0c\u76ee\u6807\u662f\u8d85\u4f4e\u529f\u8017\u5904\u7406\u5668\u3002</li> <li>C-Class\uff1a32\u4f4d\u6216\u800564\u4f4d\u6807\u91cf\u5904\u7406\u5668\uff0c3-8\u7ea7\u6d41\u6c34\u7ebf\uff0c\u652f\u6301MMU\u3001\u5177\u6709\u5bb9\u9519\u529f\u80fd\u3001\u652f\u6301RISC-V\u7684C\u6269\u5c55\uff0c\u76ee\u6807\u4e5f\u662f\u8d85\u4f4e\u529f\u8017\u5904\u7406\u5668\u3002</li> <li>I-Class\uff1a64\u4f4d\u30011-8\u6838\uff0c\u4e71\u5e8f\u6267\u884c\u5904\u7406\u5668\uff0c\u5171\u4eabL2 Cache\u3001\u652f\u6301\u53cc\u7ebf\u7a0b\u3001SIMD/VPU\uff0c\u76ee\u6807\u662f\u901a\u7528\u5904\u7406\u5668\u3002</li> <li>M-Class\uff1aI-Class\u7684\u589e\u5f3a\u7248\uff0c\u589e\u52a0\u4e86\u6307\u4ee4\u53d1\u5c04\u5927\u5c0f\u3001\u652f\u6301\u56db\u7ebf\u7a0b\u3001\u6700\u9ad8\u652f\u630116\u6838\uff0c\u76ee\u6807\u662f\u901a\u7528\u5904\u7406\u5668\u3001\u4f4e\u7aef\u670d\u52a1\u5668\u548c\u79fb\u52a8\u5e94\u7528\u3002</li> <li>S-Class\uff1a64\u4f4d\u3001\u8d85\u6807\u91cf\u591a\u7ebf\u7a0b\u5904\u7406\u5668\uff0c\u652f\u6301L3 Cache\u3001RapidIO\u3001HMC\uff08Hybrid Memory Cube\uff09\u3001\u5411\u91cf\u5904\u7406\u5355\u5143\uff0c\u8fd8\u6709\u534f\u5904\u7406\u5668\u7528\u4e8e\u6570\u636e\u5e93\u8bbf\u95ee\u3001\u52a0\u5bc6\u7b97\u6cd5\u3001\u673a\u5668\u5b66\u4e60\uff0c\u6700\u9ad8\u652f\u630164\u6838\uff0c\u76ee\u6807\u662f\u901a\u7528\u5904\u7406\u5668\u3001\u670d\u52a1\u5668\u3002</li> <li>H-Class\uff1a64\u4f4d\u300132-128\u6838\u3001\u652f\u6301\u591a\u7ebf\u7a0b\u3001\u987a\u5e8f\u6216\u8005\u4e71\u5e8f\u6267\u884c\u5904\u7406\u5668\uff0c\u5177\u6709\u5411\u91cf\u5904\u7406\u5355\u5143\uff0c\u76ee\u6807\u662f\u9ad8\u6027\u80fd\u8ba1\u7b97\u3002</li> <li>T-Class\uff1a64\u6216\u8005128\u4f4d\u5904\u7406\u5668\uff0c\u5176\u4e2d\u901a\u8fc7\u4e3a\u5b58\u50a8\u5668\u5f15\u5165Tag\uff0c\u4ece\u800c\u589e\u5f3a\u5176\u5b89\u5168\u6027\u3002</li> <li>N-Class\uff1a\u76ee\u6807\u662f\u901a\u8fc7\u81ea\u5b9a\u4e49\u7684\u6269\u5c55\u8fdb\u884c\u7f51\u7edc\u6570\u636e\u5904\u7406\u3002</li> </ul> <p>\u622a\u81f32017\u5e747\u6708\uff0c\u5df2\u7ecf\u5f00\u6e90\u7684\u662fE-Class\u3001C-Class\u3001I-Class\u7684\u6d4b\u8bd5\u7248\u672c\uff0c\u9075\u5faa\u7684\u662fRISC-V\u7528\u6237\u7ea7\u89c4\u83032.0\u3001\u7279\u6743\u7ea7\u89c4\u83031.7\uff0c\u4f7f\u7528Bluespec System Verilog\u7f16\u5199\u3002\u4ee5I-Class\u4e3a\u4f8b\uff0c\u5176\u662f\u4e00\u6b3e64\u4f4d\u3001\u53cc\u53d1\u5c04\u4e71\u5e8f\u6267\u884c\u5904\u7406\u5668\uff0c\u6d41\u6c34\u7ebf\u5206\u4e3a8\u7ea7\uff0c\u5206\u522b\u662f\u53d6\u6307\u3001\u8bd1\u7801\u3001\u91cd\u547d\u540d\u3001\u5524\u9192\uff08Wakeup\uff09\u3001\u9009\u62e9\uff08Select\uff09\u3001\u9a71\u52a8\uff08Drive\uff09\u3001\u6267\u884c\u3001\u63d0\u4ea4\u3002</p> <p>SHAKTI\u867d\u7136\u8ba1\u5212\u5b8f\u4f1f\uff0c\u4f46\u662f\u76f8\u5173\u7684\u6587\u6863\u5f88\u5c11\uff0c\u5b66\u4e60\u96be\u5ea6\u8f83\u5927\u3002</p>"},{"location":"ch4/sec1-overview/#314-orca","title":"3.1.4 \u5d4c\u5165\u5f0f\u5e94\u7528\u5904\u7406\u5668\u2014\u2014ORCA","text":"<p>ORCA\u662f\u7531VectorBlox\u516c\u53f8\u8bbe\u8ba1\u7684\u4e00\u6b3e32\u4f4d\u6807\u91cf\u5904\u7406\u5668\uff0c\u76ee\u6807\u662f\u5e94\u7528\u4e8e\u5d4c\u5165\u5f0f\u9886\u57df\uff0c\u91c7\u7528VHDL\u7f16\u5199\uff0c\u5b9e\u73b0\u4e86RV32IM\uff0c\u4e5f\u53ef\u4ee5\u79fb\u9664\u5176\u4e2d\u7684M\u6269\u5c55\uff0c\u4e5f\u5c31\u662f\u79fb\u9664\u4e58\u6cd5\u9664\u6cd5\u6269\u5c55\uff0c\u4ece\u800c\u51cf\u5c11\u82af\u7247\u5360\u7528\u8d44\u6e90\uff0c\u751a\u81f3\u53ef\u4ee5\u79fb\u9664\u4e0e\u5b9a\u65f6\u5668\u6709\u5173\u7684\u6307\u4ee4\uff0c\u4ece\u800c\u4ec5\u4ec5\u5b9e\u73b0RV32E\u3002\u5f53\u5c06ORCA\u4f5c\u4e3a\u4e00\u4e2a\u8f6f\u6838\u4e0b\u8f7d\u5230FPGA\u4e0a\u7684\u65f6\u5019\uff0c\u5176\u8d44\u6e90\u5360\u7528\u4e0e\u4e3b\u9891\u5982\u88685\u6240\u793a\u3002</p> <p>\u88685 ORCA\u4e0d\u540c\u914d\u7f6e\u65f6\u7684\u8d44\u6e90\u5360\u7528\u4e0e\u4e3b\u9891[5]</p> <p>\uff08\u4ee5Altera's Cyclone IV\u4e3a\u76ee\u6807FPGA\uff09</p> ORCA\u914d\u7f6e \u6700\u9ad8\u4e3b\u9891 LUT4\u5360\u7528 RV32E 138MHz 1700 RV32I 133.53MHz 1900 RV32IM 97MHz 2500 RV32IM\uff08\u9664\u6cd5\u4e0d\u4f7f\u7528\u786c\u4ef6\u5b9e\u73b0\uff09 101MHz 2100"},{"location":"ch4/sec1-overview/#315","title":"3.1.5 \u5176\u4ed6\u5f00\u6e90\u5904\u7406\u5668","text":"<p>\uff081\uff09RI5CY</p> <p>RI5CY\u662f\u7531\u82cf\u9ece\u4e16\u8054\u90a6\u7406\u5de5\u5927\u5b66\u548c\u6ce2\u7f57\u5c3c\u4e9a\u5927\u5b66\u8054\u5408\u8bbe\u8ba1\u7684\u4e00\u6b3e\u5c0f\u5de7\u76844\u7ea7\u6d41\u6c34\u7ebf\u5f00\u6e90\u5904\u7406\u5668\uff0c\u5b9e\u73b0\u4e86RV32IC\uff0c\u4ee5\u53caRV32M\u4e2d\u4e58\u6cd5\u6307\u4ee4mul\uff0c\u5176\u76ee\u6807\u662f\u4f5c\u4e3a\u5e76\u884c\u8d85\u4f4e\u529f\u8017\u5904\u7406\u5668\u9879\u76eePULP\uff08Parallel Ultra Low Power\uff09\u7684\u5904\u7406\u5668\u6838\uff0c\u6240\u4ee5RI5CY\u5728RISC-V\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u8bb8\u591a\u6269\u5c55\uff0c\u5305\u62ec\u786c\u4ef6\u5faa\u73af\u3001\u4e58\u7d2f\u52a0\u3001\u9ad8\u7ea7\u7b97\u672f\u6307\u4ee4\u7b49\u3002\u91c7\u7528UMC\u768465nm\u5de5\u827a\u8fdb\u884c\u6d41\u7247\uff0cRI5CY\u4e3b\u9891\u53ef\u4ee5\u8fbe\u5230654MHz\uff0c\u52a8\u6001\u529f\u8017\u662f17.5uW/MHz[6]\u3002\u91c7\u7528SystemVerilog\u7f16\u5199\u3002</p> <p>\uff082\uff09RIDECORE</p> <p>RIDECORE (RIsc-v Dynamic Execution CORE) \u662f\u7531\u4e1c\u4eac\u5de5\u4e1a\u5927\u5b66\u8bbe\u8ba1\u53d1\u5e03\u7684\u4e00\u6b3e\u8d85\u6807\u91cf\u4e71\u5e8f\u6267\u884c\u5904\u7406\u5668\uff0c\u5b9e\u73b0\u4e86RV32IM\uff0c6\u7ea7\u6d41\u6c34\u7ebf\uff0c\u5206\u522b\u662f\u53d6\u6307\u3001\u8bd1\u7801\u3001\u6307\u4ee4\u5206\u914d\u3001\u53d1\u5c04\u3001\u6267\u884c\u3001\u63d0\u4ea4\uff0c\u53ef\u4ee5\u540c\u65f6\u53d6\u4e24\u6761\u6307\u4ee4\u3001\u5bf9\u4e24\u6761\u6307\u4ee4\u8bd1\u7801\u3001\u63d0\u4ea4\u4e24\u6761\u6307\u4ee4\u3002\u91c7\u7528\u7684\u662fGshare\u5206\u652f\u9884\u6d4b\u673a\u5236\u3002</p> <p>\uff083\uff09Hwacha</p> <p>Hwacha\u662f\u7531UCB\u5f00\u53d1\u7684\u4e00\u6b3e\u5411\u91cf\u5904\u7406\u5668\uff0cUCB\u5c06Hwacha\u4f5c\u4e3aRISC-V\u7684\u4e00\u4e2a\u975e\u6807\u51c6\u6269\u5c55Xhwacha\uff0c\u5df2\u7ecf\u4ee528nm\u548c45nm\u7684\u5de5\u827a\u6d41\u7247\u591a\u6b21\uff0c\u4e3b\u9891\u57281.5GHz\u4ee5\u4e0a\uff0c\u76ee\u524d\u8fd8\u5728\u7814\u53d1\u4e2d\uff0c\u6b63\u5728\u4fee\u6539OpenCL\u7684\u7f16\u8bd1\u5668\uff0c\u4ee5\u9002\u5408Hwacha\uff0cUCB\u8ba1\u5212\u4ee5\u5f00\u6e90\u7684\u5f62\u5f0f\u53d1\u5e03\u5176\u4ee3\u7801\u3002</p> <p>\uff084\uff09f32c</p> <p>f32c\u662f\u7531\u8428\u683c\u52d2\u5e03\u5927\u5b66\u8bbe\u8ba1\u53d1\u5e03\u768432\u4f4d\u30015\u7ea7\u6d41\u6c34\u7ebf\u3001\u6807\u91cf\u5904\u7406\u5668\uff0c\u539f\u672c\u5b9e\u73b0\u7684\u662fMIPS\u6307\u4ee4\u96c6\uff0c\u540e\u6765\u6dfb\u52a0\u5b9e\u73b0\u4e86RISC-V\u6307\u4ee4\u96c6\uff0c\u5904\u7406\u5668\u5305\u62ec\u5206\u652f\u9884\u6d4b\u3001\u76f4\u63a5\u6620\u5c04\u7f13\u5b58\uff0c\u540c\u65f6\u53d1\u5e03\u7684\u8fd8\u6709SDRAM\u63a7\u5236\u5668\u3001SRAM\u63a7\u5236\u5668\u3001\u89c6\u9891FrameBuffer\u3001SPI\u63a7\u5236\u5668\u3001UART\u3001GPIO\u7b49IP\uff0c\u4f7f\u7528VHDL\u7f16\u5199\u4ee3\u7801\u3002\u4f7f\u7528f32c\u5904\u7406\u5668\u6838\uff0c\u8428\u683c\u52d2\u5e03\u5927\u5b66\u53d1\u5e03\u4e86FPGArduino\u9879\u76ee\uff0c\u8be5\u9879\u76ee\u5c06\u4e00\u5757FPGA\u5f00\u53d1\u677f\u53d8\u4e3a\u4e00\u4e2aArduino\u677f\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528Arduino IDE\u8fdb\u884c\u7a0b\u5e8f\u7f16\u8bd1\u4e0b\u8f7d\u3002</p> <p>\uff085\uff09Z-scale/V-scale</p> <p>Z-scale\u662fUCB\u53d1\u5e03\u7684\u9488\u5bf9\u5d4c\u5165\u5f0f\u73af\u5883\u768432\u4f4d\u30013\u7ea7\u6d41\u6c34\u7ebf\u3001\u5355\u53d1\u5c04\u6807\u91cf\u5904\u7406\u5668\uff0c\u5b9e\u73b0\u4e86RV32IM\uff0c\u6307\u4ee4\u603b\u7ebf\u548c\u6570\u636e\u603b\u7ebf\u90fd\u662fAHB-Lite\u3002Z-scale\u91c7\u7528\u662fChisel\u7f16\u5199\u4ee3\u7801\uff0c\u5229\u7528Rocket\u4e2d\u7684\u4ee3\u7801\uff0c\u4ec5\u589e\u52a0\u4e86604\u884c\u4ee3\u7801\u5c31\u5b9e\u73b0\u4e86Z-scale\u3002V-scale\u662fZ-scale\u5bf9\u5e94\u7684Verilog\u7248\u672c\u3002</p> <p>\uff086\uff09sodor</p> <p>sodor\u662fUCB\u53d1\u5e03\u7684\u9488\u5bf9\u6559\u5b66\u768432\u4f4d\u5f00\u6e90\u5904\u7406\u5668\u7cfb\u5217\uff0c\u91c7\u7528Chisel\u7f16\u7801\u5b9e\u73b0\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5f97\u5230\u5bf9\u5e94\u7684C++\u6a21\u62df\u5668\u3002sodor\u7cfb\u5217\u6709\u4e94\u79cd\u5904\u7406\u5668\uff0c\u5206\u522b\u662f\u5355\u5468\u671f\u5904\u7406\u5668\u30012\u7ea7\u6d41\u6c34\u7ebf\u5904\u7406\u5668\u30013\u7ea7\u6d41\u6c34\u7ebf\u5904\u7406\u5668\u30015\u7ea7\u6d41\u6c34\u7ebf\u5904\u7406\u5668\u3001\u53ef\u6267\u884c\u5fae\u7801\u7684\u5904\u7406\u5668\u3002</p> <p>\uff087\uff09PicoRV32</p> <p>PicoRV32\u662f\u7531RISC-V\u5f00\u53d1\u8005Clifford Wolf\u8bbe\u8ba1\u53d1\u5e03\u7684\u4e00\u6b3e\u5927\u5c0f\u7ecf\u8fc7\u4f18\u5316\u7684\u5f00\u6e90\u5904\u7406\u5668\uff0c\u5b9e\u73b0\u4e86RV32IMC\uff0c\u5e76\u4e14\u6839\u636e\u4e0d\u540c\u73af\u5883\u53ef\u914d\u7f6e\u4e3a\u5b9e\u73b0RV32E\u3001RV32I\u3001RV32IC\u3001RV32IM\u3001RV32IMC\u3002\u5185\u7f6e\u4e00\u4e2a\u53ef\u9009\u62e9\u7684\u4e2d\u65ad\u63a7\u5236\u5668\u3002\u5176\u7279\u70b9\u662f\u5c0f\u5de7\uff0c\u5728Xilinx7\u7cfb\u5217\u82af\u7247\u4e0a\u5360\u7528750-2000\u4e2aLUT\uff0c\u901f\u5ea6\u53ef\u4ee5\u8fbe\u5230250-400MHz\u3002PicoRV32\u91c7\u7528Verilog\u7f16\u5199\u4ee3\u7801\u3002</p> <p>\uff088\uff09Tom Thumb</p> <p>Tom Thumb\u662f\u7531RISC-V\u5f00\u53d1\u8005maikmerten\u8bbe\u8ba1\u53d1\u5e03\u7684\u4e00\u6b3e32\u4f4d\u30016\u7ea7\u6d41\u6c34\u7ebf\u5f00\u6e90\u5904\u7406\u5668\uff0c\u5b9e\u73b0\u4e86RV32I\uff0c\u76ee\u6807\u662f\u5c3d\u91cf\u51cf\u5c11FPGA\u7684\u8d44\u6e90\u5360\u7528\uff0c\u5728Cyclone IV\u7cfb\u5217FPGA\u4e0a\u5927\u7ea6\u5360\u7528\u8d44\u6e901200 LEs\u3002\u91c7\u7528VHDL\u7f16\u5199\u4ee3\u7801\u3002</p> <p>\uff089\uff09FlexPRET</p> <p>FlexPRET[7]\u662f\u7531UCB\u8bbe\u8ba1\u53d1\u5e03\u76845\u7ea7\u6d41\u6c34\u7ebf\u3001\u591a\u7ebf\u7a0b\u5904\u7406\u5668\uff0c\u76ee\u6807\u662f\u4f7f\u7528\u5728\u5b9e\u65f6\u5d4c\u5165\u5f0f\u5e94\u7528\u4e2d\uff0c\u7ebf\u7a0b\u6570\u91cf\u53ef\u914d\u7f6e\u4e3a1-8\u3002\u4e3a\u4e86\u63d0\u9ad8\u5d4c\u5165\u5f0f\u5904\u7406\u5668\u7684\u8d44\u6e90\u5229\u7528\u7387\uff0c\u6bcf\u4e2a\u786c\u4ef6\u7ebf\u7a0b\u88ab\u6807\u8bb0\u4e3a\u786c\u5b9e\u65f6\uff08hard real-time thread\uff09\u6216\u8005\u8f6f\u5b9e\u65f6\uff08soft real-time thread\uff09\uff0c\u786c\u5b9e\u65f6\u7ebf\u7a0b\u6309\u7167\u56fa\u5b9a\u7684\u9891\u7387\u88ab\u8c03\u5ea6\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u786c\u5b9e\u65f6\u7ebf\u7a0b\u53ef\u8c03\u5ea6\uff0c\u518d\u8c03\u5ea6\u8f6f\u5b9e\u65f6\u7ebf\u7a0b\u3002\u4f7f\u7528Chisel\u7f16\u5199\u4ee3\u7801\u3002</p> <p>\uff0810\uff09YARVI</p> <p>YARVI\uff08Yet Another RISC-V Implementation\uff09\u662f\u7531RISC-V\u5f00\u53d1\u8005Tommy Thorn\u8bbe\u8ba1\u53d1\u5e03\u7684\u4e00\u6b3e\u7b80\u5355\u7684\u300132\u4f4d\u5f00\u6e90\u5904\u7406\u5668\uff0c\u5b9e\u73b0\u4e86RV32I\uff0c\u4f7f\u7528Verilog\u4f5c\u4e3a\u5f00\u53d1\u8bed\u8a00\u3002\u5176\u51fa\u53d1\u70b9\u4e0d\u5728\u4e8e\u6027\u80fd\uff0c\u800c\u662f\u8981\u80fd\u591f\u6e05\u6670\u3001\u51c6\u786e\u7684\u5b9e\u73b0RV32I\u3002</p>"},{"location":"ch8/ch8-pulpino/","title":"Ch8 pulpino","text":""},{"location":"ch8/ch8-pulpino/#pulpino","title":"\u7b2c\u516b\u7ae0 PULPino","text":""},{"location":"ch8/ch8-pulpino/#81-pulp","title":"8.1 PULP\u4ecb\u7ecd","text":""},{"location":"ch8/ch8-pulpino/#811","title":"8.1.1 \u9879\u76ee\u80cc\u666f","text":""},{"location":"ch8/ch8-pulpino/#812","title":"8.1.2 \u67b6\u6784\u4ecb\u7ecd","text":""},{"location":"ch8/ch8-pulpino/#813","title":"8.1.3 \u6d41\u7247\u60c5\u51b5","text":""},{"location":"ch8/ch8-pulpino/#82-pulpino","title":"8.2 PULPino\u4ecb\u7ecd","text":""},{"location":"ch8/ch8-pulpino/#821-pulpinopulp","title":"8.2.1 PULPino\u4e0ePULP\u7684\u5173\u7cfb","text":""},{"location":"ch8/ch8-pulpino/#822-pulpino","title":"8.2.2 PULPino\u7684\u7ed3\u6784","text":""},{"location":"ch8/ch8-pulpino/#823","title":"8.2.3 \u5904\u7406\u5668\u6838","text":""},{"location":"ch8/ch8-pulpino/#824","title":"8.2.4 \u63a5\u53e3\u63cf\u8ff0","text":""},{"location":"ch8/ch8-pulpino/#825","title":"8.2.5 \u5730\u5740\u7a7a\u95f4\u5206\u914d","text":""},{"location":"ch8/ch8-pulpino/#826","title":"8.2.6 \u4e2d\u65ad\u5904\u7406\u8fc7\u7a0b","text":"<p> \u4e0b\u9762\u7684\u76ee\u5f55\u8981\u4fee\u6539</p>"},{"location":"ch8/ch8-pulpino/#83","title":"8.3 \u5411\u91cf\u7b97\u672f\u6307\u4ee4","text":"<p>\u4ecb\u7ecd\u4ec0\u4e48\u662f\u5411\u91cf\u8fd0\u7b97\u3001RI5CY\u7684\u5411\u91cf\u8fd0\u7b97\u6307\u4ee4\u3001\u4f18\u52bf\u7279\u70b9\u3001\u5b9e\u73b0\u7b49</p>"},{"location":"ch8/ch8-pulpino/#84","title":"8.4 \u786c\u4ef6\u5faa\u73af","text":"<p>\u4ecb\u7ecd\u786c\u4ef6\u5faa\u73af\u7684\u539f\u7406\u3001\u4f18\u52bf\u3001\u5b9e\u73b0\u7b49</p>"},{"location":"ch8/ch8-pulpino/#85-post-increment-loadstore","title":"8.5 post increment load/store\u6307\u4ee4","text":"<p>\u4e0d\u77e5\u9053\u51c6\u786e\u7684\u7ffb\u8bd1\u662f\u4ec0\u4e48</p>"},{"location":"ch8/ch8-pulpino/#86","title":"8.6 \u6269\u5c55\u7b97\u672f\u6307\u4ee4","text":""},{"location":"ch8/ch8-pulpino/#87-artyleishangwen","title":"8.7 \u57fa\u4e8eArty\u5e73\u53f0\u7684\u79fb\u690d\u8bd5\u9a8c\uff08leishangwen\uff09","text":"<p>\u5b98\u7f51\u4e0a\u53ea\u662f\u5728zedboard\u4e0a\u505a\u4e86\u6d4b\u8bd5\uff0c\u800c\u4e14\u662f\u9700\u8981ARM\u914d\u5408\uff0c\u8fd9\u91cc\u8ba1\u5212\u4f7f\u7528Arty\u5e73\u53f0\u6d4b\u8bd5\uff0c\u4e0eFreedom E310\u7684\u6d4b\u8bd5\u5e73\u53f0\u662f\u540c\u4e00\u4e2a\uff0c\u79fb\u690d\u540e\uff0c\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884c\uff0c\u4e0d\u9700\u8981ARM\u914d\u5408\u3002\u540c\u65f6\uff0c\u5728\u79fb\u690d\u8fc7\u7a0b\u4e2d\uff0c\u5c31\u987a\u4fbf\u8bb2\u89e3\u5173\u952e\u811a\u672c\u3001boot code\u3001\u6d4b\u8bd5\u7a0b\u5e8f\u7b49\u3002\u6b64\u5916\uff0c\u8fd8\u4ecb\u7ecd\u8c03\u8bd5\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u4e5f\u662f\u5b98\u7f51\u6ca1\u6709\u7684\u3002</p>"},{"location":"ch8/sec1-PULP_overview/","title":"sec1 PULP overview","text":""},{"location":"ch8/sec1-PULP_overview/#81-pulp","title":"8.1 PULP\u4ecb\u7ecd","text":""},{"location":"ch8/sec1-PULP_overview/#811","title":"8.1.1 \u9879\u76ee\u80cc\u666f","text":"<p>PULP\uff08Parallel Ultra-Low Power\uff09\u9879\u76ee\u7531\u745e\u58eb\u82cf\u9ece\u4e16\u8054\u90a6\u7406\u5de5\u5927\u5b66\uff08ETH Z\u00fcrich\uff09\u7684\u7efc\u5408\u7cfb\u7edf\u5b9e\u9a8c\u5ba4\uff08IIS\uff1aIntegrated Systems laboratory\uff09\u548c\u610f\u5927\u5229\u535a\u6d1b\u5c3c\u4e9a\u5927\u5b66\uff08University of Bologna\uff09\u7684\u9ad8\u80fd\u6548\u5d4c\u5165\u5f0f\u7814\u7a76\u7ec4\uff08EEES\uff1aEnergy-efficient Embedded Systems\uff09\u8054\u5408\u8bbe\u8ba1\u7814\u53d1\uff0c\u76ee\u7684\u662f\u5b9e\u73b0\u4e00\u4e2a\u5f00\u653e\u3001\u53ef\u6269\u5c55\u7684SoC\uff0c\u5e76\u4e14\u603b\u4f53\u529f\u8017\u5728mW\u7ea7\uff0c\u80fd\u6548\u8fbe\u5230pJ/op[1]\u3002  \u8be5\u9879\u76ee\u7684\u73b0\u5b9e\u610f\u4e49\u5728\u4e8e\u6ee1\u8db3IoT\uff08Internet of Thing\uff09\u8bbe\u5907\u5bf9\u8ba1\u7b97\u80fd\u529b\u7684\u9700\u6c42\uff0c\u5f53\u524d\uff0cIoT\u8bbe\u5907\u7684\u6570\u91cf\u4e0e\u65e5\u4ff1\u589e\uff0c\u5177\u6709\u7684\u529f\u80fd\u4e5f\u8d8a\u6765\u8d8a\u591a\uff0c\u53ef\u4ee5\u83b7\u53d6\u5468\u8fb9\u7684\u56fe\u50cf\u3001\u73af\u5883\u53c2\u6570\u7b49\u5927\u91cf\u6570\u636e\uff0c\u8fdb\u884c\u5982\u4eba\u8138\u8bc6\u522b\u7b49\u5e94\u7528\uff0c\u4f46\u662f\u8fd9\u9700\u8981\u5927\u91cf\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u5f53\u524d\u7684IoT\u8bbe\u5907\u65e0\u6cd5\u6ee1\u8db3\u8be5\u9700\u6c42\uff0c\u53ea\u80fd\u5c06\u6570\u636e\u901a\u8fc7\u65e0\u7ebf\u7684\u6a21\u5f0f\u53d1\u9001\u5230\u8ba1\u7b97\u5e73\u53f0\u8fdb\u884c\u96c6\u4e2d\u8ba1\u7b97\uff0c\u4f46\u662f\u901a\u4fe1\u53c8\u9700\u8981\u6d88\u8017\u5927\u91cf\u7684\u80fd\u91cf\uff0c\u5bf9\u4e8e\u9760\u7535\u6c60\u4f9b\u7535\u7684IoT\u8bbe\u5907\u800c\u8a00\uff0c\u8fd9\u6837\u505a\u65e0\u7591\u964d\u4f4e\u4e86\u5176\u4f7f\u7528\u5bff\u547d\u3002\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0c\u51fa\u73b0\u4e86\u7279\u5b9a\u5e94\u7528\u52a0\u901f\u5668\uff0c\u5e94\u7528\u5728IoT\u8bbe\u5907\u4e0a\u4f5c\u4e3a\u6269\u5c55\uff0c\u65e2\u964d\u4f4e\u4e86\u529f\u8017\uff0c\u53c8\u5b9e\u73b0\u4e86\u9ad8\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u7684\u7f3a\u70b9\u5c31\u662f\u7f3a\u4e4f\u7075\u6d3b\u6027\uff0c\u7279\u5b9a\u5e94\u7528\u52a0\u901f\u5668\u662f\u67d0\u4e00\u79cd\u7279\u5b9a\u8fd0\u7b97\u7684ASIC\uff0c\u529f\u80fd\u6709\u9650\uff0cPULP\u5f25\u8865\u4e86\u8fd9\u6761\u9e3f\u6c9f\uff0c\u5176\u901a\u8fc7\u67b6\u6784\u7684\u4f18\u5316\u8bbe\u8ba1\uff0c\u5b9e\u73b0\u4e86\u65e2\u62e5\u6709\u5f3a\u5927\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u53c8\u6ee1\u8db3IoT\u8bbe\u5907\u4f4e\u529f\u8017\u9700\u6c42\uff0c\u540c\u65f6\u8fd8\u5177\u6709\u901a\u7528\u5904\u7406\u5668\u7684\u7075\u6d3b\u6027\u3002</p>"},{"location":"ch8/sec1-PULP_overview/#812","title":"8.1.2 \u67b6\u6784\u4ecb\u7ecd","text":"<p>\u5176\u67b6\u6784\u8bbe\u8ba1\u5982\u56fe8-1\u6240\u793a\u3002  \u56fe8-1 PULP\u67b6\u6784\u8bbe\u8ba1[2] \u4ece\u56fe8-1\u7684\u53f3\u534a\u8fb9\u53ef\u4ee5\u53d1\u73b0PULP\u662f\u4e00\u4e2a\u591a\u6838SoC\uff0c\u5176\u5904\u7406\u5668\u6838\u76ee\u524d\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u91c7\u7528OpenRISC\u6307\u4ee4\u96c6\u7684OR10N\uff0c\u53e6\u4e00\u79cd\u662f\u91c7\u7528RISC-V\u6307\u4ee4\u96c6\u7684RI5CY\u3002\u9664\u4e86\u591a\u6838\u8bbe\u8ba1\uff0c\u4e3a\u4e86\u5b9e\u73b0\u4f4e\u529f\u8017\u3001\u9ad8\u6027\u80fd\u7684\u76ee\u7684\uff0cPULP\u8fd8\u91c7\u7528\u4e86\u5982\u4e0b\u4e00\u4e9b\u4f18\u5316\u8bbe\u8ba1\uff1a \uff081\uff09\u6307\u4ee4\u96c6\u6269\u5c55\uff1aPULP\u6269\u5c55\u4e86\u539f\u6709\u7684\u6307\u4ee4\u96c6\uff0c\u4f7f\u5f97\u5176\u652f\u6301\u4ee5\u4e0b\u7279\u6027\uff08\u8be6\u7ec6\u5185\u5bb9\u4f1a\u5728\u672c\u7ae0\u540e\u7eed\u90e8\u5206\u4f9d\u6b21\u4ecb\u7ecd\uff09\u3002 * \u7b97\u672f\u6307\u4ee4\u6269\u5c55\uff08ALU Extension\uff09 * \u786c\u4ef6\u5faa\u73af\uff08Hardware Loop\uff09 * \u5730\u5740\u81ea\u589e\u7684\u8bbf\u5b58\u6307\u4ee4\uff08post-incrementing Load &amp; Strore Instruciton\uff09 * \u4e58\u7d2f\u52a0\u6307\u4ee4\uff08Multiply-Accumulate\uff09 * \u5411\u91cf\u64cd\u4f5c\uff08Vectorial\uff09 \uff082\uff09\u5171\u4eab\u6307\u4ee4\u7f13\u5b58\uff1a\u591a\u4e2a\u5904\u7406\u5668\u6838\u5171\u4eab\u4e00\u4e2aL1\u6307\u4ee4\u7f13\u5b58\uff0c\u907f\u514d\u4e86\u4e3a\u4e86\u7ef4\u62a4\u7f13\u5b58\u4e00\u81f4\u6027\u5e26\u6765\u7684\u590d\u6742\u6027\uff0c\u800c\u4e14\u91c7\u7528\u7684\u662fSCM\uff08Standard Cell based Memories\uff09\uff0c\u53ef\u4ee5\u5728\u66f4\u4f4e\u7684\u7535\u538b\u4e0b\u5de5\u4f5c\uff0c\u4ece\u800c\u8fdb\u4e00\u6b65\u964d\u4f4e\u4e86\u529f\u8017\u3002  \uff083\uff09\u6307\u4ee4\u9884\u53d6Buffer\uff1a\u5171\u4eab\u7684\u6307\u4ee4\u7f13\u5b58\u53ef\u80fd\u4f1a\u7531\u4e8e\u591a\u4e2a\u5904\u7406\u5668\u6838\u540c\u65f6\u8bbf\u95ee\uff0c\u800c\u589e\u52a0\u5ef6\u8fdf\uff0c\u4e3a\u6b64\uff0c\u4e3a\u6bcf\u4e2a\u5904\u7406\u5668\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u6307\u4ee4\u9884\u53d6Buffer\uff0c\u8be5Buffer\u7684\u5927\u5c0f\u4e00\u822c\u662f\u6307\u4ee4\u7f13\u5b58line\u7684\u5927\u5c0f\uff0c\u6bd4\u5982128bit\u3002\u540c\u65f6\uff0c\u5bf9\u4e8eRISC-V\u6307\u4ee4\u96c6\u800c\u8a00\uff0c\u8be5\u6307\u4ee4\u9884\u53d6Buffer\u8fd8\u5b9e\u73b0\u4e8616bit\u538b\u7f29\u6307\u4ee4\u6269\u5c55\u4e3a32bit\u3002 \uff084\uff09\u7d27\u8026\u5408\u6570\u636e\u7f13\u5b58\uff1a\u4f7f\u7528\u7684\u662fScratchpad Memroy\uff0c\u5206\u4e3a\u591a\u4e2abank\uff0c\u4e00\u822c\u4e3a8KB\uff0c\u6bcf\u4e2abank\u8fd8\u5bf9\u5e94\u4e00\u4e2aSCM\uff0c\u4e00\u822c\u4e3a1KB\u3002 \u7ecf\u8fc7\u4e0a\u8ff0\u4f18\u5316\uff0c\u53ef\u4ee5\u5927\u5e45\u63d0\u9ad8\u80fd\u6548\uff0c\u572828nm\u5de5\u827a\u4e0b\uff0c\u5de5\u4f5c\u7535\u538b\u53ef\u4ee5\u4f4e\u81f30.46V\uff0c\u529f\u80171mW\uff0c\u6b64\u65f6\u4ecd\u7136\u6709\u6bd4\u8f83\u597d\u7684\u6027\u80fd\u8868\u73b0\uff0c\u4e3b\u989140MHz\uff0c0.2GOPS[3]\u3002</p>"},{"location":"ch8/sec1-PULP_overview/#813","title":"8.1.3 \u6d41\u7247\u60c5\u51b5","text":"<p>PULP\u5728\u7814\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u591a\u6b21\u6d41\u7247\uff0c\u5982\u88688-1\u6240\u793a\u3002 \u88688-1 PULP\u6d41\u7247\u60c5\u51b5</p> \u540d\u79f0 \u5de5\u827a \u5de5\u827a \u4e3b\u9891 \u65f6\u95f4 \u5907\u6ce8 Manny 180nm 3 W @0.6V 1.5MHz 1.25 MHz 2015\u5e74 \u56db\u6838, 64 kB\u4e8c\u7ea7\u7f13\u5b5816KB\u7d27\u8026\u5408\u6570\u636e\u7f13\u5b58\uff0c4KB\u6307\u4ee4\u7f13\u5b58 Diego 180nm 3 W @0.8V 15 MHz 15 MHz 2015\u5e74 \u540c\u4e0a Sid 180nm 3 W @1.0V 15 MHz 15 MHz 2015\u5e74 \u540c\u4e0a Vivosoc 130nm 45 mW @1.2V 40MHz 140 MHz 2015\u5e74 \u7528\u4e8e\u751f\u7269\u533b\u5b66\u4fe1\u53f7\u91c7\u96c6\uff0c\u53ef\u7a7f\u6234\u8bbe\u5907\u4e0a\uff0c\u53cc\u6838 Vivosoc2 130nm 20 mW @1.2V 50MHz 64 MHz 2016\u5e74 \u540c\u4e0a\uff0c\u4f46\u662f\u662f\u56db\u6838 Vivosoc2.001 130nm 20 mW @1.2V 50MHz 64 MHz 2016\u5e74 \u540c\u4e0a\uff0c\u4f46\u662f\u662f\u56db\u6838 Mia_Wallace 65nm 1 mW @1.2V 1MHz 400 MHz 2015\u5e74 \u56db\u6838\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u5377\u79ef\u7801\u52a0\u901f\u5668 Fulmine 65nm 13 mW @ 0.8 V, 104 MHz 400 MHz 2015\u5e74 Mia_Wallace\u7684\u6539\u8fdb\u578b\uff0c\u589e\u52a0\u4e86\u4e00\u4e2a\u5bc6\u7801\u52a0\u901f\u5668 Artemis 65nm 1 mW @1.2V 1MHz 500 MHz 2014\u5e74 \u56db\u6838\uff0c\u6bcf\u4e2a\u5904\u7406\u5668\u6838\u589e\u52a0\u4e86\u4e00\u4e2aFPU Hecate 65nm 1 mW @1.2V 1MHz 500 MHz 2014\u5e74 \u56db\u6838\uff0c\u5171\u4eab\u4e24\u4e2aFPU Diana 65nm 1 mW @1.2V 1MHz 500 MHz 2014\u5e74 \u56db\u6838\uff0c1\u4e2a\u6807\u51c6FPU\uff0c3\u4e2a\u88c1\u526a\u7684FPU Phoebe 65nm 22 mW @1.2V 100MHz 500 MHz 2015\u5e74 Selene\u7684\u6539\u8fdb\u7248 Pulp 28nm 8 mW @0.7V 10MHz 475 MHz 2013\u5e74 \u56db\u6838 Pulpv2 28nm 1000 MHz 2014\u5e74 \u56db\u6838 Pulpv3 28nm 1.2 mW @ 0.6V, 50MHz 66 MHz 2015\u5e74 \u540c\u4e0a\uff0c\u96c6\u6210\u4e86\u4e00\u4e2a\u5377\u79ef\u8fd0\u7b97\u52a0\u901f\u5668 Honey_Bunny 28nm 1 mW @1.2V 1MHz 60 MHz 2015\u5e74 \u7b2c\u4e00\u4e2a\u4f7f\u7528RI5CY\u4f5c\u4e3a\u5904\u7406\u5668\u6838\u7684PULP"},{"location":"ch8/sec1-PULP_overview/#_1","title":"\u53c2\u8003\u6587\u732e","text":"<p>[1]PULP - An Open Parallel Ultra-Low-Power Processing-Platform, http://iis-projects.ee.ethz.ch/index.php/PULP,2017-8 [2]Florian Zaruba, Updates on PULPino, The 5th RISC-V Workshop, 2016. [3]Michael Gautschi,etc,Near-Threshold RISC-V Core With DSP Extensions for Scalable IoT Endpoint Devices, IEEE Transactions on Very Large Scale Integration Systems [4]Andreas Traber, Michael Gautschi,PULPino: Datasheet,2016.11 [5]http://www.pulp-platform.org/</p>"},{"location":"ch8/sec2-PULPino_overview/","title":"sec2 PULPino overview","text":""},{"location":"ch8/sec2-PULPino_overview/#82-pulpino","title":"8.2 PULPino\u4ecb\u7ecd","text":""},{"location":"ch8/sec2-PULPino_overview/#821-pulpinopulp","title":"8.2.1 PULPino\u4e0ePULP\u7684\u5173\u7cfb","text":"<p>PULPino\u662fPULP\u7684\u7b80\u5316\u7248\u672c\uff0c\u5982\u56fe8-2\u6240\u793a\u3002  \u56fe8-2 PULPino\u67b6\u6784\u662fPULP\u67b6\u6784\u7684\u7b80\u5316\u7248[2] \u5bf9\u6bd4\u56fe8-1PULP\u67b6\u6784\u8bbe\u8ba1\u53ef\u77e5PULPino\u76f8\u6bd4PULP\u5728\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\u505a\u4e86\u7b80\u5316\uff1a \uff081\uff09\u591a\u6838\u53d8\u4e3a\u5355\u6838\uff1b \uff082\uff09\u6307\u4ee4RAM\u3001\u6570\u636eRAM\u90fd\u4e0d\u518d\u9700\u8981\u652f\u6301\u591a\u6838\uff1b \uff083\uff09\u53bb\u6389\u4e86\u4e8c\u7ea7\u7f13\u5b58\uff1b \uff084\uff09\u53bb\u6389\u4e86DMA\u3002 \u6b64\u5916\u8fd8\u6709\u4e00\u4e2a\u53d8\u5316\uff1a\u6e90\u4ee3\u7801\u4e8e2016\u5e743\u67081\u65e5\u5f00\u6e90\uff0c\u91c7\u7528 Solderpad license\uff0c\u4f7f\u7528\u7684\u7f16\u7a0b\u8bed\u8a00\u662fSystem Verilog\uff0cPULPino\u652f\u6301\u5904\u7406\u5668\u6838\u662f\u91c7\u7528OpenRISC\u6307\u4ee4\u96c6\u7684OR10N\uff0c\u4f46\u662f\u5728\u76ee\u524d\u7684\u5f00\u6e90\u7248\u672c\u4e2d\u53ea\u652f\u6301RISC-V\u6307\u4ee4\u96c6\u3002 \u56fe8-3\u662fPULPino\u7684\u53d1\u5c55\u8def\u7ebf\u56fe\uff0c\u4ece\u4e2d\u53ef\u77e5\uff0c\u5f00\u6e90PULPino\u7684\u6700\u7ec8\u76ee\u6807\u8fd8\u662f\u4e3a\u4e86\u5f00\u6e90PULP\uff0c\u4ece\u6613\u5230\u96be\uff0c\u4fbf\u4e8e\u7528\u6237\u63a5\u53d7\uff0c\u9884\u8ba1\u57282018\u5e74\u5c06\u5f00\u6e90PULP\u3002  \u56fe8-3 PULPino\u7684\u53d1\u5c55\u8def\u7ebf\u56fe</p>"},{"location":"ch8/sec2-PULPino_overview/#822-pulpino","title":"8.2.2 PULPino\u7684\u7ed3\u6784","text":"<p>\u76f8\u8f83\u56fe8-2\u800c\u8a00\uff0c\u56fe8-4\u66f4\u52a0\u5177\u4f53\u3001\u5b8c\u6574\u7684\u663e\u793a\u4e86PULPino\u7684\u7ed3\u6784\u3002  \u56fe8-4 PULPino\u7684\u7ed3\u6784[4] \u4ece\u56fe\u4e2d\u53ef\u4ee5\u53d1\u73b0PULPino\u6709\u5982\u4e0b\u4e00\u4e9b\u7279\u70b9\uff1a \uff081\uff09\u91c7\u7528\u7684\u662f\u6307\u4ee4RAM\u3001\u6570\u636eRAM\u5206\u5f00\u7684\u54c8\u4f5b\u7ed3\u6784\uff1b \uff082\uff09\u589e\u52a0\u4e86\u4e00\u4e2aBoot ROM\uff0c\u5176\u4e2d\u53ef\u4ee5\u5b58\u50a8\u542f\u52a8\u4ee3\u7801\uff0c\u5229\u7528\u8be5\u542f\u52a8\u4ee3\u7801\u53ef\u4ee5\u52a0\u8f7d\u8fde\u63a5\u81f3SPI\u63a5\u53e3\u7684Flash\u4e2d\u7684\u7a0b\u5e8f\u3002 \uff083\uff09\u91c7\u7528\u7684AXI4\u3001APB\u4e24\u7ea7\u603b\u7ebf\u7ed3\u6784\u3002 \uff084\uff09\u5177\u6709\u5916\u8bbe\u63a5\u53e3\uff0c\u5305\u62ecGPIO\u3001UART\u3001I2C\u3001SPI\u7b49\u3002 \uff085\uff09\u542b\u6709\u4e00\u4e2aSoC Controll\u6a21\u5757\uff0c\u5176\u4f5c\u7528\u662f\u6574\u4e2aSoC\u5e73\u53f0\u7684\u63a7\u5236\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\u662f\u5426\u4f7f\u80fd\u65f6\u949f\u95e8\u3001\u8bbe\u7f6e\u542f\u52a8\u5730\u5740\u3001\u67b6\u6784\u4fe1\u606f\u7b49\u3002 \uff086\uff09\u63d0\u4f9b\u4e86\u4e00\u4e2aAdvanced Debug Unit\uff0c\u63d0\u4f9b\u4e86\u6807\u51c6\u8c03\u8bd5JTAG\u63a5\u53e3\uff0c\u4f7f\u5f97\u8c03\u8bd5\u5668\u53ef\u4ee5\u8bbf\u95ee\u6307\u4ee4RAM\u3001\u6570\u636eRAM\u3001\u5904\u7406\u5668\u5185\u90e8\u5bc4\u5b58\u5668\uff0c\u4ee5\u53ca\u5916\u8bbe\u5bf9\u5e94\u7684\u63a7\u5236\u5bc4\u5b58\u5668\u7b49\u3002 \uff087\uff09\u63d0\u4f9b\u4e86\u4e00\u4e2aSPI Slave\u63a5\u53e3\uff0c\u76f4\u63a5\u8fde\u63a5\u5728AXI\u4e92\u8fde\u603b\u7ebf\u4e0a\uff0c\u53ef\u4ee5\u901a\u8fc7\u8be5\u63a5\u53e3\u5728\u4e0d\u5f71\u54cd\u5904\u7406\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u8bbf\u95ee\u6307\u4ee4RAM\u3001\u6570\u636eRAM\u3001\u5904\u7406\u5668\u5185\u90e8\u5bc4\u5b58\u5668\uff0c\u4ee5\u53ca\u5916\u8bbe\u5bf9\u5e94\u7684\u63a7\u5236\u5bc4\u5b58\u5668\u7b49\u3002 \u56fe8-2\u4e2d\u5404\u6a21\u5757\u7684\u8be6\u7ec6\u529f\u80fd\u3001\u5bc4\u5b58\u5668\u4f5c\u7528\u53ef\u4ee5\u53c2\u8003\u6587\u732e[4]\u3002</p>"},{"location":"ch8/sec2-PULPino_overview/#823","title":"8.2.3 \u5904\u7406\u5668\u6838","text":"<p>PULPino\u76ee\u524d\u652f\u63014\u79cd\u4e0d\u540c\u914d\u7f6e\u7684\u3001\u91c7\u7528RISC-V\u6307\u4ee4\u96c6\u7684\u5904\u7406\u5668\u6838\uff0c\u5982\u4e0b\uff1a \uff081\uff09RI5CY\uff1a\u8fd9\u662f\u6700\u65e9\u5f00\u6e90\u7684\u5904\u7406\u5668\u6838\uff0c\u652f\u6301RV32-ICM\uff0c\u5e76\u4e14\u652f\u6301\u7b97\u672f\u6307\u4ee4\u6269\u5c55\uff08ALU Extension\uff09\u3001\u786c\u4ef6\u5faa\u73af\uff08Hardware Loop\uff09\u3001\u5730\u5740\u81ea\u589e\u7684\u8bbf\u5b58\u6307\u4ee4\uff08post-incrementing Load &amp; Strore Instruciton\uff09\u3001\u4e58\u7d2f\u52a0\u6307\u4ee4\uff08Multiply-Accumulate\uff09\u3001\u5411\u91cf\u64cd\u4f5c\uff08Vectorial\uff09\u7b49\u6269\u5c55\u3002 \uff082\uff09RI5CY+FPU\uff1a\u5305\u62ecRI5CY\uff0c\u4ee5\u53ca\u4e00\u4e2a\u7b26\u5408IEEE-754\u6807\u51c6\u7684\u5355\u7cbe\u5ea6FPU\u3002 \uff083\uff09Zero-riscy\uff1a\u652f\u6301RV32-ICM\uff0c\u5728\u5360\u7528\u8d44\u6e90\u4e0a\u505a\u4e86\u4f18\u5316\u3002 \uff084\uff09Micro-riscy: \u8fd9\u662f4\u79cd\u914d\u7f6e\u4e2d\u5360\u7528\u8d44\u6e90\u6700\u5c11\u7684\uff0c\u652f\u6301RV32-EC\uff0c\u5177\u670916\u4e2a\u5bc4\u5b58\u5668\uff0c\u4e14\u4e0d\u652f\u6301\u786c\u4ef6\u4e58\u6cd5\u3002 \u4e0d\u540c\u914d\u7f6e\u7684\u8d44\u6e90\u5360\u7528\u60c5\u51b5\u5982\u56fe8-5\u6240\u793a\u3002Micro-riscy\u7684\u8d44\u6e90\u5360\u7528\u662fRI5CY\u7684\u63a5\u8fd11/4\u3002  \u56fe8-5 \u4e0d\u540c\u914d\u7f6e\u7684\u8d44\u6e90\u5360\u7528\u60c5\u51b5[5] \u56fe8-6\u662f\u4e0d\u540c\u914d\u7f6e\u5728\u4e0d\u540c\u5e94\u7528\u73af\u5883\u4e2d\u7684\u80fd\u8017\u60c5\u51b5\u3002\u4ece\u56fe\u4e2d\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e0d\u540c\u7684\u914d\u7f6e\u9002\u5408\u4e8e\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\uff0c\u5982\u679c\u7528\u4e8e\u6570\u5b57\u4fe1\u53f7\u5904\u7406\u9886\u57df\uff0c\u6709\u6bd4\u8f83\u591a\u7684\u5377\u79ef\u8fd0\u7b97\uff0c\u90a3\u4e48RI5CY\u7684\u80fd\u8017\u662f\u6700\u4f4e\u7684\uff0c\u56e0\u4e3a\u5b83\u505a\u4e86\u6307\u4ee4\u6269\u5c55\uff0c\u5185\u90e8\u6709\u4e13\u7528\u786c\u4ef6\u7528\u4e8e\u5b9e\u73b0\u5377\u79ef\u8fd0\u7b97\u3002\u5982\u679c\u7528\u4e8e\u63a7\u5236\u9886\u57df\uff0c\u90a3\u4e48Micro-riscy\u7684\u80fd\u8017\u6700\u4f4e\u3002\u6240\u4ee5\uff0c\u7528\u6237\u9700\u8981\u4f9d\u636e\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\uff0c\u914d\u7f6ePULPino\u3002  \u56fe8-6 \u4e0d\u540c\u914d\u7f6e\u5728\u4e0d\u540c\u5e94\u7528\u73af\u5883\u4e2d\u7684\u80fd\u8017\u60c5\u51b5[5]</p>"},{"location":"ch8/sec2-PULPino_overview/#824","title":"8.2.4 \u63a5\u53e3\u63cf\u8ff0","text":"<p>\u5f00\u53d1\u8005\u53ef\u4ee5\u5728https://github.com/pulp-platform/pulpino \u4e0b\u8f7d\u5f97\u5230PULPino\u7684\u6e90\u4ee3\u7801\uff0c\u5176\u4e2drtl\u76ee\u5f55\u4e0b\u7684pulpino_top.sv\u662fPULPino\u7684\u9876\u5c42\u6587\u4ef6\uff0c\u901a\u8fc7\u8be5\u6587\u4ef6\u53ef\u4ee5\u5f97\u5230PULPino\u7684\u63a5\u53e3\u793a\u610f\u56fe\u5982\u56fe8-7\u6240\u793a\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u63a5\u53e3\u90fd\u53ef\u4ee5\u901a\u8fc7\u63a5\u53e3\u540d\u79f0\u6700\u540e\u7684_i\u8fd8\u662f_o\u533a\u5206\u51fa\u662f\u8f93\u5165\u63a5\u53e3\u8fd8\u662f\u8f93\u51fa\u63a5\u53e3\u3002  \u56fe8-7 PULPino\u63a5\u53e3\u793a\u610f\u56fe \u6309\u7167\u529f\u80fd\u53ef\u4ee5\u5206\u4e3a\u51e0\u7c7b\uff1a\u5168\u5c40\u4fe1\u53f7\u63a5\u53e3\u3001SPI Slave\u3001SPI Master\u3001I2C\u3001UART\u3001GPIO\u3001JTAG\u3001pad config\u7b49\uff0c\u4e0e\u56fe8-4\u57fa\u672c\u4e00\u81f4\u3002\u5176\u4e2d\u5168\u5c40\u63a5\u53e3\u7684\u63cf\u8ff0\u5982\u88688-2\u6240\u793a\u3002 \u88688-2 PULPino\u7684\u5168\u5c40\u63a5\u53e3</p> \u4fe1\u53f7\u540d \u4f5c\u7528 clk \u65f6\u949f\u4fe1\u53f7 rst_n \u590d\u4f4d\u4fe1\u53f7 clk_sel_i \u7528\u6765\u9009\u62e9\u5de5\u4f5c\u65f6\u949f\uff0c\u5982\u679c\u662f0\uff0c\u90a3\u4e48\u65f6\u949f\u5c31\u662fclk\uff0c\u53cd\u4e4b\uff0c\u65f6\u949f\u6765\u81ea\u4e00\u4e2a\u9501\u9891\u73af\uff0c\u7528\u4e8eASIC\u751f\u4ea7\u65f6\uff0cclk_sel_i\u8bbe\u7f6e\u4e3a1 clk_standalone_i \u4e0e\u9501\u9891\u73af\u76f8\u5173\u7684\u63a7\u5236\u4fe1\u53f7 testmode_i \u5982\u679c\u4e3a1\uff0c\u90a3\u4e48\u7981\u6b62clock gate\uff0c\u53cd\u4e4b\uff0c\u4f7f\u80fdclock gate fetch_enable_i \u5982\u679c\u4e3a1\uff0c\u8868\u793a\u5f00\u59cb\u53d6\u6307\u8bd1\u7801\u6267\u884c scan_enable_i \u4e0e\u9501\u9891\u73af\u76f8\u5173\u7684\u63a7\u5236\u4fe1\u53f7"},{"location":"ch8/sec2-PULPino_overview/#825","title":"8.2.5 \u5730\u5740\u7a7a\u95f4\u5206\u914d","text":"<p>PULPino\u9ed8\u8ba4\u7684\u6307\u4ee4RAM\u3001\u6570\u636eRAM\u7684\u5927\u5c0f\u90fd\u662f32KB\uff0c\u5728rtl\u76ee\u5f55\u4e0b\u7684core_region.sv\u7684\u6700\u5f00\u59cb\u6709\u5982\u4e0b\u5b9a\u4e49\uff0c\u53ef\u4ee5\u4f9d\u636e\u9700\u6c42\u4fee\u6539\u6307\u4ee4RAM\u3001\u6570\u636eRAM\u7684\u5927\u5c0f\u3002 <pre><code>module core_region\n#(\nparameter AXI_ADDR_WIDTH       = 32,\nparameter AXI_DATA_WIDTH       = 64,\nparameter AXI_ID_MASTER_WIDTH  = 10,\nparameter AXI_ID_SLAVE_WIDTH   = 10,\nparameter AXI_USER_WIDTH       = 0,\nparameter DATA_RAM_SIZE        = 32768, // in bytes\nparameter INSTR_RAM_SIZE       = 32768  // in bytes\n)\n</code></pre></p> <p>\u9ed8\u8ba4\u7684\u5730\u5740\u7a7a\u95f4\u5206\u914d\u5982\u56fe8-8\u6240\u793a\u3002\u8be5\u56fe\u4e0e\u53c2\u8003\u6587\u732e[4]\u7684\u56fe2.1\u6709\u5dee\u522b\uff0c\u4e3b\u8981\u662fBoot ROM\u7684\u8d77\u59cb\u5730\u5740\u4e0d\u540c\uff0c\u6b64\u5904\u662f\u4f9d\u636e\u5b9e\u9645\u4ee3\u7801\u786e\u5b9aBoot ROM\u8d77\u59cb\u5730\u5740\u662f0x0000_8000\uff0c\u53c2\u8003\u6587\u732e[4]\u7684\u56fe2.1\u4e2dBoot ROM\u8d77\u59cb\u5730\u5740\u662f0x0008_0000\u3002  \u56fe8-8 \u9ed8\u8ba4\u7684\u5730\u5740\u7a7a\u95f4\u5206\u914d \u6574\u4f53\u4e0a\u53ef\u4ee5\u5206\u4e3a\u56db\u4e2a\u533a\u57df\uff1a\u6307\u4ee4RAM\u3001Boot ROM\u3001\u6570\u636eRAM\u3001\u5916\u8bbe\u3002\u8fd9\u4e2a\u5730\u5740\u7a7a\u95f4\u5206\u914d\u65b9\u6848\u662f\u5728rtl\u76ee\u5f55\u4e0b\u7684top.sv\u4e2d\u5b9a\u4e49\u7684\uff0c\u5982\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u5176\u4e2d\u7684\u4ee3\u7801\uff0c\u5b9e\u73b0\u5730\u5740\u7a7a\u95f4\u5206\u914d\u65b9\u6848\u7684\u91cd\u65b0\u5b9a\u4e49\u3002</p> <pre><code> axi_node_intf_wrap\n#(\n.NB_MASTER      ( 3                    ),\n.NB_SLAVE       ( 3                    ),\n.AXI_ADDR_WIDTH ( `AXI_ADDR_WIDTH      ),\n.AXI_DATA_WIDTH ( `AXI_DATA_WIDTH      ),\n.AXI_ID_WIDTH   ( `AXI_ID_MASTER_WIDTH ),\n.AXI_USER_WIDTH ( `AXI_USER_WIDTH      )\n)\naxi_interconnect_i\n(\n.clk       ( clk_int    ),\n.rst_n     ( rstn_int   ),\n.test_en_i ( testmode_i ),\n\n.master    ( slaves     ),\n.slave     ( masters    ),\n\n.start_addr_i ( { 32'h1A10_0000, 32'h0010_0000, 32'h0000_0000 } ),\n.end_addr_i   ( { 32'h1A11_FFFF, 32'h001F_FFFF, 32'h000F_FFFF } )\n);\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u5b9a\u4e49\u4e86AXI\u603b\u7ebf\u4e0a\u4e09\u4e2a\u8bbe\u5907\u7684\u5730\u5740\uff0c\u5982\u4e0b\uff1a * \u8bbe\u59071\uff1a\u8d77\u59cb\u5730\u5740\u662f32'h1A10_0000\uff0c\u7ec8\u6b62\u5730\u5740\u662f32'h1A11_FFFF * \u8bbe\u59072\uff1a\u8d77\u59cb\u5730\u5740\u662f32'h0010_0000\uff0c\u7ec8\u6b62\u5730\u5740\u662f32'h001F_FFFF * \u8bbe\u59073\uff1a\u8d77\u59cb\u5730\u5740\u662f32'h0000_0000\uff0c\u7ec8\u6b62\u5730\u5740\u662f32'h000F_FFFF \u7ed3\u5408\u56fe8-4\u3001\u56fe8-8\u53ef\u4ee5\u975e\u5e38\u76f4\u89c2\u7684\u53d1\u73b0\uff0c\u8bbe\u59071\u5c31\u662f\u56fe8-8\u4e2d\u7684\u5404\u79cd\u5916\u8bbe\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4e5f\u5c31\u662f\u56fe8-4\u4e2d\u7684\u6302\u5728APB\u603b\u7ebf\u4e0b\u7684\u5404\u79cd\u5916\u8bbe\uff1b\u8bbe\u59072\u5c31\u662f\u56fe8-8\u4e2d\u7684\u6570\u636eRAM\uff1b\u8bbe\u59073\u5c31\u662f\u56fe8-8\u4e2d\u6307\u4ee4RAM+Boot ROM\u3002 \u5728rtl\u76ee\u5f55\u4e0b\u7684instr_ram_wrap.sv\u4e2d\u4f9d\u636e\u6307\u4ee4\u5730\u5740\uff0c\u5224\u65ad\u662f\u4eceBoot ROM\u8fd8\u662f\u4ece\u6307\u4ee4RAM\u4e2d\u53d6\u6307\u4ee4\uff0c\u5982\u4e0b\uff1a</p> <pre><code>module instr_ram_wrap\n#(\nparameter RAM_SIZE   = 32768,                // in bytes\n// one bit more than necessary, for the boot rom\nparameter ADDR_WIDTH = $clog2(RAM_SIZE) + 1, parameter DATA_WIDTH = 32\n)(\n......\n// \u4e3a1\u8868\u793a\u4eceBoot ROM\u4e2d\u53d6\u6307\uff0c\u53cd\u4e4b\uff0c\u4ece\u6307\u4ee4RAM\u4e2d\u53d6\u6307\nassign is_boot = (addr_i[ADDR_WIDTH-1] == 1'b1);\n......\n</code></pre> <p>\u5728include\\apb_bus.sv\u4e2d\u7531\u5404\u4e2d\u5916\u8bbe\u7684\u5730\u5740\u7a7a\u95f4\u5b9a\u4e49\uff0c\u5982\u4e0b\uff1a</p> <pre><code>// MASTER PORT TO CVP\n`define UART_START_ADDR       32'h1A10_0000\n`define UART_END_ADDR         32'h1A10_0FFF\n\n// MASTER PORT TO GPIO\n`define GPIO_START_ADDR       32'h1A10_1000\n`define GPIO_END_ADDR         32'h1A10_1FFF\n\n// MASTER PORT TO SPI MASTER\n`define SPI_START_ADDR        32'h1A10_2000\n`define SPI_END_ADDR          32'h1A10_2FFF\n\n// MASTER PORT TO TIMER\n`define TIMER_START_ADDR      32'h1A10_3000\n`define TIMER_END_ADDR        32'h1A10_3FFF\n\n// MASTER PORT TO EVENT UNIT\n`define EVENT_UNIT_START_ADDR 32'h1A10_4000\n`define EVENT_UNIT_END_ADDR   32'h1A10_4FFF\n\n// MASTER PORT TO I2C\n`define I2C_START_ADDR        32'h1A10_5000\n`define I2C_END_ADDR          32'h1A10_5FFF\n\n// MASTER PORT TO FLL\n`define FLL_START_ADDR        32'h1A10_6000\n`define FLL_END_ADDR          32'h1A10_6FFF\n\n// MASTER PORT TO SOC CTRL\n`define SOC_CTRL_START_ADDR   32'h1A10_7000\n`define SOC_CTRL_END_ADDR     32'h1A10_7FFF\n\n// MASTER PORT TO DEBUG\n`define DEBUG_START_ADDR      32'h1A11_0000\n`define DEBUG_END_ADDR        32'h1A11_7FFF\n</code></pre>"},{"location":"ch8/sec2-PULPino_overview/#826","title":"8.2.6 \u4e2d\u65ad\u5904\u7406\u8fc7\u7a0b","text":"<p>PULPino\u91c7\u7528\u4e2d\u65ad\u5411\u91cf\u8868\u7684\u65b9\u5f0f\u5904\u7406\u4e2d\u65ad\uff0c\u56fe8-9\u662f\u9ed8\u8ba4\u7684\u4e2d\u65ad\u7c7b\u578b\uff0c\u53ca\u5176\u5bf9\u5e94\u7684\u4e2d\u65ad\u5904\u7406\u4f8b\u7a0b\u7684\u5165\u53e3\u5730\u5740\uff0c\u6bcf\u4e2a\u4e2d\u65ad\u5904\u7406\u4f8b\u7a0b\u5360\u75284\u4e2a\u5b57\u8282\uff0c\u53ef\u4ee5\u9632\u6b62\u4e00\u676132\u4f4d\u7684\u6307\u4ee4\uff0c\u6216\u8005\u4e24\u676116\u4f4d\u7684\u6307\u4ee4\uff0c\u4e00\u822c\u662f\u8f6c\u79fb\u6307\u4ee4\uff0c\u8f6c\u79fb\u5230\u5177\u4f53\u7684\u4e2d\u65ad\u5904\u7406\u51fd\u6570\u3002  \u56fe8-9 \u4e2d\u65ad\u5411\u91cf\u8868 \u5f53\u4e2d\u65ad\u53d1\u751f\u65f6\uff0c\u5904\u7406\u5668\u5c06PC\u5bc4\u5b58\u5668\u4fdd\u5b58\u5230MEPC\uff0c\u5c06MSTATUS\u5bc4\u5b58\u5668\u4fdd\u5b58\u5230MESTATUS\uff0c\u5f53\u4ece\u4e2d\u65ad\u5904\u7406\u4f8b\u7a0b\u8fd4\u56de\u65f6\uff0c\u5c06MEPC\u7684\u503c\u6062\u590d\u5230PC\uff0c\u5c06MESTATUS\u7684\u503c\u6062\u590d\u5230MSTATUS\u3002</p>"},{"location":"ch8/sec2-PULPino_overview/#_1","title":"\u53c2\u8003\u6587\u732e","text":"<p>[1]PULP - An Open Parallel Ultra-Low-Power Processing-Platform, http://iis-projects.ee.ethz.ch/index.php/PULP,2017-8 [2]Florian Zaruba, Updates on PULPino, The 5th RISC-V Workshop, 2016. [3]Michael Gautschi,etc,Near-Threshold RISC-V Core With DSP Extensions for Scalable IoT Endpoint Devices, IEEE Transactions on Very Large Scale Integration Systems [4]Andreas Traber, Michael Gautschi,PULPino: Datasheet,2016.11 [5]http://www.pulp-platform.org/</p>"},{"location":"ch8/sec3-RI5CY_overview/","title":"sec3 RI5CY overview","text":""},{"location":"ch8/sec3-RI5CY_overview/#83-ri5cy","title":"8.3 RI5CY\u4ecb\u7ecd","text":""},{"location":"ch8/sec3-RI5CY_overview/#831-ri5cy","title":"8.3.1 RI5CY\u7684\u7ed3\u6784","text":"<p>PULPino\u652f\u6301\u591a\u79cd\u5904\u7406\u5668\u6838\uff0cRI5CY\u662f\u5176\u4e2d\u4e00\u79cd\uff0c\u4e5f\u662f\u5176\u4e2d\u6700\u65e9\u5f00\u6e90\u7684\u5904\u7406\u5668\u6838\u3002RI5CY\u662f\u4e00\u6b3e\u56db\u7ea7\u6d41\u6c34\u7ebf\u768432\u4f4d\u5904\u7406\u5668\uff0c\u91c7\u7528\u7684\u662frisc-v\u6307\u4ee4\u96c6\uff0c\u5e76\u8fdb\u884c\u4e86\u6269\u5c55\uff0c\u4ece\u800c\u5b9e\u73b0\u4f4e\u80fd\u8017\u6267\u884c\u67d0\u4e9b\u6570\u636e\u5904\u7406\u6307\u4ee4\u3002\u5176\u652f\u6301\u7684\u6307\u4ee4\u5982\u4e0b\uff1a * RV32I * RV32C * RV32M * \u6269\u5c55\u6307\u4ee4\uff1a     - \u7b97\u672f\u6307\u4ee4\u6269\u5c55\uff08ALU Extension\uff09     - \u786c\u4ef6\u5faa\u73af\uff08Hardware Loop\uff09     - \u5730\u5740\u81ea\u589e\u7684\u8bbf\u5b58\u6307\u4ee4\uff08post-incrementing Load &amp; Strore Instruciton\uff09     - \u4e58\u7d2f\u52a0\u6307\u4ee4\uff08Multiply-Accumulate\uff09     - \u5411\u91cf\u64cd\u4f5c\uff08Vectorial\uff09 RI5CY\u7684\u7ed3\u6784\u793a\u610f\u56fe\u5982\u56fe8-10\u6240\u793a\u3002\u5178\u578b\u7684\u56db\u7ea7\u6d41\u6c34\u7ebf\u7ed3\u6784\uff0c\u5927\u90e8\u5206\u6a21\u5757\u90fd\u5f88\u597d\u7406\u89e3\uff0c\u672c\u8282\u91cd\u70b9\u5bf9\u5176\u4e2d\u7684\u6307\u4ee4\u9884\u53d6Buffer\uff08Prefetch Buffer\uff09\u3001\u52a0\u8f7d\u5b58\u50a8\u5355\u5143\uff08LSU\uff09\u8fdb\u884c\u4ecb\u7ecd\uff0c\u53e6\u5916\uff0c\u57288.4\u8282\u4f1a\u5bf9\u786c\u4ef6\u5faa\u73af\u63a7\u5236\u5668\uff08hwloop control\uff09\u8fdb\u884c\u4ecb\u7ecd\u3002  \u56fe8-10 RI5CY\u7684\u7ed3\u6784\u793a\u610f\u56fe[3]</p>"},{"location":"ch8/sec3-RI5CY_overview/#832-buffer","title":"8.3.2 \u6307\u4ee4\u9884\u53d6Buffer","text":"<p>\u53c2\u8003\u56fe8-1\u53ef\u4ee5\u66f4\u52a0\u6e05\u695a\u7684\u7406\u89e3\u6307\u4ee4\u9884\u53d6Buffer\u7684\u4f5c\u7528\uff0c\u6307\u4ee4\u9884\u53d6Buffer\u4f4d\u4e8e\u5904\u7406\u5668\u6838\u4e0e\u5171\u4eab\u7684\u6307\u4ee4\u7f13\u5b58\u4e4b\u95f4\uff0c\u5171\u4eab\u7684\u6307\u4ee4\u7f13\u5b58\u53ef\u80fd\u4f1a\u7531\u4e8e\u591a\u4e2a\u5904\u7406\u5668\u6838\u540c\u65f6\u8bbf\u95ee\uff0c\u800c\u589e\u52a0\u5ef6\u8fdf\uff0c\u4e3a\u6b64\uff0c\u4e3a\u6bcf\u4e2a\u5904\u7406\u5668\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u5bb9\u91cf\u5f88\u5c0f\u7684\u6307\u4ee4\u9884\u53d6Buffer\uff0c\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u9762\u79ef\u7684\u524d\u63d0\u4e0b\u63d0\u9ad8\u6027\u80fd\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u7406\u7531\uff0cRI5CY\u652f\u6301RV32C\uff0c\u5373\u6307\u4ee4\u53ef\u80fd\u662f16\u4f4d\u7684\uff0c\u6b64\u65f6\u53d6\u6307\u7684\u5730\u5740\u53ef\u80fd\u4e0d\u662f4\u5b57\u8282\u5bf9\u9f50\uff0c\u8fd9\u79cd\u975e\u5bf9\u9f50\u8bbf\u95ee\uff0c\u81f3\u5c11\u9700\u8981\u4e24\u4e2a\u65f6\u949f\u5468\u671f\u624d\u80fd\u53d6\u5f97\u6307\u4ee4\uff0c\u901a\u8fc7\u589e\u52a0\u6307\u4ee4\u9884\u53d6Buffer\uff0c\u80fd\u591f\u5b9e\u73b0\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u53d6\u5f97\u6307\u4ee4\u3002 \u6307\u4ee4\u9884\u53d6Buffer\u7684\u5927\u5c0f\u53ef\u4ee5\u6709\u4e24\u79cd\u914d\u7f6e\uff1a \u914d\u7f6e\u4e00\uff1a\u53ef\u4ee5\u5b58\u653e3\u676132\u4f4d\u6307\u4ee4\uff0c\u6309\u7167FIFO\u539f\u5219\u4f7f\u7528 \u914d\u7f6e\u4e8c\uff1a\u662f\u6307\u4ee4\u7f13\u5b58line\u7684\u5927\u5c0f\uff0c\u6bd4\u5982128\u4f4d\u3002 \u9700\u8981\u6ce8\u610f\u4e00\u70b9\uff0c\u5bf9\u4e8e\u914d\u7f6e\u4e8c\u800c\u8a00\uff0c\u5b9e\u9645\u5927\u5c0f\u5e76\u4e0d\u662f128\u4f4d\uff0c\u800c\u662f128+32\u4f4d\uff0c\u8fd9\u4e3b\u8981\u662f\u8003\u8651\u5230\u6709\u4e9b\u6307\u4ee4\u4f1a\u8de8\u4e24\u6761\u6307\u4ee4\u7f13\u5b58line\u3002\u5982\u56fe8-11\u6240\u793a\u3002\u5728\u6307\u4ee4\u7f13\u5b58\u4e2d\uff0c\u4e0a\u4e00\u6761line\u7684\u6700\u540e32bit\u7684\u4f4e16bit\u662f\u4e00\u4e2a16\u4f4d\u7684\u538b\u7f29\u6307\u4ee4\uff0c\u6240\u4ee5\u5728\u53d6\u4e0b\u4e00\u6761\u6307\u4ee4\u7f13\u5b58line\u7684\u65f6\u5019\uff0c\u9700\u8981\u6682\u65f6\u4fdd\u5b58\u4e0a\u4e00\u6761line\u7684\u6700\u540e32\u4f4d\uff0c\u5176\u4e2d\u7684\u9ad816bit\u4e0e\u4e0b\u4e00\u6761\u6307\u4ee4\u7f13\u5b58line\u7684\u4f4e16bit\u7ec4\u6210\u4e00\u6761\u5b8c\u6574\u7684\u6307\u4ee4\u3002\u8fd9\u4e5f\u89e3\u91ca\u4e86\u4e3a\u4f55\u901a\u8fc7\u6dfb\u52a0\u6307\u4ee4\u9884\u53d6Buffer\u53ef\u4ee5\u5b9e\u73b0\u5373\u4f7f\u6307\u4ee4\u5730\u5740\u4e0d\u662f4\u5b57\u8282\u5bf9\u9f50\u7684\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u53d6\u5f97\u6307\u4ee4\u7684\u539f\u56e0\u3002  \u56fe8-11 \u6307\u4ee4\u8de8\u4e24\u6761\u6307\u4ee4\u7f13\u5b58line\u7684\u60c5\u51b5</p>"},{"location":"ch8/sec3-RI5CY_overview/#833","title":"8.3.3 \u52a0\u8f7d\u5b58\u50a8\u5355\u5143","text":"<p>\u52a0\u8f7d\u5b58\u50a8\u5355\u5143\uff08LSU\uff1aLoad-Store-Unit\uff09\u662fRI5CY\u4e0e\u6570\u636e\u5b58\u50a8\u5668\u7684\u6865\u6881\uff0c\u8bbf\u95ee\u7684\u7c92\u5ea6\u53ef\u4ee5\u662f\u5b57\u3001\u534a\u5b57\u3001\u5b57\u8282\u3002\u5e76\u4e14\u652f\u6301\u5730\u5740\u975e\u5bf9\u9f50\u8bbf\u95ee\uff0c\u5176\u539f\u7406\u662f\u8bbf\u95ee\u4e24\u4e2a\u8fde\u7eed\u7684\u5bf9\u9f50\u5730\u5740\u5bf9\u5e94\u7684\u5b57\uff0c\u7136\u540e\u62fc\u63a5\u6210\u6307\u5b9a\u7684\u6570\u636e\uff0c\u6240\u4ee5\u5bf9\u975e\u5bf9\u9f50\u8bbf\u95ee\uff0c\u9700\u8981\u81f3\u5c11\u4e24\u4e2a\u65f6\u949f\u5468\u671f\u3002LSU\u4e0e\u6570\u636e\u5b58\u50a8\u5668\u7684\u63a5\u53e3\u4fe1\u53f7\u5982\u88688-3\u6240\u793a\u3002 \u88688-2 LSU\u7684\u63a5\u53e3\u4fe1\u53f7\u8868</p> \u63a5\u53e3\u540d\u79f0 \u65b9\u5411 \u63cf\u8ff0 data_req_o \u8f93\u51fa \u8bf7\u6c42\u6709\u6548\u4fe1\u53f7\uff0c\u5728\u4e00\u6b21\u8bbf\u95ee\u4e2d\uff0c\u8be5\u4fe1\u53f7\u4fdd\u6301\u4e3a1\uff0c\u76f4\u5230\u8f93\u5165\u4fe1\u53f7data_gnt_i\u6301\u7eed\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u4e3a1\uff0c\u6b64\u65f6\u8868\u793a\u672c\u6b21\u8bbf\u95ee\u7ed3\u675f data_addr_o[31:0] \u8f93\u51fa \u8bbf\u95ee\u5730\u5740 data_we_o \u8f93\u51fa \u4e3a1\uff0c\u8868\u793a\u662f\u5199\u64cd\u4f5c\uff0c\u53cd\u4e4b\uff0c\u8868\u793a\u662f\u8bfb\u64cd\u4f5c data_be_o[3:0] \u8f93\u51fa \u4ee5\u5b57\u8282\u4e3a\u7c92\u5ea6\u7684\u4f7f\u80fd\u6807\u5fd7\uff0c\u6bcf\u4e00bit\u5bf9\u5e94\u4e00\u4e2a\u5b57\u8282 data_wdata_o[31:0] \u8f93\u51fa \u8981\u5199\u7684\u6570\u636e data_rdata_i[31:0] \u8f93\u5165 \u4ece\u6570\u636e\u5b58\u50a8\u5668\u8fd4\u56de\u7684\u6570\u636e data_rvalid_i \u8f93\u5165 \u4e3a1\uff0c\u8868\u793a\u6570\u636e\u8bbf\u95ee\u8bf7\u6c42\u5904\u7406\u5b8c\u6bd5 data_gnt_i \u8f93\u5165 \u4e3a1\uff0c\u8868\u793a\u6570\u636e\u5b58\u50a8\u5668\u4e00\u4fa7\u63a5\u6536\u4e86\u672c\u6b21\u8bbf\u95ee\u8bf7\u6c42\uff0c\u6b64\u65f6\uff0c\u4e0d\u4e00\u5b9a\u7ed9\u51fa\u8bbf\u95ee\u7ed3\u679c\uff0c\u4f46\u662fLSU\u4fa7\u53ef\u4ee5\u7ee7\u7eed\u8bbf\u95ee\u4e0b\u4e00\u4e2a\u5730\u5740 <p>LSU\u8bbf\u95ee\u65f6\u5e8f\u5341\u5206\u7b80\u5355\uff0c\u9996\u5148\u8bbe\u7f6edata_req_o\u4e3a1\uff0c\u8bbe\u7f6edata_addr_o\u4e3a\u76ee\u6807\u5730\u5740\uff0c\u540c\u65f6\u8bbe\u7f6edata_we_o\u3001data_be_o\u3001data_wdata_o\u7b49\u4fe1\u53f7\uff0c\u6570\u636e\u5b58\u50a8\u5668\u6536\u5230\u8be5\u8bbf\u95ee\u8bf7\u6c42\u540e\uff0c\u5982\u679c\u80fd\u591f\u5904\u7406\uff0c\u90a3\u4e48\u8bbe\u7f6edata_gnt_i\u4e3a\u9ad8\uff0c\u8868\u793a\u786e\u8ba4\u3002\u8bbf\u95ee\u8bf7\u6c42\u5904\u7406\u5b8c\u6bd5\u540e\uff0c\u8bbe\u7f6edata_rvalid_i\u4e3a1\uff0c\u5982\u679c\u662f\u8bfb\u8bf7\u6c42\uff0c\u6b64\u65f6data_rdata_i\u5c31\u662f\u8fd4\u56de\u7684\u6570\u636e\u3002\u5982\u56fe8-12\u30018-13\u30018-14\u6240\u793a\u3002\u5176\u4e2d\u56fe8-12\u662f\u6b63\u5e38\u7684\u8bbf\u95ee\u8fc7\u7a0b\u3002\u56fe8-13\u662f\u80cc\u5bf9\u80cc\u8bbf\u95ee\u8fc7\u7a0b\uff0c\u5f53data_gnt_i\u4e3a\u9ad8\u540e\uff0c\u4e0d\u7b49\u5230\u8fd4\u56de\u7ed3\u679c\uff0c\u7acb\u5373\u8bbe\u7f6edata_addr_o\u3001data_wdata_o\u3001data_be_o\u3001data_we_o\u4e3a\u4e0b\u6b21\u8bbf\u95ee\u7684\u503c\uff0c\u4ece\u800c\u63d0\u9ad8\u8bbf\u95ee\u6548\u7387\u3002\u56fe8-14\u662f\u5ef6\u8fdf\u54cd\u5e94\u7684\u8bbf\u95ee\u8fc7\u7a0b\uff0c\u6570\u636e\u5b58\u50a8\u5668\u786e\u8ba4\u8bbf\u95ee\u8bf7\u6c42\u540e\uff08\u5373data_gnt_i\u4e3a\u9ad8\uff09\uff0c\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u624d\u8fd4\u56de\u6709\u6548\u6570\u636e\u3002  \u56fe8-12 \u57fa\u672c\u7684LSU\u8bbf\u95ee\u65f6\u5e8f</p> <p> \u56fe8-13 \u80cc\u5bf9\u80cc\u7684LSU\u8bbf\u95ee\u65f6\u5e8f</p> <p> \u56fe8-14 \u5ef6\u8fdf\u54cd\u5e94\u7684LSU\u8bbf\u95ee\u65f6\u5e8f</p>"},{"location":"ch8/sec3-RI5CY_overview/#834","title":"8.3.4 \u63a7\u5236\u4e0e\u72b6\u6001\u5bc4\u5b58\u5668","text":"<p>RI5CY\u5e76\u6ca1\u6709\u5b9e\u73b0RISC-V privileged specification\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u63a7\u5236\u4e0e\u72b6\u6001\u5bc4\u5b58\u5668\uff08CSR\uff1aControl and Status Register\uff09\uff0c\u53ea\u5b9e\u73b0\u4e86\u9700\u8981\u7684\u4e00\u4e9bCSR\uff0c\u5982\u88688-4\u6240\u793a\u3002\u5927\u4f53\u53ef\u4ee5\u5206\u4e3a\u56db\u7c7b\uff1a * \u5904\u7406\u5668\u5c5e\u6027\u5bc4\u5b58\u5668\uff1aMCPUID\u3001MIMPID\u3001MHARTID\uff0c\u8fd9\u4e9b\u90fd\u662f\u53ea\u8bfb\u5bc4\u5b58\u5668\u3002 * \u5f02\u5e38\u76f8\u5173\u5bc4\u5b58\u5668\uff1aMSTATUS\u3001MEPC\u3001MCAUSE\u3001MESTATUS\u3002 * \u6027\u80fd\u8ba1\u6570\u76f8\u5173\u5bc4\u5b58\u5668\uff1aPCCRs\u3001PCER\u3001PCMR\u3002 * \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u5bc4\u5b58\u5668\uff1aHWLP \u9664\u4e86HWLP\u5916\uff0c\u5176\u4f59\u5bc4\u5b58\u5668\u5728RISC-V privileged specification\u4e2d\u5747\u6709\u8bf4\u660e\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\uff0cHWLP\u5c06\u57288.4\u8282\u4ecb\u7ecd\u786c\u4ef6\u5faa\u73af\u7684\u65f6\u5019\u4e00\u5e76\u4ecb\u7ecd\u3002 \u88688-4 RI5CY\u5b9e\u73b0\u7684CSR </p>"},{"location":"ch8/sec3-RI5CY_overview/#835","title":"8.3.5 \u63a5\u53e3\u63cf\u8ff0","text":"<p>\u53ef\u4ee5\u4ecehttps://github.com/pulp-platform/riscv \u4e0b\u8f7dRI5CY\u7684\u6e90\u7801\uff0c\u5176\u9876\u5c42\u6a21\u5757\u4f4d\u4e8eriscv_core.sv\uff0c\u4f9d\u636e\u8be5\u6a21\u5757\uff0c\u5f97\u5230RI5CY\u7684\u63a5\u53e3\u793a\u610f\u56fe\u5982\u56fe8-15\u6240\u793a\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u63a5\u53e3\u90fd\u53ef\u4ee5\u901a\u8fc7\u63a5\u53e3\u540d\u79f0\u6700\u540e\u7684_i\u8fd8\u662f_o\u533a\u5206\u51fa\u662f\u8f93\u5165\u63a5\u53e3\u8fd8\u662f\u8f93\u51fa\u63a5\u53e3\u3002  \u56fe8-15RI5CY\u7684\u63a5\u53e3\u793a\u610f\u56fe</p> <p>\u4ece\u56fe8-15\u53ef\u4ee5\u53d1\u73b0\uff0cRI5CY\u7684\u63a5\u53e3\u4e3b\u8981\u5305\u62ec\uff1a\u6307\u4ee4\u5b58\u50a8\u5668\u63a5\u53e3\u3001\u6570\u636e\u5b58\u50a8\u5668\u63a5\u53e3\u3001\u8c03\u8bd5\u63a5\u53e3\u3001\u4e2d\u65ad\u8f93\u5165\u3001\u63a7\u5236\u4fe1\u53f7\u8f93\u5165\uff0c\u4ee5\u53ca\u4e00\u4e9b\u5168\u5c40\u4fe1\u53f7\u8f93\u5165\u3002\u6b64\u5904\u4ec5\u5bf9boot_addr_i\u63a5\u53e3\u4f5c\u8fdb\u4e00\u6b65\u89e3\u91ca\uff0c\u8be5\u4fe1\u53f7\u6765\u81eaPULPino\u4e2d\u7684SoC Controller\u6a21\u5757\uff08\u53c2\u8003\u56fe8-3\uff0c\u6e90\u4ee3\u7801\u4f4d\u4e8ehttps://github.com/pulp-platform/apb_pulpino \uff09\uff0c\u540e\u8005\u5185\u90e8\u6709\u4e00\u4e2a\u5bc4\u5b58\u5668Boot Address\uff0c\u8be5\u5bc4\u5b58\u5668\u5b9a\u4e49\u4e86\u7cfb\u7edf\u8fd0\u884c\u7684\u8d77\u59cb\u5730\u5740\uff0c\u8be5\u5bc4\u5b58\u5668\u7684\u503c\u901a\u8fc7boot_addr_i\u63a5\u53e3\u4f20\u5165RI5CY\uff0cRI5CY\u7684if_stage.sv\u4e2d\u7684\u5982\u4e0b\u4ee3\u7801\uff0c\u7ed9\u51fa\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u3002 <pre><code>  // fetch address selection\nalways_comb\nbegin\nfetch_addr_n = 'x;\n\nunique case (pc_mux_i)\nPC_BOOT:      fetch_addr_n = {boot_addr_i[31:8], EXC_OFF_RST};\nPC_JUMP:      fetch_addr_n = jump_target_id_i;\nPC_BRANCH:    fetch_addr_n = jump_target_ex_i;\nPC_EXCEPTION: fetch_addr_n = exc_pc;             // set PC to exception handler\nPC_ERET:      fetch_addr_n = exception_pc_reg_i; // PC is restored when returning from IRQ/exception\nPC_DBG_NPC:   fetch_addr_n = dbg_jump_addr_i;    // PC is taken from debug unit\n\ndefault:;\nendcase\nEnd\n</code></pre> \u4ece\u4ee3\u7801\u53ef\u77e5\uff0c\u8d77\u59cb\u5730\u5740\u5b9e\u9645\u662f\u5c06boot_addr_i\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u66ff\u6362\u4e3a\u590d\u4f4d\u5f02\u5e38\u5904\u7406\u4f8b\u7a0b\u7684\u5165\u53e3\u5730\u5740EXC_OFF_RST\u5f97\u5230\u7684\uff0c\u6bd4\u5982\uff1a\u9ed8\u8ba4\u7684boot_addr_i\u662f0x00008000\uff0c\u4ece\u56fe8-9\u53ef\u77e5\u590d\u4f4d\u5f02\u5e38\u5904\u7406\u4f8b\u7a0b\u7684\u5165\u53e3\u5730\u5740\u4e3a0x80\uff0c\u6240\u4ee5\u7cfb\u7edf\u9ed8\u8ba4\u7684\u7b2c\u4e00\u6761\u6307\u4ee4\u5730\u5740\u662f0x00008080\u3002</p>"},{"location":"ch8/sec3-RI5CY_overview/#836","title":"8.3.6 \u6027\u80fd\u5206\u6790","text":"<p>\u5728\u53c2\u8003\u6587\u732e[7]\u4e2d\u5bf9RI5CY\u7684\u6027\u80fd\uff0c\u4e0eARM Cortex-M4\u8fdb\u884c\u4e86\u5bf9\u6bd4\u5206\u6790\uff0c\u4e3b\u8981\u662f\u4ece\u4e24\u4e2a\u65b9\u9762\u8fdb\u884c\u5206\u6790\uff0c\u9996\u5148\u662f\u4ece\u9762\u79ef\u3001\u529f\u8017\u65b9\u9762\u6bd4\u8f83\uff0c\u5982\u56fe8-16\u6240\u793a\uff0c\u4ece\u4e2d\u53ef\u4ee5\u53d1\u73b0RI5CY\u5728\u9762\u79ef\u3001\u529f\u8017\u65b9\u9762\u5747\u4f18\u4e8eARM Cortex-M4.  \u56fe8-16 RI5CY\u4e0eARM Cortex-M4\u7684\u9762\u79ef\u3001\u529f\u8017\u5bf9\u6bd4 \u5176\u6b21\u662f\u4ece\u8fd0\u7b97\u901f\u5ea6\u4e0a\u8fdb\u884c\u4e86\u6bd4\u8f83\uff0c\u5982\u56fe8-17\u6240\u793a\uff0c\u5bf9\u4e94\u79cd\u5904\u7406\u5668\u7684\u8fd0\u7b97\u901f\u5ea6\u8fdb\u884c\u4e86\u5bf9\u6bd4\uff0c\u8fd9\u4e94\u79cd\u5904\u7406\u5668\u5206\u522b\u662f\uff1aARM Cortex-M4\u3001\u6ca1\u6709\u5b9e\u73b0\u6269\u5c55\u6307\u4ee4\u7684OR10N\u3001\u6ca1\u6709\u5b9e\u73b0\u6269\u5c55\u6307\u4ee4\u7684RI5CY\u3001\u5b9e\u73b0\u6269\u5c55\u6307\u4ee4\u7684OR10N\u3001\u5b9e\u73b0\u6269\u5c55\u6307\u4ee4\u7684RI5CY\u3002\u6b64\u5904\u7684\u6269\u5c55\u6307\u4ee4\u6307\u7684\u5c31\u662f\u57288.3.1\u8282\u4e2d\u5217\u51fa\u7684\u786c\u4ef6\u5faa\u73af\u6307\u4ee4\u3001\u7b97\u6570\u6269\u5c55\u6307\u4ee4\u3001\u5411\u91cf\u64cd\u4f5c\u6307\u4ee4\u7b49\u3002\u4ece\u56fe8-17\u53ef\u4ee5\u53d1\u73b0\u5b9e\u73b0\u4e86\u6269\u5c55\u6307\u4ee4\u7684OR10N\u3001RI5CY\u660e\u663e\u4f18\u4e8e\u6ca1\u6709\u5b9e\u73b0\u6269\u5c55\u6307\u4ee4\u7684OR10N\u3001RI5CY\uff0c\u5e76\u4e14\u4f18\u4e8eARM Cortex_m4\u3002  \u56fe8-17 RI5CY\u7684\u8fd0\u7b97\u901f\u5ea6\u6bd4\u8f83</p>"},{"location":"ch8/sec3-RI5CY_overview/#837","title":"8.3.7 \u4ee3\u7801\u4ecb\u7ecd","text":"<p>RI5CY\u7684\u4ee3\u7801\u4e5f\u662f\u91c7\u7528System Verilog\u5199\u7684\uff0c\u4ecehttps://github.com/pulp-platform/riscv \u4e0b\u8f7d\u5f97\u5230\u4ee3\u7801\uff0c\u53ef\u4ee5\u53d1\u73b0RI5CY\u7684\u4ee3\u7801\u7ed3\u6784\u5f88\u7b80\u5355\uff0c\u4e5f\u5f88\u6a21\u5757\u5316\uff0c\u4e3b\u8981\u6587\u4ef6\u53ca\u5176\u4f5c\u7528\u5982\u88688-5\u6240\u793a\u3002</p> <p>\u88688-5 RI5CY\u6e90\u4ee3\u7801\u4e2d\u4e3b\u8981\u6587\u4ef6\u53ca\u5176\u4f5c\u7528</p> \u6587\u4ef6\u540d \u4f5c\u7528 alu.sv \u7b97\u672f\u903b\u8f91\u8fd0\u7b97\u5355\u5143\uff0c\u5b9e\u73b0\u4e86\u5927\u90e8\u5206\u7b97\u672f\u903b\u8f91\u8fd0\u7b97 alu_div.sv \u5b9e\u73b0\u4e86\u9664\u6cd5\u8fd0\u7b97 compressed_decoder.sv \u5c0616bit\u7684\u538b\u7f29\u6307\u4ee4\u6269\u5c55\u4e3a\u7b49\u4ef7\u768432bit\u6307\u4ee4 controller.sv \u5b9e\u73b0\u4e86\u6d41\u6c34\u7ebf\u7684\u63a7\u5236\u901a\u8def cs_registers.sv \u5b9e\u73b0\u4e86CSR debug_unit.sv \u8c03\u8bd5\u5355\u5143 decoder.sv \u5b9e\u73b0\u5bf9\u6307\u4ee4\u7684\u8bd1\u7801 ex_stage.sv \u5bf9\u5e94\u6d41\u6c34\u7ebf\u7684\u6267\u884c\u9636\u6bb5 exc_controller.sv \u5f02\u5e38\u63a7\u5236\u5668 hwloop_controller.sv \u786c\u4ef6\u5faa\u73af\u63a7\u5236\u5668 hwloop_regs.sv \u786c\u4ef6\u5faa\u73af\u5bf9\u5e94\u7684\u5bc4\u5b58\u5668 id_stage.sv \u5bf9\u5e94\u6d41\u6c34\u7ebf\u7684\u8bd1\u7801\u9636\u6bb5 if_stage.sv \u5bf9\u5e94\u6d41\u6c34\u7ebf\u7684\u53d6\u6307\u9636\u6bb5 load_store_unit.sv \u5b9e\u73b0\u4e86\u5bf9\u6570\u636e\u5b58\u50a8\u5668\u7684\u8bbf\u95ee mult.sv \u5b9e\u73b0\u4e86\u6574\u6570\u4e58\u6cd5\u3001\u70b9\u79ef\u8fd0\u7b97 prefetch_buffer.sv \u5b9e\u73b0\u4e86\u6307\u4ee4\u9884\u53d6\u5355\u5143\uff0c\u5e76\u4e14\u662f\u914d\u7f6e\u4e00\uff1a\u53ef\u4ee5\u5b58\u653e3\u676132\u4f4d\u6307\u4ee4\uff0c\u6309\u7167FIFO\u539f\u5219\u4f7f\u7528 prefetch_L0_buffer.sv \u5b9e\u73b0\u4e86\u6307\u4ee4\u9884\u53d6\u5355\u5143\uff0c\u5e76\u4e14\u662f\u914d\u7f6e\u4e8c\uff1a\u5927\u5c0f\u7b49\u4e8e\u6307\u4ee4\u7f13\u5b58line\uff0c\u5373128\u4f4d register_file.sv \u5b9e\u73b0\u4e86\u5bc4\u5b58\u5668\u6587\u4ef6\uff0c32\u4e2a32\u4f4d\u5bc4\u5b58\u5668\uff0c\u5177\u67093\u4e2a\u8bfb\u7aef\u53e3\uff0c2\u4e2a\u5199\u7aef\u53e3\uff0c\u5e76\u4e14\u91c7\u7528\u7684\u9501\u5b58\u5668\u5b9e\u73b0\u7684\uff0c\u76ee\u6807\u662f\u9488\u5bf9ASIC\u5e94\u7528 register_file_ff.sv \u4e5f\u5b9e\u73b0\u4e86\u5bc4\u5b58\u5668\u6587\u4ef6\uff0c32\u4e2a32\u4f4d\u5bc4\u5b58\u5668\uff0c\u5177\u67093\u4e2a\u8bfb\u7aef\u53e3\uff0c2\u4e2a\u5199\u7aef\u53e3\uff0c\u4f46\u662f\u91c7\u7528\u7684\u89e6\u53d1\u5668\u5b9e\u73b0\u7684\uff0c\u76ee\u6807\u662f\u9488\u5bf9FPGA\u5e94\u7528 riscv_core.sv RI5CY\u7684\u9876\u5c42\u6a21\u5757 riscv_simchecker.sv \u4eff\u771f\u8fc7\u7a0b\u68c0\u9a8c riscv_tracer.sv \u8bb0\u5f55\u6267\u884c\u8fc7\u7684\u6307\u4ee4"},{"location":"ch8/sec3-RI5CY_overview/#838","title":"8.3.8 \u542f\u52a8\u8fc7\u7a0b\u5206\u6790","text":"<p>\u57288.3.5\u8282\u4e2d\uff0c\u5206\u6790\u51fa\u7cfb\u7edf\u7684\u9ed8\u8ba4\u542f\u52a8\u5730\u5740\u662f0x00008080\uff0c\u53c2\u8003\u56fe8-8\u53ef\u77e5\uff0c\u8be5\u5730\u5740\u4f4d\u4e8eBoot ROM\u4e2d\uff0cBoot ROM\u7684\u6e90\u4ee3\u7801\u4f4d\u4e8ePULPino\u6e90\u4ee3\u7801\u7684rtl\\boot_code.sv\u4e2d\uff0c\u8be5\u6587\u4ef6\u5f88\u597d\u7406\u89e3\uff0c\u4e3b\u4f53\u5c31\u662f\u4e00\u4e2aROM\uff0c\u91c7\u7528\u6570\u7ec4\u5b9e\u73b0\uff0c\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f32bit\uff0c\u5982\u4e0b\uff1a <pre><code>module boot_code\n(\ninput  logic        CLK,\ninput  logic        RSTN,\n\ninput  logic        CSN,\ninput  logic [9:0]  A,\noutput logic [31:0] Q\n);\n\nconst logic [0:547] [31:0] mem = {\n32'h00000013,\n......\n32'h00000000,\n32'h00000000};\n\nlogic [9:0] A_Q;\n\nalways_ff @(posedge CLK)\nbegin\nif (~RSTN)\nA_Q &lt;= '0;\nelse\nif (~CSN)\nA_Q &lt;= A;\nend\n\nassign Q = mem[A_Q];\n\nEndmodule\n</code></pre></p> <p>PULPino\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u5730\u65b9\u6cd5\u5f97\u5230boot_code.sv\u53ea\u9700\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\uff1a <code>make boot_code.install</code>  \u5b9e\u9645\u8fc7\u7a0b\u662f\uff0c\u7f16\u8bd1sw\\ref\u76ee\u5f55\u4e0b\u7684crt0.boot.S\uff0c\u4e0esw\\apps\\boot_code\u76ee\u5f55\u4e0b\u7684boot_code.c\u7136\u540e\u4f7f\u7528sw\\ref\u76ee\u5f55\u4e0b\u7684link.boot.ld\u6587\u4ef6\u8fdb\u884c\u94fe\u63a5\uff0c\u6700\u540e\u4f7f\u7528sw\\utils\u76ee\u5f55\u4e0b\u7684s19toboot.py\u5c06\u76ee\u6807\u6587\u4ef6\u8f6c\u5316\u4e3aboot_code.sv\u3002\u5177\u4f53\u8fc7\u7a0b\u5982\u56fe8-18\u6240\u793a\u3002  \u56fe8-18 \u5f97\u5230\u542f\u52a8\u6587\u4ef6\u7684\u8fc7\u7a0b</p> <p>\u6240\u4ee5\u9ed8\u8ba4\u7684\u542f\u52a8\u8fc7\u7a0b\u5b9e\u9645\u5c31\u662f\u7531crt0.boot.S\u3001boot_code.c\u51b3\u5b9a\u7684\uff0c\u9700\u8981\u5206\u6790\u8fd9\u4e24\u4e2a\u6587\u4ef6\u3002\u9996\u5148\u5206\u6790crt0.boot.S\uff0c\u8be5\u6587\u4ef6\u5341\u5206\u7b80\u5355\uff0c\u4ece\u5730\u57400\u5f00\u59cb\u5b9a\u4e49\u4e2d\u65ad\u5904\u7406\u4f8b\u7a0b\uff0c\u5982\u4e0b\uff1a <pre><code>  .org 0x00\n.rept 31\nnop\n.endr\njal x0, default_exc_handler\n\n// reset vector\n.org 0x80\njal x0, reset_handler\n\n// illegal instruction exception\n.org 0x84\njal x0, default_exc_handler\n\n// ecall handler\n.org 0x88\njal x0, default_exc_handler\n</code></pre> \u5176\u4e2d0x80\u5904\u7684\u590d\u4f4d\u5f02\u5e38\u5904\u7406\u4f8b\u7a0b\u662f\u8df3\u8f6c\u5230reset_handler\uff0c\u6240\u4ee5\u7cfb\u7edf\u590d\u4f4d\u540e\u4f1a\u8f6c\u79fb\u5230reset_handler\u6267\u884c\uff0c\u540e\u8005\u7684\u5b9a\u4e49\u5982\u4e0b\uff1a <pre><code>reset_handler:\n/* set all registers to zero */\nmv  x1, x0\nmv  x2, x1\nmv  x3, x1\nmv  x4, x1\nmv  x5, x1\nmv  x6, x1\nmv  x7, x1\nmv  x8, x1\nmv  x9, x1\nmv x10, x1\nmv x11, x1\nmv x12, x1\nmv x13, x1\nmv x14, x1\nmv x15, x1\nmv x16, x1\nmv x17, x1\nmv x18, x1\nmv x19, x1\nmv x20, x1\nmv x21, x1\nmv x22, x1\nmv x23, x1\nmv x24, x1\nmv x25, x1\nmv x26, x1\nmv x27, x1\nmv x28, x1\nmv x29, x1\nmv x30, x1\nmv x31, x1\n\n/* stack initilization */\nla   x2, _stack_start\n\n_start:\n.global _start\n\n/* clear BSS */\nla x26, _bss_start\nla x27, _bss_end\n\nbge x26, x27, zero_loop_end\n\nzero_loop:\nsw x0, 0(x26)\naddi x26, x26, 4\nble x26, x27, zero_loop\nzero_loop_end:\n\n\nmain_entry:\n/* jump to main program entry point (argc = argv = 0) */\naddi x10, x0, 0\naddi x11, x0, 0\njal x1, main\n</code></pre></p> <p>\u4f9d\u6b21\u505a\u4e86\u8fd9\u51e0\u4ef6\u4e8b\uff1a * \u521d\u59cb\u5316\u5bc4\u5b58\u5668\uff0c\u5168\u90e8\u521d\u59cb\u5316\u4e3a0 * \u521d\u59cb\u5316\u5806\u6808\uff0c\u5168\u90e8\u521d\u59cb\u5316\u4e3a0 * \u8df3\u8f6c\u5230main\u51fd\u6570\u6267\u884c \u4e8e\u662f\u5c31\u4ececrt0.boot.S\u8f6c\u79fb\u5230boot_code.c\u7ee7\u7eed\u6267\u884c\u3002\u540e\u8005\u4eceSPI flash\u4e2d\u52a0\u8f7d\u7a0b\u5e8f\u5230\u6307\u4ee4RAM\u3001\u6570\u636eRAM\uff0c\u7136\u540e\u7ee7\u7eed\u6267\u884c\u3002\u5b58\u653e\u5728SPI flash\u4e2d\u7684\u7a0b\u5e8f\u683c\u5f0f\u5982\u56fe8-19\u6240\u793a\u3002  \u56fe8-19 \u5b58\u653e\u5728SPI flash\u4e2d\u7684\u7a0b\u5e8f\u683c\u5f0f</p> <p>\u5176\u4e2d\u524d32\u4e2a\u5b57\u8282\u662f\u914d\u7f6e\u4fe1\u606f\uff0c\u540e\u9762\u6570\u636e\u6bb5\u3001\u7a0b\u5e8f\u6bb5\u3002\u914d\u7f6e\u4fe1\u606f\u768432\u4e2a\u5b57\u8282\u662f8\u4e2a\u5b57\uff0c\u542b\u4e49\u5982\u88688-6\u6240\u793a\u3002 \u88688-6 SPI Flash\u4e2d\u524d32\u5b57\u8282\u914d\u7f6e\u4fe1\u606f\u7684\u542b\u4e49</p> \u5e8f\u53f7 \u542b\u4e49 \u5b570 \u4ee3\u7801\u6bb5\u5728Flash\u4e2d\u7684\u504f\u79fb\u5730\u5740 \u5b571 \u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u4ee3\u7801\u6bb5\u5728PULPino\u7684\u8d77\u59cb\u5730\u5740\uff0c\u53c2\u8003\u56fe8-8\uff0c\u53ef\u77e5\u662f0x0 \u5b572 \u4ee3\u7801\u6bb5\u5b57\u8282\u6570 \u5b573 \u4ee3\u7801\u6bb5\u5360\u7528\u7684\u9875\u9762\u6570\uff0c\u6bcf\u9875\u9ed8\u8ba4\u4e3a4KB \u5b574 \u6570\u636e\u6bb5\u5728Flash\u4e2d\u7684\u504f\u79fb\u5730\u5740\uff0c\u9ed8\u8ba4\u662f0x20 \u5b575 \u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u6570\u636e\u6bb5\u5728PULPino\u7684\u8d77\u59cb\u5730\u5740\uff0c\u53c2\u8003\u56fe8-8\uff0c\u53ef\u77e5\u662f0x00010000 \u5b576 \u6570\u636e\u6bb5\u5b57\u8282\u6570 \u5b577 \u6570\u636e\u6bb5\u5360\u7528\u7684\u9875\u9762\u6570\uff0c\u6bcf\u9875\u9ed8\u8ba4\u4e3a4KB <p>Boot_code\u6309\u7167\u8fd9\u91cc\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5c06\u6570\u636e\u3001\u4ee3\u7801\u5206\u522b\u52a0\u8f7d\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u8f6c\u79fb\u5230\u4ee3\u7801\u6bb5\u5f00\u59cb\u6267\u884c\u7528\u6237\u7a0b\u5e8f\u3002</p>"},{"location":"ch8/sec3-RI5CY_overview/#_1","title":"\u53c2\u8003\u6587\u732e","text":"<p>[1]PULP - An Open Parallel Ultra-Low-Power Processing-Platform, http://iis-projects.ee.ethz.ch/index.php/PULP,2017-8  [2]Florian Zaruba, Updates on PULPino, The 5th RISC-V Workshop, 2016. [3]Michael Gautschi,etc,Near-Threshold RISC-V Core With DSP Extensions for Scalable IoT Endpoint Devices, IEEE Transactions on Very Large Scale Integration Systems [4]Andreas Traber, Michael Gautschi,PULPino: Datasheet,2016.11 [5]http://www.pulp-platform.org/ [6]Andreas Traber,Michael Gautschi,Pasquale Davide Schiavone. RI5CY: User Manual version1.3.  [7]Andreas Traber, etc. PULPino: A small single-core RISC-V SoC. The 4th RISC-V Workshop, 2016.</p>"},{"location":"ch8/sec4-RI5CY_HardwareLoop/","title":"sec4 RI5CY HardwareLoop","text":""},{"location":"ch8/sec4-RI5CY_HardwareLoop/#84","title":"8.4 \u786c\u4ef6\u5faa\u73af\u673a\u5236\u5206\u6790","text":""},{"location":"ch8/sec4-RI5CY_HardwareLoop/#841","title":"8.4.1 \u786c\u4ef6\u5faa\u73af\u4ecb\u7ecd","text":"<p>\u786c\u4ef6\u5faa\u73af\u662fRI5CY\u5f15\u5165\u7684\u4e00\u9879\u7279\u6b8a\u673a\u5236\uff0c\u76ee\u7684\u662f\u63d0\u9ad8\u5305\u542b\u6709\u5faa\u73af\u64cd\u4f5c\u7684\u4ee3\u7801\u7684\u6267\u884c\u6548\u7387\uff0c\u5982\u4e0b\u662f\u4e00\u6bb5\u5305\u542b\u6709\u5faa\u73af\u64cd\u4f5c\u7684C\u4ee3\u7801\u3002 <pre><code>for(i=0;i&lt;100;i++){\nd[i]=a[i]+1;\n}\n</code></pre> \u5982\u679c\u6ca1\u6709\u4f7f\u7528\u786c\u4ef6\u5faa\u73af\uff0c\u5176\u5bf9\u5e94\u7684\u6c47\u7f16\u4ee3\u7801\u5982\u4e0b\u3002 <pre><code>  mv x4, 0\nmv x5, 100\nLstart: lw x2, 0(x10)\naddi x10, x10, 4\naddi x2, x2, 1\nsw x2, 0(x11)\naddi x11, x11, 4\naddi x4, x4, 1\nbne x4, x5, Lstart\n</code></pre> \u5bc4\u5b58\u5668x4\u5b58\u653e\u7684\u662f\u5df2\u6267\u884c\u7684\u5faa\u73af\u6b21\u6570\uff0c\u5bc4\u5b58\u5668x5\u5b58\u653e\u7684\u662f\u9700\u8981\u6267\u884c\u7684\u603b\u5faa\u73af\u6b21\u6570\uff0c\u5728\u6bcf\u4e00\u6b21\u5faa\u73af\u64cd\u4f5c\u6700\u540e\uff0c\u8981\u5c06\u5bc4\u5b58\u5668x4\u52a01\uff0c\u7136\u540e\u4e0e\u5bc4\u5b58\u5668x5\u6bd4\u8f83\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\uff0c\u90a3\u4e48\u8f6c\u79fb\u5230\u5faa\u73af\u8d77\u59cb\u4f4d\u7f6e\u7ee7\u7eed\u6267\u884c\u3002\u8fd9\u6837\u7684\u4e00\u4e2a\u8fc7\u7a0b\u6709\u4e24\u4e2a\u5730\u65b9\u5f71\u54cd\u6548\u7387\uff1a \uff081\uff09\u6bcf\u6b21\u5faa\u73af\uff0c\u8981\u5c06x4\u52a01\u3002 \uff082\uff09\u6bcf\u6b21\u5faa\u73af\uff0c\u8981\u505a\u4e00\u4e2a\u5206\u652f\u8f6c\u79fb\uff0c\u5982\u679c\u5206\u652f\u9884\u6d4b\u505a\u7684\u4e0d\u597d\uff0c\u90a3\u4e48\u4f1a\u6d6a\u8d39\u81f3\u5c11\u4e00\u4e2a\u5468\u671f\u3002 RI5CY\u5f15\u5165\u786c\u4ef6\u5faa\u73af\u4ee5\u6539\u8fdb\u5faa\u73af\u6548\u7387\uff0c\u5f15\u5165\u786c\u4ef6\u5faa\u73af\u540e\u7684\u6c47\u7f16\u4ee3\u7801\u5982\u4e0b\u3002 <pre><code>  lp.setupi 100, Lend\nlw x2, 0(x10)\naddi x10, x10, 4\naddi x2, x2, 1\nsw x2, 0(x11)\nLend: addi x11, x11, 4\n</code></pre> \u4e0a\u8ff0\u4ee3\u7801\u4e2d\u6d89\u53ca\u5230RI5CY\u5b9a\u5236\u7684\u786c\u4ef6\u5faa\u73af\u76f8\u5173\u6307\u4ee4\uff0c\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u5c06\u6709\u4ecb\u7ecd\uff0c\u6b64\u5904\uff0c\u8bfb\u8005\u53ea\u9700\u8981\u7406\u89e3\u7b2c\u4e00\u6761\u6307\u4ee4lp.setupi\u8bbe\u7f6e\u4e86\u5faa\u73af\u6b21\u6570\uff0c\u8bbe\u7f6e\u4e86\u5faa\u73af\u6bb5\u7684\u7ec8\u6b62\u5730\u5740\uff0c\u968f\u540e\u5c31\u662f\u5faa\u73af\u6bb5\u4ee3\u7801\uff0c\u4e0e\u6ca1\u6709\u4f7f\u7528\u786c\u4ef6\u5faa\u73af\u7684\u6c47\u7f16\u4ee3\u7801\u76f8\u6bd4\uff0c\u6b64\u5904\u51cf\u5c11\u4e86\u5224\u65ad\u662f\u5426\u5faa\u73af\u6b21\u6570\u8fbe\u5230\u7684\u4ee3\u7801\uff0c\u540c\u65f6\u51cf\u5c11\u4e86\u5206\u652f\u8f6c\u79fb\u6307\u4ee4\uff0c\u6548\u7387\u56e0\u6b64\u63d0\u9ad8\u3002</p>"},{"location":"ch8/sec4-RI5CY_HardwareLoop/#842-csr","title":"8.4.2 \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u7684CSR","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u786c\u4ef6\u5faa\u73af\uff0c\u5728RI5CY\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e9bCSR\u5bc4\u5b58\u5668\uff0c\u7528\u6765\u4fdd\u5b58\u786c\u4ef6\u5faa\u73af\u4ee3\u7801\u6bb5\u7684\u4e00\u4e9b\u5c5e\u6027\uff0c\u4e0a\u4e00\u8282\u4e2d\u4f7f\u7528\u7684\u6307\u4ee4lp.setupi\u5c31\u662f\u7528\u6765\u8bbe\u7f6e\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u3002\u6bcf\u4e00\u4e2a\u786c\u4ef6\u5faa\u73af\u4ee3\u7801\u6bb5\u5bf9\u5e94\u4e09\u4e2aCSR\uff0c\u5206\u522b\u4fdd\u5b58\u786c\u4ef6\u5faa\u73af\u4ee3\u7801\u6bb5\u7684\u8d77\u59cb\u5730\u5740\u3001\u7ec8\u6b62\u5730\u5740\u3001\u5faa\u73af\u6b21\u6570\uff0cRI5CY\u652f\u6301\u5d4c\u5957\u786c\u4ef6\u5faa\u73af\uff0c\u76f8\u5e94\u7684CSR\u5206\u4e3a\u4e24\u7ec4\uff0c\u5bf9\u5e94loop0\u3001loop1\uff0c\u5982\u88688-7\u6240\u793a\u3002 \u88688-7 \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u7684CSR</p> \u5730\u5740 \u540d\u79f0 \u8bbf\u95ee\u5c5e\u6027 \u63cf\u8ff0 0x7B0 lpstart[0] \u53ef\u8bfb\u53ef\u5199 \u786c\u4ef6loop0\u7684\u8d77\u59cb\u5730\u5740 0x7B1 lpendt[0] \u53ef\u8bfb\u53ef\u5199 \u786c\u4ef6loop0\u7684\u7ec8\u6b62\u5730\u5740 0x7B2 lpcount[0] \u53ef\u8bfb\u53ef\u5199 \u786c\u4ef6loop0\u7684\u5faa\u73af\u6b21\u6570 0x7B4 lpstart[1] \u53ef\u8bfb\u53ef\u5199 \u786c\u4ef6loop1\u7684\u8d77\u59cb\u5730\u5740 0x7B5 lpend[1] \u53ef\u8bfb\u53ef\u5199 \u786c\u4ef6loop1\u7684\u7ec8\u6b62\u5730\u5740 0x7B6 lpcount[1] \u53ef\u8bfb\u53ef\u5199 \u786c\u4ef6loop1\u7684\u5faa\u73af\u6b21\u6570"},{"location":"ch8/sec4-RI5CY_HardwareLoop/#843","title":"8.4.3 \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u7684\u6307\u4ee4","text":"<p>\u9664\u4e868.4.1\u8282\u4e2d\u7528\u5230\u7684\u6307\u4ee4lp.setupi\u5916\uff0c\u8fd8\u6709\u5f88\u591a\u6307\u4ee4\u7528\u6765\u8bbe\u7f6e\u786c\u4ef6\u5faa\u73af\uff0c\u8fd9\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5206\u4e24\u7c7b\uff0c\u4e00\u7c7b\u662f\u957f\u6307\u4ee4\uff0c\u4e00\u7c7b\u662f\u77ed\u6307\u4ee4\uff0c\u5176\u533a\u522b\u5982\u4e0b\u3002 * \u957f\u6307\u4ee4\uff1a\u6bcf\u6761\u6307\u4ee4\u53ea\u80fd\u8bbe\u7f6e\u786c\u4ef6\u5faa\u73af\u5c5e\u6027\u4e2d\u7684\u4e00\u6761\uff0c\u6bd4\u5982\u53ea\u80fd\u8bbe\u7f6e\u786c\u4ef6\u5faa\u73af\u8d77\u59cb\u5730\u5740\uff0c\u4f46\u662f\u8be5\u7c7b\u6307\u4ee4\u4e0d\u9700\u8981\u7d27\u8ddf\u7740\u786c\u4ef6\u5faa\u73af\u4ee3\u7801\u6bb5\u3002 * \u77ed\u6307\u4ee4\uff1a\u6bcf\u6761\u6307\u4ee4\u53ef\u4ee5\u8bbe\u7f6e\u786c\u4ef6\u5faa\u73af\u7684\u5168\u90e8\u5c5e\u6027\uff0c\u5305\u62ec\u786c\u4ef6\u5faa\u73af\u7684\u8d77\u59cb\u5730\u5740\u3001\u7ec8\u6b62\u5730\u5740\u3001\u5faa\u73af\u6b21\u6570\u7b49\uff0c\u4f46\u662f\u8be5\u7c7b\u6307\u4ee4\u9700\u8981\u7d27\u8ddf\u7740\u5c31\u662f\u786c\u4ef6\u5faa\u73af\u4ee3\u7801\u6bb5\u3002 \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u6307\u4ee4\u5982\u88688-8\u6240\u793a\uff0c\u5176\u7f16\u7801\u5982\u56fe8-20\u6240\u793a\u3002 \u88688-8 \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u6307\u4ee4[6] </p> <p> \u56fe8-20 \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u6307\u4ee4\u7684\u7f16\u7801[6]</p>"},{"location":"ch8/sec4-RI5CY_HardwareLoop/#844","title":"8.4.4 \u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u8fc7\u7a0b","text":"<p>RI5CY\u4e2d\u4e0e\u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u6709\u5173\u7684\u6a21\u5757\uff0c\u5982\u56fe8-21\u6240\u793a\uff0c\u5305\u62ec\u5982\u4e0b\uff1a * \u6d41\u6c34\u7ebf\u53d6\u6307\u9636\u6bb5\u6a21\u5757riscv_if_stage\uff0c\u5176\u4e2d\u4f8b\u5316\u4e86riscv_hwloop_controller\u3001riscv_prefetch_buffer\u4e24\u4e2a\u4e0e\u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u6709\u5173\u7684\u6a21\u5757 * \u6d41\u6c34\u7ebf\u8bd1\u7801\u9636\u6bb5\u6a21\u5757riscv_id_stage\uff0c\u5176\u4e2d\u4f8b\u5316\u4e86riscv_decoder\u3001riscv_hwloop_regs\u4e24\u4e2a\u4e0e\u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u6709\u5173\u7684\u6a21\u5757 * \u63a7\u5236\u4e0e\u72b6\u6001\u5bc4\u5b58\u5668\u6a21\u5757rscv_sc_registers  \u56fe8-21 RI5CY\u4e2d\u4e0e\u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u6709\u5173\u7684\u6a21\u5757 \u56fe8-21\u4e2d\u5bf9\u90e8\u5206\u6a21\u5757\u53ea\u7ed9\u51fa\u4e86\u4e0e\u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u6709\u5173\u7684\u8f93\u5165\u8f93\u51fa\u63a5\u53e3\uff0c\u5e76\u7b80\u5355\u7ed8\u5236\u4e86\u5176\u63a5\u53e3\u8fde\u63a5\u5173\u7cfb\u3002\u4e0b\u9762\u7ed3\u5408\u56fe8-21\uff0c\u4ee5\u53ca\u786c\u4ef6\u5faa\u73af\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\uff0c\u5206\u6790\u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u539f\u7406\u3002 \u786c\u4ef6\u5faa\u73af\u76f8\u5173\u6307\u4ee4\u5728\u8fdb\u5165\u6d41\u6c34\u7ebf\u7684\u8bd1\u7801\u9636\u6bb5\u65f6\uff0c\u624d\u88ab\u8bc6\u522b\u51fa\u6765\uff0c\u5177\u4f53\u662f\u5728riscv_decoder\u6a21\u5757\u4e2d\uff0c\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff0c\u5176\u4e2dinstr_rdata_i\u662f\u4ece\u53d6\u6307\u9636\u6bb5\u4f20\u9012\u8fc7\u6765\u7684\u6307\u4ee4\uff0cOPCODE_HWLOOP\u662f\u4e00\u4e2a\u5b8f\u5b9a\u4e49\uff0c\u5176\u503c\u662f7'h7b\uff0c\u53c2\u8003\u56fe8-20\u53ef\u77e5\uff0c\u6b63\u662f\u786c\u4ef6\u5faa\u73af\u6307\u4ee4\u7684opcode\u3002\u968f\u540e\uff0c\u4f9d\u636e\u6307\u4ee4\u7b2c12-14bit\u7684\u503c\uff0c\u8fdb\u4e00\u6b65\u5224\u65ad\u662f\u54ea\u4e00\u6761\u786c\u4ef6\u5faa\u73af\u6307\u4ee4\uff0c\u5e76\u7ed9\u51fa\u8f93\u51fa\u4fe1\u53f7hwloop_we_o\uff0c\u4ee5\u53ca\u4e00\u4e9b\u590d\u7528\u9009\u62e9\u4fe1\u53f7\u7684\u503c\uff0c\u5176\u4e2dhwloop_we_o\u5171\u67093bit\uff0c\u7b2c0bit\u8868\u793a\u662f\u5426\u662f\u8bbe\u7f6e\u5faa\u73af\u6bb5\u8d77\u59cb\u5730\u5740\uff0c\u7b2c1bit\u8868\u793a\u662f\u5426\u662f\u8bbe\u7f6e\u5faa\u73af\u6bb5\u7ed3\u675f\u5730\u5740\uff0c\u7b2c2bit\u8868\u793a\u662f\u5426\u662f\u8bbe\u7f6e\u5faa\u73af\u6b21\u6570\u3002 <pre><code>module riscv_decoder\n(\n......\n\n// from IF/ID pipeline\ninput  logic [31:0] instr_rdata_i,           // instruction read from instr memory/cache\n\noutput logic [2:0]  hwloop_we_o,             // write enable for hwloop regs\noutput logic        hwloop_target_mux_sel_o, // selects immediate for hwloop target\noutput logic        hwloop_start_mux_sel_o,  // selects hwloop start address input\noutput logic        hwloop_cnt_mux_sel_o,    // selects hwloop counter input\n......\n);\nalways_comb\nbegin\n......\n\nhwloop_we                   = 3'b0;\nhwloop_target_mux_sel_o     = 1'b0;\nhwloop_start_mux_sel_o      = 1'b0;\nhwloop_cnt_mux_sel_o        = 1'b0;\n\n.......\n\nunique case (instr_rdata_i[6:0])\nOPCODE_HWLOOP: begin\nhwloop_target_mux_sel_o = 1'b0;\n\nunique case (instr_rdata_i[14:12])\n3'b000: begin\n// \u662flp.starti\u6307\u4ee4:\u8bbe\u7f6e\u5faa\u73af\u6bb5\u8d77\u59cb\u5730\u5740\nhwloop_we[0]           = 1'b1;\nhwloop_start_mux_sel_o = 1'b0;\nend\n\n3'b001: begin\n// \u662flp.endi\u6307\u4ee4:\u8bbe\u7f6e\u5faa\u73af\u6bb5\u7ed3\u675f\u5730\u5740\nhwloop_we[1]         = 1'b1;\nend\n\n3'b010: begin\n// \u662flp.count\u6307\u4ee4:\u8bbe\u7f6e\u5faa\u73af\u6b21\u6570\uff0c\u5176\u503c\u5c31\u5728\u8bfb\u51fa\u7684\u5bc4\u5b58\u5668rega\u4e2d\nhwloop_we[2]         = 1'b1;\nhwloop_cnt_mux_sel_o = 1'b1;\nrega_used_o          = 1'b1;\nend\n\n3'b011: begin\n// \u662flp.counti\u6307\u4ee4:\u8bbe\u7f6e\u5faa\u73af\u6b21\u6570\uff0c\u5176\u503c\u662f\u6307\u4ee4\u4e2d\u7acb\u5373\u6570\u7684\u503c\nhwloop_we[2]         = 1'b1;\nhwloop_cnt_mux_sel_o = 1'b0;\nend\n\n3'b100: begin\n// \u662flp.setup\u6307\u4ee4:\u9700\u8981\u8bbe\u7f6e\u5faa\u73af\u6bb5\u8d77\u59cb\u5730\u5740\u3001\u7ed3\u675f\u5730\u5740\u3001\u5faa\u73af\u6b21\u6570\uff0c\u5176\u4e2d\u5faa\u73af\u6b21\u6570\u8bfb\u51fa\u7684\u5bc4\u5b58\u5668rega\u7684\u503c\nhwloop_we              = 3'b111;\nhwloop_start_mux_sel_o = 1'b1;\nhwloop_cnt_mux_sel_o   = 1'b1;\nrega_used_o            = 1'b1;\nend\n\n3'b101: begin\n// \u662flp.setupi\u6307\u4ee4:\u9700\u8981\u8bbe\u7f6e\u5faa\u73af\u6bb5\u8d77\u59cb\u5730\u5740\u3001\u7ed3\u675f\u5730\u5740\u3001\u5faa\u73af\u6b21\u6570\uff0c\u5176\u4e2d\u5faa\u73af\u6b21\u6570\u662f\u6307\u4ee4\u4e2d\u7acb\u5373\u6570\u7684\u503c\nhwloop_we               = 3'b111;\nhwloop_target_mux_sel_o = 1'b1;\nhwloop_start_mux_sel_o  = 1'b1;\nhwloop_cnt_mux_sel_o    = 1'b0;\nend\n\ndefault: begin\nillegal_insn_o = 1'b1;\nend\nendcase\nEnd\n......\nassign hwloop_we_o       = (deassert_we_i) ? 3'b0          : hwloop_we;\n</code></pre> \u4e0a\u8ff0\u4fe1\u53f7\u9001\u5165\u6d41\u6c34\u7ebf\u8bd1\u7801\u9636\u6bb5\uff0c\u8fdb\u4e00\u6b65\u5904\u7406\uff0c\u4ee3\u7801\u5982\u4e0b\uff0c\u5176\u4e2d\u6700\u7ec8\u786e\u5b9a\u4e86\u8981\u5199\u7684\u786c\u4ef6\u5faa\u73af\u76f8\u5173\u5bc4\u5b58\u5668\u7684\u60c5\u51b5\u3002 <pre><code>  // \u786c\u4ef6\u5faa\u73af\u6709\u4e24\u7ec4\u5bc4\u5b58\u5668\uff0c\u6307\u4ee4\u7684\u7b2c7bit\u8868\u793a\u662f\u8981\u64cd\u4f5c\u54ea\u4e00\u7ec4\u5bc4\u5b58\u5668\nassign hwloop_regid_int = instr[7];   // hwloop target mux\nalways_comb\nbegin\ncase (hwloop_target_mux_sel)\n1'b0: hwloop_target = pc_id_i + {imm_iz_type[30:0], 1'b0};\n1'b1: hwloop_target = pc_id_i + {imm_z_type[30:0], 1'b0};\nendcase\nend\n\n// \u786c\u4ef6\u5faa\u73af\u8d77\u59cb\u5730\u5740\u7684\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd\u662f\u5f53\u524d\u6307\u4ee4\u5730\u5740\u52a0\u4e00\u4e2a\u7acb\u5373\u6570\u7684\u503c\uff0c\u53e6\u4e00\u79cd\u662f\u4e0b\u4e00\u6761\u6307\u4ee4\u5730\u5740\u7684\u503c\nalways_comb\nbegin\ncase (hwloop_start_mux_sel)\n1'b0: hwloop_start_int = hwloop_target;   // for PC + I imm\n1'b1: hwloop_start_int = pc_if_i;         // for next PC\nendcase\nend\n\n// \u786c\u4ef6\u5faa\u73af\u6b21\u6570\u7684\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd\u662f\u7acb\u5373\u6570\uff0c\u53e6\u4e00\u79cd\u662f\u8bfb\u51fa\u7684\u5bc4\u5b58\u5668\u7684\u503c\nalways_comb\nbegin : hwloop_cnt_mux\ncase (hwloop_cnt_mux_sel)\n1'b0: hwloop_cnt_int = imm_iz_type;\n1'b1: hwloop_cnt_int = operand_a_fw_id;\nendcase;\nend\n\n// \u6700\u7ec8\u786e\u5b9a\u8981\u5199\u7684\u786c\u4ef6\u5faa\u73af\u76f8\u5173\u5bc4\u5b58\u5668\u7684\u60c5\u51b5\nassign hwloop_start = hwloop_we_int[0] ? hwloop_start_int : csr_hwlp_data_i;\nassign hwloop_end   = hwloop_we_int[1] ? hwloop_target    : csr_hwlp_data_i;\nassign hwloop_cnt   = hwloop_we_int[2] ? hwloop_cnt_int   : csr_hwlp_data_i;\nassign hwloop_regid = (|hwloop_we_int) ? hwloop_regid_int : csr_hwlp_regid_i;\nassign hwloop_we    = (|hwloop_we_int) ? hwloop_we_int    : csr_hwlp_we_i;\n</code></pre> \u53c2\u8003\u56fe8-21\u53ef\u77e5\uff0c\u4e0a\u8ff0\u4ee3\u7801\u786e\u5b9a\u7684\u4fe1\u53f7\uff0c\u4f1a\u9001\u5165\u5230riscv_hwloop_regs\u6a21\u5757\u5bf9\u5e94\u7aef\u53e3\uff0c\u505a\u8fdb\u4e00\u6b65\u5904\u7406\u3002riscv_hwloop_regs\u6a21\u5757\u5b9e\u9645\u5b9e\u73b0\u4e86\u4e24\u7ec4\u786c\u4ef6\u5faa\u73af\u76f8\u5173\u5bc4\u5b58\u5668\uff0c\u6240\u4ee5\u4e0a\u8ff0\u4fe1\u53f7\uff0c\u4f1a\u4fee\u6539\u8fd9\u4e9b\u786c\u4ef6\u5faa\u73af\u76f8\u5173\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\u3002 <pre><code>module riscv_hwloop_regs\n#(\nparameter N_REGS     = 2,\nparameter N_REG_BITS = $clog2(N_REGS)\n)\n(\ninput  logic                     clk,\ninput  logic                     rst_n,\n\n// from ex stage\ninput  logic           [31:0]    hwlp_start_data_i,\ninput  logic           [31:0]    hwlp_end_data_i,\ninput  logic           [31:0]    hwlp_cnt_data_i,\ninput  logic            [2:0]    hwlp_we_i,\ninput  logic [N_REG_BITS-1:0]    hwlp_regid_i,         // selects the register set\n\n// from controller\ninput  logic                     valid_i,\n\n// from hwloop controller\ninput  logic [N_REGS-1:0]        hwlp_dec_cnt_i,\n\n// to hwloop controller\noutput logic [N_REGS-1:0] [31:0] hwlp_start_addr_o,\noutput logic [N_REGS-1:0] [31:0] hwlp_end_addr_o,\noutput logic [N_REGS-1:0] [31:0] hwlp_counter_o\n);\n\n\nlogic [N_REGS-1:0] [31:0] hwlp_start_q;\nlogic [N_REGS-1:0] [31:0] hwlp_end_q;\nlogic [N_REGS-1:0] [31:0] hwlp_counter_q, hwlp_counter_n;\n\nint unsigned i;\n\n\nassign hwlp_start_addr_o = hwlp_start_q;\nassign hwlp_end_addr_o   = hwlp_end_q;\nassign hwlp_counter_o    = hwlp_counter_q;\n\n// \u8bbe\u7f6e\u786c\u4ef6\u5faa\u73af\u7684\u8d77\u59cb\u5730\u5740\nalways_ff @(posedge clk, negedge rst_n)\nbegin : HWLOOP_REGS_START\nif (rst_n == 1'b0)\nbegin\nhwlp_start_q &lt;= '{default: 32'b0};\nend\nelse if (hwlp_we_i[0] == 1'b1)\nbegin\nhwlp_start_q[hwlp_regid_i] &lt;= hwlp_start_data_i;\nend\nend\n\n// \u8bbe\u7f6e\u786c\u4ef6\u5faa\u73af\u7684\u7ed3\u675f\u5730\u5740\nalways_ff @(posedge clk, negedge rst_n)\nbegin : HWLOOP_REGS_END\nif (rst_n == 1'b0)\nbegin\nhwlp_end_q &lt;= '{default: 32'b0};\nend\nelse if (hwlp_we_i[1] == 1'b1)\nbegin\nhwlp_end_q[hwlp_regid_i] &lt;= hwlp_end_data_i;\nend\nend\n\n// \u8bbe\u7f6e\u786c\u4ef6\u5faa\u73af\u7684\u6267\u884c\u6b21\u6570\uff0c\u5e76\u4e14\u5728\u6bcf\u6b21\u6267\u884c\u4e00\u904d\u540e\uff0c\u5c06\u6267\u884c\u6b21\u6570\u51cf\u4e00\ngenvar k;\nfor (k = 0; k &lt; N_REGS; k++) begin\nassign hwlp_counter_n[k] = hwlp_counter_q[k] - 1;\nend\n\nalways_ff @(posedge clk, negedge rst_n)\nbegin : HWLOOP_REGS_COUNTER\nif (rst_n == 1'b0)\nbegin\nhwlp_counter_q &lt;= '{default: 32'b0};\nend\nelse\nbegin\nfor (i = 0; i &lt; N_REGS; i++)\nbegin\nif ((hwlp_we_i[2] == 1'b1) &amp;&amp; (i == hwlp_regid_i)) begin\nhwlp_counter_q[i] &lt;= hwlp_cnt_data_i;\nend else begin\nif (hwlp_dec_cnt_i[i] &amp;&amp; valid_i)\nhwlp_counter_q[i] &lt;= hwlp_counter_n[i];\nend\nend\nend\nend\n\n// do not decrement more than one counter at once\nassert property (\n@(posedge clk) (valid_i) |-&gt; ($countones(hwlp_dec_cnt_i) &lt;= 1) );\n\nEndmodule\n</code></pre> \u81f3\u6b64\uff0c\u786c\u4ef6\u5faa\u73af\u76f8\u5173\u5bc4\u5b58\u5668\u8bbe\u7f6e\u5b8c\u6bd5\uff0c\u53c2\u8003\u56fe8-21\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\u901a\u8fc7\u63a5\u53e3hwlp_start_o\u3001hwlp_end_o\u3001hwlp_cnt_o\u9001\u5165\u6d41\u6c34\u7ebf\u53d6\u6307\u9636\u6bb5\u7684\u6a21\u5757if_stage\u3002\u540e\u8005\u4f8b\u5316\u4e86riscv_hwloop_controller\u3001riscv_prefetch_buffer\u4e24\u4e2a\u4e0e\u786c\u4ef6\u5faa\u73af\u5b9e\u73b0\u6709\u5173\u7684\u6a21\u5757\u3002 \u53c2\u8003\u56fe8-21\uff0chwlp_start_o\u3001hwlp_end_o\u3001hwlp_cnt_o\u5b9e\u9645\u662f\u76f4\u63a5\u9001\u5165riscv_hwloop_controller\u6a21\u5757\uff0c\u540c\u65f6\u9001\u5165riscv_hwloop_controller\u6a21\u5757\u7684\uff0c\u8fd8\u6709\u5f53\u524d\u6b63\u5728\u8bfb\u53d6\u7684\u6307\u4ee4\u7684\u5730\u5740current_pc_i\u3002riscv_hwloop_controller\u6a21\u5757\u5224\u65adcurrent_pc_i\u662f\u5426\u7b49\u4e8ehwlp_end_o\u4e2d\u7684\u4e00\u4e2a\u503c\uff0c\u5982\u679c\u76f8\u7b49\uff0c\u5e76\u4e14\u5bf9\u5e94\u7684hwlp_cnt_o\u4e0d\u7b49\u4e8e1\uff08\u5b9e\u9645\u5728\u4ee3\u7801\u4e2d\u8df3\u8f6c\u7684\u6761\u4ef6\u6bd4\u8f83\u590d\u6742\uff0c\u7b14\u8005\u4e5f\u6ca1\u6709\u770b\u61c2\u4e3a\u4f55\u5f53hwlp_cnt_o\u7b49\u4e8e2\u7684\u65f6\u5019\uff0c\u8df3\u8f6c\u6761\u4ef6\u662f~hwlp_dec_cnt_id_i[i]\uff09\uff0c\u90a3\u4e48\u5c31\u8df3\u8f6c\u5230\u5faa\u73af\u4ee3\u7801\u7684\u8d77\u59cb\u5730\u5740\uff0c\u4e3b\u8981\u4ee3\u7801\u5982\u4e0b\uff1a <pre><code>module riscv_hwloop_controller\n#(\nparameter N_REGS = 2\n)\n(\n// from id stage\ninput  logic [31:0]              current_pc_i,\n\n// from hwloop_regs\ninput  logic [N_REGS-1:0] [31:0] hwlp_start_addr_i,\ninput  logic [N_REGS-1:0] [31:0] hwlp_end_addr_i,\ninput  logic [N_REGS-1:0] [31:0] hwlp_counter_i,\n\n// to hwloop_regs\noutput logic [N_REGS-1:0]        hwlp_dec_cnt_o,\n\n// from pipeline stages\ninput  logic [N_REGS-1:0]        hwlp_dec_cnt_id_i,\n\n// to id stage\noutput logic                     hwlp_jump_o,\noutput logic [31:0]              hwlp_targ_addr_o\n);\n\n\nlogic [N_REGS-1:0] pc_is_end_addr;\n\n// end address detection\ninteger j;\n\n\n// \u4e0b\u9762\u7684\u4ee3\u7801\u5224\u65ad\u5f53\u524d\u6b63\u5728\u53d6\u7684\u6307\u4ee4\u5730\u5740current_pc_i\u662f\u5426\u7b49\u4e8e\u4efb\u4e00\u786c\u4ef6\u5faa\u73af\u6bb5\u7684\u7ed3\u675f\u5730\u5740\n// \u5982\u679c\u5f53\u524d\u6b63\u5728\u53d6\u7684\u6307\u4ee4\u5730\u5740current_pc_i\u7b49\u4e8e\u4efb\u4e00\u786c\u4ef6\u5faa\u73af\u6bb5\u7684\u7ed3\u675f\u5730\u5740\uff0c\u5e76\u4e14\u5bf9\u5e94\u7684hwlp_cnt_o\u4e0d\u7b49\u4e8e1\n// \u90a3\u4e48\u8bbe\u7f6epc_is_end_addr\u4e3a1\ngenvar i;\ngenerate\nfor (i = 0; i &lt; N_REGS; i++) begin\nalways @(*)\nbegin\npc_is_end_addr[i] = 1'b0;\nif (current_pc_i == hwlp_end_addr_i[i]) begin\nif (hwlp_counter_i[i][31:2] != 30'h0) begin\npc_is_end_addr[i] = 1'b1;\nend else begin\ncase (hwlp_counter_i[i][1:0])\n2'b11:        pc_is_end_addr[i] = 1'b1;\n2'b10:        pc_is_end_addr[i] = ~hwlp_dec_cnt_id_i[i]; // only when there is nothing in flight\n2'b01, 2'b00: pc_is_end_addr[i] = 1'b0;\nendcase\nend\nend\nend\nend\nendgenerate\n\n// \u5982\u679cpc_is_end_addr\u662f1\uff0c\u90a3\u4e48\u8868\u793a\u8df3\u8f6c\u5230\u786c\u4ef6\u5faa\u73af\u6bb5\u7684\u8d77\u59cb\u5730\u5740\u7ee7\u7eed\u6267\u884c\nalways_comb\nbegin\nhwlp_targ_addr_o = 'x;\nhwlp_dec_cnt_o   = '0;\n\nfor (j = 0; j &lt; N_REGS; j++) begin\nif (pc_is_end_addr[j]) begin\nhwlp_targ_addr_o  = hwlp_start_addr_i[j];\nhwlp_dec_cnt_o[j] = 1'b1;\nbreak;\nend\nend\nend\n\n// output signal for ID stage\nassign hwlp_jump_o = (|pc_is_end_addr);\n\nEndmodule\n</code></pre> \u4e0a\u8ff0\u4ee3\u7801\u4e2d\u7684\u8f93\u51fa\u4fe1\u53f7hwlp_jump_o\u3001hwlp_targ_addr_o\u9001\u5165\u56fe8-21\u4e2d\u7684riscv_prefetch_buffer\u6a21\u5757\uff08\u53c2\u80038.3.2\u8282\uff0c\u5982\u679c\u91c7\u7528\u7684\u662f\u914d\u7f6e\u4e8c\uff0c\u5373\u6307\u4ee4\u9884\u53d6Buffer\u7b49\u4e8e\u6307\u4ee4\u7f13\u5b58line\u7684\u5927\u5c0f\uff0c\u6bd4\u5982128\u4f4d\uff0c\u90a3\u4e48hwlp_jump_o\u3001hwlp_targ_addr_o\u5b9e\u9645\u5c06\u9001\u5165riscv_prefetch_L0_buffer\u6a21\u5757\uff09\uff0c\u540e\u8005\u5c06\u6e05\u9664\u5176\u5185\u90e8FIFO\u4e2d\u7684\u5185\u5bb9\uff0c\u7136\u540e\u4ece\u786c\u4ef6\u5faa\u73af\u6bb5\u8d77\u59cb\u5730\u5740\u91cd\u65b0\u53d6\u6307\u586b\u5145FIFO\u3002</p>"},{"location":"ch8/sec4-RI5CY_HardwareLoop/#_1","title":"\u53c2\u8003\u6587\u732e","text":"<p>[1]PULP - An Open Parallel Ultra-Low-Power Processing-Platform, http://iis-projects.ee.ethz.ch/index.php/PULP,2017-8  [2]Florian Zaruba, Updates on PULPino, The 5th RISC-V Workshop, 2016. [3]Michael Gautschi,etc,Near-Threshold RISC-V Core With DSP Extensions for Scalable IoT Endpoint Devices, IEEE Transactions on Very Large Scale Integration Systems [4]Andreas Traber, Michael Gautschi,PULPino: Datasheet,2016.11 [5]http://www.pulp-platform.org/ [6]Andreas Traber,Michael Gautschi,Pasquale Davide Schiavone. RI5CY: User Manual version1.3.  [7]Andreas Traber, etc. PULPino: A small single-core RISC-V SoC. The 4th RISC-V Workshop, 2016.</p>"}]}